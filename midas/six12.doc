                                SIX12
                                =====

			DEBUGGING  CONTROL  MODULE
			--------------------------



	THIS MODULE  CONTAINS THE DRIVER TO ALLOW INTERACTIVE
	DEBUGGING OF A BLISS PROGRAM. ESSENTIALLY THE SERVICE
	PROVIDED BY THIS MODULE IS:


		1. MONITOR THE TTY TO ALLOW THE USER TO 'INTERRUPT'
		   HIS PROGRAM AND ENTER THE DEBUGGING MODE.
		2. PROVIDE ANALYSIS OF THE SYNTAX OF LINES INPUT
		   TO THE DEBUGGER, AND SWITCHING TO ANY OF SEVERAL
		   SPECIFIC DEBUG ROUTINES. A FEW GENERALLY USEFUL
		   DEBUG ROUTINES ARE INCLUDED IN THIS PACKAGE --
		   THE INTENTION, HOWEVER, IS THAT THE USER WILL
		   BUILD HIS OWN ROUTINES TAILORED TO THE PROBLEM
		   AND USE THIS PACKAGE MERELY TO PROVIDE A STANDARD  
		   INTERFACE.



	THE SYNTAX OF INPUT LINES IS:

	<LINE> == <EMPTY>/<ROUTINE><PARM-LIST>
	<ROUTINE> == <* ANY PRINT STRING WITHOUT EMBEDDED BLANKS *>
	<PARM-LIST> == <EMPTY>/<PARM>/<PARM-LIST>,<PARM>
	<PARM> == <EMPTY>/<ATOM>/<PARM>+<ATOM>/<PARM>-<ATOM>
	<ATOM> == <NUMBER>/<DDT-NAME>/*/&/.<ATOM>/
		  <ATOM>[<PARM>]/(<PARM>)
	<NUMBER> == <INPUT-BASE-NUMBER>/#<OCTAL-NUMBER>/#<DECIMAL-NUMBER-IF-INPUT-BASE-OCTAL>
	<DDT-NAME> == <IDENTIFIER>/<IDENTIFIER>(<NUMBER>)


	FOR EXAMPLE, THE FOLLOWING ARE VALID LINES:

		=  X,.X,.13
		_  X(3),2
		GLOP^ 3,#14,.X[.Y],*+1
		THUD  .(Z[.X+1-.P]-.Y),46



	THE INTENDED INTERPRETATION OF AN INPUT LINE IS THAT THE
	NAMED DEBUGGING ROUTINE BE CALLED AND THE SPECIFIED
	PARAMETER VALUES PASSED TO IT. THE INTERPRETATION
	OF THE VARIOUS ATOMS IS:

		1. DECIMAL AND OCTAL CONSTANTS REPRESENT THEMSELVES
		2. DDT-NAMES ARE LOOKED UP IN THE DDT SYMBOL TABLE,
		   THE INTERPRETATION OF SUCH NAMES IS AS IN BLISS -
		   THAT IS, THEY ARE AN ADDRESS
		3. THE SYMBOL "*" IS THE VALUE OF THE POSITIONALLY
		   CORRESPONDING PARAMETER ON THE IMMED. PREVIOUS
		   DEBUG LINE.
 %TYM%         4. THE SYMBOL "&" IS THE ADDRESS OF A SPECIAL
		   "RESULT AREA" -- MAY BE USED BY SOME SPECIFIC
		   DEBUG ROUTINES. DISPLACEMENTS FROM THE "RESULT AREA" MAY
		   BE ADDRESSED FOR CONVENIENCE AS $N WHERE N IS A NUMBER.
		5. THE "." OPERATOR IS INTERPRETED AS THE "@" IN BLISS.
		6. THE SYMBOLS "[" AND "]" DENOTE INTEGRAL WORD 
		   DISPLACEMENTS -- IE, E1[E2] = (E1+E2).
               7. SYMBOLS OF THE FORM <NAME>(<POSITIVE-INTEGER>)
                  DENOTE THE VALUE OF THE NTH SYMBOL TABEL ENTRY
                  FOR THE <NAME>.  SEE THE PRS COMMAND FOR LISTING
                  ALL ENTRIES TO FIND THE ONE YOU WANT.


	NOTE:
	    IF, AT ANY TIME DURING EXECUTION, ANY CHARACTER IS
	TYPED ON THE TTY THE DEBUG PACKAGE WILL SHORTLY INTERCEPT
	CONTROL AND WAIT FOR THE USER TO COMPLETE THE DEBUG LINE.



	USER-SPECIFIC DEBUGGING ROUTINES MAY BE EASILY ADDED TO
	THE COLLECTION CURRENTLY PROVIDED AS FOLLOWS:
		
		1. WRITE THE ROUTINE TO ACCEPT ITS INPUT PARAMETERS
		   FROM THE ARRAY "DEBUGPARMS". NOTE THENUMBER OF PARMS
		   IS IN "NDEBUGPARMS".
		2. ADD TO THE PLIT, "DEBUGROUTS", A PRINT-NAME AND
		   THE ACTUAL ROUTINE NAME.


	THE SET OF DEBUG ROUTINES PROVIDED IN THIS VERSION ARE:

		= P1,...,PN	PRINT THE VALUES OF P1,...,PN
		/ P1,P2		PRINT THE VALUES OF P1,...,P1+P2-1
 %TYM%                         P2 DEFAULTS TO 1 IF IT IS OMITTED
		_ P1,P2		ASSIGN P1_P2
               " P1,P2         PRINT P2 SUCCESSIVE WORDS IN ASCII STARTING
                               AT P1 USING BLISS CONVENTION FOR CONTROL CHARS.
                               P2 DEFAULTS TO 1 IF IT IS MISSING.  IF BIT 35
                               IS ON IN A WORD ' /1' IS PRINTED AFTER IT.
		<EMPTY>		NO ACTION
		DDT		CALL DDT (IN CMU-DDT AN $P IN
				DDT WILL CAUSE RESUMPTION IN DEBUG MODE)
		GO		RESUME EXECUTING USER PROGRAM
		BREAK P1,...,PN SET BREAK POINTS AT THE HEADS OF
				ROUTINES P1,...,PN. THIS IS A BREAK
				TO THIS DEBUG SYSTEM (NOT DDT).
		DBREAK P1,..,PN REMOVE BREAK POINTS SET AS ABOVE.
		ABREAK P1,,,PN	SET BREAK POINTS AT THE EXIT OF ROUTINES
				P1,,,PN. THIS IS A BREAK TO THE DEBUG
				SYSTEM (NOT DDT). THE VREG IS PRINTED.
		DABREAK P1,,,PN	REMOVE ABREAK POINTS SET AS ABOVE.
		CALLS		DISPLAY THE STACK OF ROUTINE CALLS
		CALL+		DISPLAY CALL STACK AND LOCALS --
				THE LATTER MAY NOT BE VERY USEFUL
				UNLESS THE USER IS VERY FAMILIAR
				WITH THE BLISS RUN-TIME ENVIRONMENT.
		CALL N		PRINT THE LAST N CALLS ON STACK. IF
				IF N IS OMITTED, PRINT LAST CALL.
		LCALL N		SAME AS ABOVE BUT ALSO DISPLAYS LOCALS.
		IBASE N		SETS THE INPUT NUMBER BASE TO N (N IS ALWAYS DECIMAL)
				(1<N<11). NOTE THAT # IMMEDIATELY
				PRECEEDING A NUMBER ALWAYS MEANS OCTAL
				INPUT EXCEPT WHEN THE DEFAULT BASE IS
				OCTAL, IN WHICH CASE # MEANS DECIMAL.
				IF N IS OMITTED IT PRINTS THE CURRENT
				INPUT BASE IN DECIMAL.
		OBASE N		SETS THE OUTPUT NUMBER BASE TO N (N IS ALWAYS DECIMAL)
				(1<N<11). IF N IS OMITTED IT PRINTS
				THE OUTPUT BASE IN DECIMAL.
		WBASE N		SETS THE MAXIMUM SIZE OF DISPLACEMENT
				THAT WILL BE PRINTED IN 'BASE+DISPLACEMENT'
				OUTPUT TO N. (W IS FOR WULF FOR HISTORICAL
				REASONS.)  INITIALLY SET 1000(OCTAL).
				IF N IS OMITTED, THE CURRENT WBASE IS
				PRINTED IN THE CURRENT OUTPUT BASE.
		SETTRACE	TURNS ON TRACE MODE. WILL DISPLAY
				CALL STACK FOR ROUTINES AS THEY
				ARE ENTERED AND LEFT.
		TRACE		EQUIVALENT TO SETTRACE + GO.  EXECUTION
				IS RESUMED IN TRACE MODE.  TRACE MODE
				ENDS WHEN ANYTHING IS TYPED AT THE TERMINAL
				OR A BREAK POINT IS REACHED.
		EX P1,...,PN	CALL THE PROCEDURE NAMED P1 WITH
				PARAMETERS P2,...,PN. (N<6)
				RETURNS THE VALUE IN "$".
		EV P1,...,PN	CALL THE PRECEDURE NAMED P2 WITH
				PARAMETERS P3,...,PN. (N<7)
				THE VALUE IS PLACED IN THE LOCATION 
				SPECIFIED BY P1.
		PRS P1,,,PN	PRINTS A LIST OF ALL DDT SYMBOL TABLE
				ENTRIES FOR P1,,,PN.
		DISABLE		TURNS OFF TYPEIN MONITORING, ALLOWS TYPE-AHEAD.
				TO RESUME TYPEIN MONITORING ENTER
				DDT AND DO PUSHJ SIXENABLE$X.
		OPAQUE P1,..,PN	MAKES THE NAMED ROUTINES OPAQUE TO TRACING,
				I.E., IF THE ROUTINE IS ENTERED WITH TRACING TURNED
				ON, TRACING IS TURNED OFF UNTIL THE MATCHING ROUTINE
				EXIT IS ENCOUNTERED.  ALL OPAQUE FLAGS ARE RESET IF
				A BREAK OR TTY INTERUPT OCCURS.
		DOPAQUE P1,.,PN	UNDOES THE EFFECT OF OPAQUE, I.E. THE
				NAMED ROUTINES ARE NO LONGER OPAQUE.
		MONITOR P1,,PN	MONITORS THE LOCATIONS P1,,PN. IF
				VALUE CHANGES, TELLS WHERE AND HOW.
		DMONITOR P1,,PN	TURNS OFF MONITORING.



	NOTE:
	    IN ORDER TO USE THIS PACKAGE THE MODULES TO BE
	DEBUGGED MUST BE COMPILED WITH THE PROPER COMPILATION
	CONTROL, NAMELY:

		1. "TIMER=EXTERNAL(SIX12)" MUST APPEAR IN THE MODULE HEAD.
		2. EITHER "/F/T" MUST BE USED IN THE COMMAND STRING,
		   OR "FSAVE,TIMING" MUST APPEAR IN THE MODULE HEAD.

	USE NOTES:

	    1.  DIFFERENT EFFECTS CAN BE CREATED FOR EXECUTION BY USE OF THE
               TYMEX COMMANDS EXECUTE, TRY AND DEBUG:
                 EXECUTE - LOADS AND RUNS THE PROGRAM WITH SIX12, BUT NO SYMBOLS
                 TRY     - LOADS AND TRANSFERS CONTROL TO SIX12 WITH SYMBOLS
                 DEBUG   - LOADS AND TRANSFERS CONTROL TO DDT.  ;G WILL GO
                           TO SIX12 COMMAND LEVEL.

           2.  SIXGO;G WILL RETURN TO SIX12 IF DDT HAS BEEN CALLED
                   FROM SIX12.
