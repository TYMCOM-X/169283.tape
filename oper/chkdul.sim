 GLOBAL %CHKDUL
BASE 0

%CHKDUL
LOCAL DUL.ERR:,CH.DUL,BLK(128),INDEX,BLKNO
START:IOCS(2)
\\->START
CH.DUL _ OPEN('(SYS)DUL.SYS',DIRECT+INPUT+WORD,DUL.ERR)
BLKNO _ 0
LOOP DO
	RB(CH.DUL,128,BLK); INC BLKNO; INDEX _ 0
	FOR INDEX _ 0 TO 126 BY 3 IF BLK(INDEX)<0 THEN GO OVERFL
END
DUL.ERR: MSG('REACHED END OF FILE.'); EXIT
OVERFL: MSG('FOUND OVERFLOW BLOCK.'); EXIT
END CHKDUL
