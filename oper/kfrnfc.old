MODULE KFRNFCB(DOLLAR,ENTRIES=($KFRNFCB),FSAVE,TIMING,TIMER=EXTERNAL(SIX12))=
BEGIN

REQUIRE KDEFS.BLI[7,107355];

UNDECLARE $KFRNFCB, $KFRNFC, $KFRNF;

GLOBAL ROUTINE $KFRNFCB(AREAN)=
   BEGIN
   REGISTER KFCB$ FCB;
   LOCAL    KFCB$ CHAINHEAD,
            NEXTFCB;

   CHAINHEAD _ KFCBC$<0,0>;
   FCB _ .CHAINHEAD[K$RCHAIN];
   WHILE (.FCB)<0,0> NEQ KFCBC$<0,0> DO
     BEGIN
     NEXTFCB _ .FCB[K$RCHAIN];
     IF .FCB[K$AREA] NEQ .AREAN THEN
        $KLOSE(.FCB);
     FCB _ .NEXTFCB
     END

   END;

END
ELUDOM
