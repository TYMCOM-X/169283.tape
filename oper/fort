   .TITLE ISHFT
   .ENT ISHFT
 .EXTD .FRET,.CPYL,.FCAL
 .EXTN ERMES
 .TXTM 1
 .NREL
 IN= -167
 N = IN+1
 OUT = N+1
 FS. = OUT+167+1
 FS.
ISHFT: JSR @.CPYL
 LDA 0,@N,3
 MOVL# 0,0,SZC
 JMP ISHER
 LDA 1,C20
 SUBZ 0,1,SNC
 JMP ISHER
 NEG 0,0,SNR
 JMP ISHER
 LDA 1,@IN,3
 MOVZR 1,1
 INC 0,0,SZR
 JMP .-2
ISH2: STA 1,@OUT,3
 JSR @.FRET
ISHER: JSR @.FCAL
 ERMES
 1
 ISHMS
 SUB 1,1
 JMP ISH2
ISHMS: .TXT "IMPROPER SHIFT COUNT"
C20: 20
.END

