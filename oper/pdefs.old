SWITCHES NOLIST;
UNDECLARE $$$;
%
THIS IS THE MIDAS-1 UNIVERSAL FILE PDEFS.BLI
   FOR SYMBOLS USING THE <LETTER> P.

DEFINITIONS OF STRUCTURES, MACROS, BINDS, ETC
  WHICH ARE USED BY MORE THAN ONE MIDAS MODULE
  ARE DEFINED HERE WITH  NAMES CORRESPONDING 
  TO THE CONVENTIONS OUTLINED IN SECTION
  1.9.4 PART E.

THE MAJORITY OF BLISS MODULES WILL BE COMPILED
  USING ONE OF THESE UNIVERSAL FILES.  THE FIRST EXPRESSION
  IN THE BLOCK HEADING WILL GENERALLY BE A REQUIRE
  STATEMENT:
       REQUIRE (MIDAS)PDEFS.BLI;

THE MACROS IN THIS FILE ARE TERMINATED WITH THE CHARACTER
AMPERSTAND:  &
THE NAMES IN THIS FILE CONTAIN DOLLAR SIGNS:  $
CONSEQUENTLY, THE MODULE HEADER OF ALL MODULES USING THIS
FILE MUST CONTAIN THE "DOLLAR" MODULE-PARAMETER.
%


EXTERNAL
   P$$$,        % DUMMY ROUTINE TO CAUSE LOADING OF PSGM %
   PS$$$,       % DUMMY ROUTINE TO CAUSE LOADING OF SSGM %
   $PARSE,      % ENTRY TO PARSER %
   $PGARB,      % GARBAGE COLLECT A SYNTAX TREE %
   $PSERR,      % STACK SYNTAX ERROR %
   $PGTND;      % GET NODE FOR SYNTAX TREE %

EXTERNAL %PARSER GLOBALS%
   PTRF$,   %FILECB FOR TRACE OUTPUT (OR 0 FOR TERMINAL)%
   PTRC$,   %CODE FOR WHICH PARSER TRACES ARE ON%
   PNDS$,   % STOP NODE FOR PARSER TRACE %
   PTKNW$,  %POINTER TO TOKEN WINDOW%
   PCTKN$,  %POINTER TO CURRENT TOKEN%
   PTKNI$,  % ARRAY INDEX OF CURRENT TOKEN %
   PLTKI$,  % ARRAY INDEX OF LAST TOKEN IN WINDOW %
   PMTKC$,  % NUMBER OF TOKENS WINDOW CAN HOLD %
   PERRL$,  %POINTER TO TOP OF ERROR STACK%
   PROUT$,  %POINTER TO ARRAY OF SEMANTIC ROUTINES%
   P$,      %ADDRESS OF MIDAS LANGUAGE SYNTAX GRAPH%
   P$$ROUT, %VECTOR OF MIDAS SYNTAX ROUTINES CALLED BY PARSER%
   PGRAF$;  %POINTER TO BASE OF PARSE GRAPH%

%
DEFINITIONS OF STRUCTURES FOR SYNTAX GRAPH AND TREE
%

%  SYNTAX GRAPH DEFINITION %

% 1) FIELD IDENTIFICATION VALUES %

BIND    P$TYPE  =0,
        P$REDUCE=1,
        P$NOSAVE=2,
        P$NOBACKUP=3,
        P$SEM   =4,
        P$RESCAN=5,
        P$ACTF  =6,
        P$ERRF  =7,
        P$DEF   =8,
        P$TID   =8,
        P$ERRNDE=9,
        P$ACTION=10,
        P$ALT   =11,
        P$LKFOR =12,
        P$SUC   =12,
        P$ALTN  =11,
        P$ERRNUM=9,
        P$ERRDEF=8,
        P$ACT   =13,
        P$ROUT  =9,
        P$INTIX =12,
        P$INTL  =14,
        P$LOWT  =11,
        P$HIGHT =12,
        P$SUBF  =4,
        P$SUBID =8,
        P$DEFV  =10;

% 2) DEFINITION OF FIELD VALUES %

BIND
        PV$SIGMA=0,
        PV$PHI  =4095,
        PV$NONE =0,
        PV$NEW  =1,
        PV$ADD  =2,
        PV$UP   =3,
        PV$APPND=4,
        PV$SIZE =2,
        PV$MAXTYP =9,
        PV$TERM =0,
        PV$NTERM=1,
        PV$NULL =2,
        PV$CRATE =3,
        PV$ANY  =4,
        PV$JUMP =5,
        PV$ACTION=7,
        PV$INTND=8,
        PV$ERR  =9,
        PV$NTANY =6;

% 3) STRUCTURE FOR SYNTAX GRAPH %

STRUCTURE PS$ [FIELD]=

   CASE .FIELD OF SET

        (@.PS$+0)<31, 5>;  % TYPE %
        (@.PS$+0)<30, 1>;  % REDUCE %
        (@.PS$+0)<29, 1>;  % NOSAVE %
        (@.PS$+0)<28, 1>;  % NOBACKUP %
        (@.PS$+0)<27, 1>;  % SEM SUBF %
        (@.PS$+0)<26, 1>;  % RESCAN %
        (@.PS$+0)<25, 1>;  % ACTF %
        (@.PS$+0)<24, 1>;  % ERRF %
        (@.PS$+0)<12,12>;  % SUBID ERRDEF DEF TID %
        (@.PS$+0)< 0,12>;  % ERRNDE ROUT ERRNUM %
        (@.PS$+1)<24,12>;  % ACTION DEFV %
        (@.PS$+1)<12,12>;  % ALTN ALT LOWT %
        (@.PS$+1)< 0,12>;  % INTIX LKFOR SUC HIGHT %
        (@.PS$+0)<28, 3>;  % ACT %
        (@.PS$+1)< 0,36>   % INTL %

     TES;

%
END OF MIDAS-1 UNVERSAL FILE: (MIDAS)PDEFS.BLI
%
SWITCHES LIST;
