BCDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:03.783

BC	00000	000000	00010	C * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
BC	      	      	00050	*
BC	      	      	00060	*                  MIC VERSION OF COMPAK
BC	      	      	00070	*
BC	      	      	00080	*                  W.S. HILL      10/72
BC	      	      	00090	*
BC	      	      	00100	*
BC	      	      	00110	*                  MODIFIED FOR RMS-1   WSH  4/73
BC	      	      	00120	*
BIAORC	00001	      	00130	IAOR	I	0120	INDIRECT ADDRESS COUNTER
BC	00120	      	00135		L	1000	LITERAL ADDRESS COUNTER
BXC	      	000001	00140	X	E	1
BBC	      	000002	00150	B	E	2
BC	01000	      	00160		R	0
BC	00000	005000	00170		NOP	MOVE START LOC TO LOC 2 (PATCH WILL NOT
BC	00001	005000	00180		NOP	ALLOW XFR TO LOC 0)
BFRESHC	00002	002000	00190		JMPM	FRESH	FOR START FROM LOC 2
BC	00003	004460	
BEXCQC	00004	001000	00200		JMP	EXCQ	GO TO THE EXECUTIVE LOOP
BC	00005	001117	
BHALTC	00006	000000	00210	HALT	0	HALT SUBROUTINE
BP0C	00007	000000	00220	P0	0
BC	      	      	00230	*      SYSTEM CONSTANTS
BP1C	00010	000001	00240	P1	1
BP2C	00011	000002	00250	P2	2
BP3C	00012	000003	00260	P3	3
BP4C	00013	000004	00270	P4	4
BP5C	00014	000005	00280	P5	5
BP6C	00015	000006	00290	P6	6
BP7C	00016	000007	00300	P7	7
BP8C	00017	000010	00310	P8	8D
BP9C	00020	000011	00320	P9	9D
BM0C	00021	100000	00330	M0	0100000
BM1C	00022	177777	00340	M1	-1
BM2C	00023	177776	00350	M2	-2
BM3C	00024	177775	00360	M3	-3
BM4C	00025	177774	00370	M4	-4
BM5C	00026	177773	00380	M5	-5
BM6C	00027	177772	00390	M6	-6
BM7C	00030	177771	00400	M7	-7
BB40C	00031	000040	00410	B40	040
BB60C	00032	000060	00420	B60	060
BB77C	00033	000077	00430	B77	077
BB100C	00034	000100	00440	B100	0100
BB160C	00035	000160	00450	B160	0160
BB177C	00036	000177	00460	B177	0177
BB200C	00037	000200	00470	B200	0200
BB377C	00040	000377	00480	B377	0377
BB5000C	00041	005000	00490	B5000	05000
BC	00042	      	00500		R	044
BCLKC	00044	040045	00510		INR	CLK	INCEMENT ACTUAL CLOCK
BCLKC	00045	030000	00520	CLK	030000	ACTUAL CLOCK
BCLKIC	00046	002000	00530		JMPM	CLKI
BC	00047	000350	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:04.566

BC	      	      	00540	*      SYSTEM TEMPORARIES AND POINTERS
BSFTRC	00050	000000	00550	SFTR	0	SFTR THRU T6 ARE ZEROED BY IPAK
BPTR0C	00051	000000	00560	PTR0	0
BPTR1C	00052	000000	00570	PTR1	0
BPTR2C	00053	000000	00580	PTR2	0
BPTR3C	00054	000000	00590	PTR3	0
BPTR4C	00055	000000	00600	PTR4	0
BPTR5C	00056	000000	00610	PTR5	0
BPTR6C	00057	000000	00620	PTR6	0
BPTR7C	00060	000000	00630	PTR7	0
BPTR8C	00061	000000	00640	PTR8	0
BPTR9C	00062	000000	00650	PTR9	0
BTC	00063	000000	00660	T	0
BT1C	00064	000000	00670	T1	0
BT2C	00065	000000	00680	T2	0
BT3C	00066	000000	00690	T3	0
BT4C	00067	000000	00700	T4	0
BT5C	00070	000000	00710	T5	0
BT6C	00071	000000	00720	T6	0
BC	      	      	00730	*
BC	      	      	00740	*      ROUTINE TO DUMP 620 CORE INTO THE 940
BC	      	      	00750	*      ENTER WITH A=STARTING 620 ADDRESS AND B=FINAL ADDRESS
BC	      	      	00760	*      DONT HIT SYSTEM REE BEFORE STARTING PROGRAM
BDVARC	00072	001000	00770		JMP	DVAR	GO TO DUMP ROUTINE
BC	00073	006540	
BC	      	      	00780	*
BC	      	      	00790	*
BC	      	      	00800	*   THE FOLLOWING TWO INTERRUPTS SHOULD NOT OCCUR
BC	      	      	00810	*
BSCRIHALTC	00074	002000	00820	SCRI	JMPM	HALT	A SPEC CHAR INT. HAS BEEN RECVD FROM SMC
BC	00075	000006	
BC	      	      	00830	*
BBIC1HALTC	00076	002000	00840	BIC1	JMPM	HALT	AN INT. HAS BEEN RECVD FROM BIC 1
BC	00077	000006	
BC	      	      	00850	*
BC	00100	      	00860		R	0100
BSCRIC	00100	002000	00870		JMPM	SCRI	SPECIAL CHAR RECVD INT (SMC)
BC	00101	000074	
BPINTPBITC	00102	002000	00880	PINT	JMPM	PBIT	SMC CHAR REC'D INTERRUPT
BC	00103	002114	
BC	00104	005000	00890		NOP	INPUT BUFFER READY (AMC) INTERRUPT
BC	00105	005000	00900		NOP
BC	00106	005000	00910		NOP	OUTPUT BUFFER READY (AMC) INTERRUPT
BC	00107	005000	00920		NOP	NOT USED
BBIC1C	00110	002000	00930		JMPM	BIC1	BIC1 TRANSFER COMPLETE INTERRUPT(UNUSED)
BC	00111	000076	
BMSINTC	00112	002000	00940		JMPM	MSINT	BIC 2 TRANSFER COMPLETE INTERRUPT
BC	00113	003342	
BTTYINC	00114	002000	00950		JMPM	TTYIN	TTY READ INTERRUPT
BC	00115	001617	
BTTYOUTC	00116	002000	00960		JMPM	TTYOUT	TTY WRITE INTERRUPT
BC	00117	001720	
BC	00120	      	00970		R	0350
BCLKIC	00350	000000	00980	CLKI	0	REAL TIME CLOCK INTERRUPT
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:05.133

BC	00351	100247	00990		EXC	0247	DISABLE MAJOR CLOCK INTERRUPT
BRCSAC	00352	050556	01000		STA	RCSA	SAVE A
BC	00353	006010	01010		LDAI	036030
BC	00354	036030	
BCLKC	00355	050045	01020		STA	CLK	REE MINOR INTERRUPT TO FIRE EVERY SEC
BC	00356	005111	01030		INC	A,A	TURN ON TIME-OUT ROUTINE
BCLOKC	00357	051100	01040		STA	CLOK
BRCSAC	00360	010556	01050		LDA	RCSA	RESTORE REGISTERS
BC	00361	100147	01060		EXC	0147	ENABLE CLOCK
BC	00362	100240	01070		EXC	0240	ENABLE PIM
BCLKIC	00363	001000	01080		JMP	CLKI+.	JMPRN
BC	00364	100350	
BC	      	      	01090	*
BC	      	      	01100	*      TIME-OUT ROUTINE - TURNED ON BY 1 SEC CLOCK INTERRUPT ROUTINE
BC	      	      	01110	*
BTIMOC	00365	000000	01120	TIMO	0
BC	00366	005001	01130		TZA
BCLOKC	00367	051100	01140		STA	CLOK	REE TURN ON FLAG
BRNP3C	00370	005000	01150	RNP3	NOP	NOP CHANGED TO JMPM SRDY BY PREP
BC	00371	005000	01160		NOP	REE TO NOP BY IPAK AND 'OFF' KEY-IN
BC	      	      	01170	*                              AND IN CKR2 WHEN 1108 TIMES OUT
BCLK4C	00372	040561	01180		INR	CLK4	CLK4 IS THE 940 TIME OUT
BCLK4C	00373	010561	01190		LDA	CLK4
BC	00374	006140	01200		SUBI	0264	TIMEOUT LIMIT (3 MIN)
BC	00375	000264	
BCKR5C	00376	001002	01210		JAP	CKR5	TIMEOUT OCCURED
BC	00377	000460	
BTO08C	00400	010564	01220		LDA	TO08	IS 1108 TIME-OUT ACTIVE
BCHC5C	00401	001004	01230		JAN	CHC5	NO
BC	00402	000411	
BCLK2C	00403	040557	01240		INR	CLK2	YES - BUMP CLK2
BCLK2C	00404	010557	01250		LDA	CLK2	CLK2 IS THE 1108 TIME OUT
BEXSTC	00405	006140	01260		SUBI	EXST	TEST WAITTIME FOR 1108
BC	00406	000454	
BCKR2C	00407	001002	01270		JAP	CKR2	CONSIDER REMOTE SITE DOWN
BC	00410	000437	
BCHC5CLK6C	00411	010562	01280	CHC5	LDA	CLK6	ARE WE WAITING ON 1108 TO ACK DATA
BCKR4C	00412	001004	01290		JAN	CKR4	NO
BC	00413	000430	
BCLK6C	00414	040562	01300		INR	CLK6	YES - BUMP TIMER
BCLK6C	00415	010562	01310		LDA	CLK6
BEXSTC	00416	006140	01320		SUBI	EXST	HAS IT BEEN 5 MINUTES YET
BC	00417	000454	
BCKR4C	00420	001004	01330		JAN	CKR4	NO
BC	00421	000430	
BTTYMSGC	00422	010120	01340		LDA	=TTYMSG	TYPE 'RTRY2'
BMT7C	00423	020121	01350		LDB	=MT7
BQ0YC	00424	002000	01360		JMPM	Q0Y
BC	00425	000657	
BCKR2C	00426	001000	01370		JMP	CKR2	GO DISCONNECT 1108
BC	00427	000437	
BCKR4MPOLC	00430	010570	01380	CKR4	LDA	MPOL	IS MIC POLLING
BCKR6C	00431	001004	01390		JAN	CKR6	NO
BC	00432	000435	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:05.833

BC	00433	005111	01400		INC	A,A	YES - TURN ON IAMC ROUTINE
BIAMFC	00434	051101	01410		STA	IAMF
BCKR6TIMOC	00435	001000	01420	CKR6	JMP	TIMO+.	JMPRN
BC	00436	100365	
BCKR2C	00437	006010	01430	CKR2	LDAI	0377	1108 HAS TIMED OUT - INHIBIT INTERRUPTS
BC	00440	000377	
BCITMC	00441	002000	01440		JMPM	CITM
BC	00442	004442	
BCLKMC	00443	050566	01450		STA	CLKM	SAVE OLD MASK
BC	00444	005311	01460		DEC	A,A
BBELLC	00445	051076	01470		STA	BELL	PUT BELL ON QUEUE
BC	00446	005001	01480		TZA
BCOMFC	00447	057001	01490		STA	COMF	REE COMMUNICATIONS ESTABLISHED FLAG
BSHUTC	00450	002000	01500		JMPM	SHUT
BC	00451	000472	
BCLKMC	00452	010566	01510		LDA	CLKM	RESTORE PIM MASK
BMTICC	00453	002000	01520		JMPM	MTIC
BC	00454	004452	
BC	00455	100240	01530		EXC	0240	ENABLE PIM
BTIMOC	00456	001000	01540		JMP	TIMO+.	JMPRN
BC	00457	100365	
BCKR5MT8C	00460	020122	01550	CKR5	LDB	=MT8	PRINT '940 DISCONNECT'
BTTYMSGC	00461	010120	01560		LDA	=TTYMSG
BQ0YC	00462	002000	01570		JMPM	Q0Y
BC	00463	000657	
BC	00464	005311	01580		DEC	A,A
BBELLC	00465	051076	01590		STA	BELL	TURN ON BELL RINGING
BDOWNC	00466	051077	01600		STA	DOWN	STOP EVERYTHING BUT BELL RINGING
BC	00467	100247	01610		EXC	0247	TURN OFF CLOCK
BTIMOC	00470	001000	01620		JMP	TIMO+.	JMPRN
BC	00471	100365	
BC	      	      	01630	*
BEXSTC	      	000454	01640	EXST	E	300D	5 MIN TIMEOUT
BC	      	      	01650	*
BC	      	      	01660	*
BC	      	      	01670	************************************************************
BC	      	      	01680	*
BC	      	      	01690	*        SHUT DOWN ROUTINE
BC	      	      	01700	*        USED WHEN 1108 TIMES OUT OR WHEN OFF IS KEYED-IN
BC	      	      	01710	*
BC	      	      	01720	*        SUBROUTINES USED
BC	      	      	01730	*        IPAK , Q0Y
BC	      	      	01740	*
BSHUTC	00472	000000	01750	SHUT	0
BC	00473	005311	01760		DEC	A,A
BD118C	00474	050563	01770		STA	D118	E SHUT HAS BEEN JMPMED FLAG
BTO08C	00475	050564	01780		STA	TO08	TURN OFF 1108 TIME-OUT
BWFDCC	00476	053427	01790		STA	WFDC	E WAIT FOR DISCONNECT FLAG
BC	      	      	01800	*                              CLOCK
BIPAKC	00477	002000	01810		JMPM	IPAK
BC	00500	004535	
BC	00501	005311	01820		DEC	A,A	E SEND DISCONNECT MSG FLAG
BDISFC	00502	050565	01830		STA	DISF
BP1C	00503	010010	01840		LDA	P1
BMSG28DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:06.833

BC	00504	051105	01850		STA	MSG28
BTTYMSGC	00505	010120	01860		LDA	=TTYMSG	PRINT '1108 DISCONNECT'
BMT28C	00506	020123	01870		LDB	=MT28
BQ0YC	00507	002000	01880		JMPM	Q0Y
BC	00510	000657	
BSHUTC	00511	001000	01890		JMP	SHUT+.
BC	00512	100472	
BC	      	      	01900	*
BC	      	      	01910	*****************************************************************
BC	      	      	01920	*
BC	      	      	01930	*      SRDY    SUBROUTINE USED TO SEND READY SIGNALS TO 1108.
BC	      	      	01940	*              THIS SUBROUTINE IS ALSO USED TO SEND NACK'S TO
BC	      	      	01950	*              1108 IF CLK3 TIMES OUT (THIS IS DONE BY CHANGING
BC	      	      	01960	*              LOC. SRD2+2 FROM REDY TO NACK IN THE C08RDY
BC	      	      	01970	*              ROUTINE)
BC	      	      	01980	*      W. L. FRANZ   SHELL DEVELOPMENT CO.
BC	      	      	01990	*
BSRDYC	00513	000000	02000	SRDY	0
BCLK3C	00514	040560	02010		INR	CLK3
BCLK3C	00515	010560	02020		LDA	CLK3
BSRC1RDYPC	00516	006140	02030	SRC1	SUBI	RDYP	SUBTRACT READY PERIOD(CHANGED TO
BC	00517	000011	
BC	      	      	02040	*                              SUBI 10 BY C08RDY)
BSRD1C	00520	001002	02050		JAP	SRD1	IS IT TIME TO SEND A READY(OR A NACK)
BC	00521	000524	
BSRDYC	00522	001000	02060		JMP	SRDY+.	NO. JMPRN
BC	00523	100513	
BSRD1MSG28C	00524	011105	02070	SRD1	LDA	MSG28	YES. SEND READY(OR NACK)
BSRD4C	00525	001010	02080		JAZ	SRD4	IS MSG28 OFF
BC	00526	000533	
BSRD3C	00527	005001	02090	SRD3	TZA	IF NOT
BCLK3C	00530	050560	02100		STA	CLK3	REE CLOCK AND JMPRN
BSRDYC	00531	001000	02110		JMP	SRDY+.
BC	00532	100513	
BSRD4DACKC	00533	012757	02120	SRD4	LDA	DACK	IS DIFFERED ACK FLAG E
BSRD3C	00534	001004	02130		JAN	SRD3	YES - REE CLOCK AND JMPRN
BC	00535	000527	
BTMFLC	00536	012762	02140		LDA	TMFL	IS WAITIMG TO SEND DATA TO 1108 E
BSRD3C	00537	001004	02150		JAN	SRD3	YES - REE CLOCK AND JMPRN
BC	00540	000527	
BC	00541	100440	02160		EXC	0440	NO - INHIBIT INTERRUPTS
BSRD2C	00542	005111	02170	SRD2	INC	A,A
BREDYC	00543	006020	02180		LDBI	REDY	PUT MSG28 ON QUEUE
BC	00544	002776	
BC	      	      	02190	*                              REDY MESSAGE ADDRESS PUT HERE BY 'RDY'
BC	      	      	02200	*                              KEYIN \ IPAK.CHANGED TO NACK BY C08RDY
BMSG28C	00545	051105	02210		STA	MSG28	E READY AS INITIAL RESPONSE
BRESPC	00546	062713	02220		STB	RESP
BC	00547	100240	02230		EXC	0240	PERMIT INTERRUPTS
BTTYMSGC	00550	010120	02240		LDA	=TTYMSG	PRINT 'S2' IF SS3 UP
BMT9C	00551	020124	02250		LDB	=MT9
BQ0YC	00552	002400	02260		JS3M	Q0Y
BC	00553	000657	
BSRD3C	00554	001000	02270		JMP	SRD3	JMPRN
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:07.466

BC	00555	000527	
BC	      	      	02280	*
BRCSAC	00556	000000	02290	RCSA	0
BCLK2C	00557	000000	02300	CLK2	0	1108D TIMEOUT CLOCK
BCLK3C	00560	000000	02310	CLK3	0	READY CLOCK
BCLK4C	00561	000000	02320	CLK4	0	940 TIMEOUT CLOCK
BCLK6C	00562	177777	02330	CLK6	-1	WAITING FOR 1108 TO ACK DATA CLOCK
BRDYPC	      	000011	02340	RDYP	E	9D	READY PERIOD
BD118C	00563	      	02350	D118	R	*+1	SHUT HAS BEEN JMPMED FLAG
BTO08C	00564	      	02360	TO08	R	*+1	1108 TIME-OUT FLAG (=0, ACTIVE)
BDISFC	00565	      	02370	DISF	R	*+1	SEND DISCONNECT MESSAGE FLAG
BCLKMC	00566	      	02380	CLKM	R	*+1	STORAGE FOR PIM MASK
BPBUFC	00567	      	02390	PBUF	R	*+1	PHONE INTERRUPT BUFFER POINTER
BMPOLC	00570	      	02400	MPOL	R	*+1	MIC POLLING FLAG
BMCWAC	00571	000270	02410	MCWA	0270	940 ADDRESS OF MIC CONTROL WORD
BADDBC	00572	000271	02420	ADDB	0271	940 ADDRESS OF MIC DATA BUFFER ADDRESS
BMMADC	00573	034000	02430	MMAD	034000	MIN DATA BUFFER ADDRESS ALLOWED
BWCADC	00574	000272	02440	WCAD	0272	940 ADDRESS OF DATA CHAR COUNT
BMDB9C	00575	000764	02450	MDB9	500D	MAX WORDS THAT CAN BE SENT TO 940
BCW94C	00576	      	02460	CW94	R	*+1	CONTROL WORD READ FROM 940
BC	      	      	02470	*
BC	      	      	02480	******************************************************************
BC	      	      	02490	*
BC	      	      	02500	*      C08RDY  COMMUNICATION ESTABLISHED SUBROUTINE
BC	      	      	02510	*      W. L. FRANZ             SHELL DEVELOPMENT CO.
BC	      	      	02520	*      C08RDY  SUBROUTINE WHICH NOTIFIES THE OPERATOR THAT COMMUNICATIO
BC	      	      	02530	*              BETWEEN 620 AND 1108 HAS  BEEN ESTABLISHED AND STOPS THE
BC	      	      	02540	*              VARIAN FROM SENDING READY SIGNALS
BC	      	      	02550	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	02560	*                   Q0Y
BC	      	      	02570	*
BC08RDYC	00577	000000	02580	C08RDY	0
BTTYMSGC	00600	010120	02590		LDA	=TTYMSG	ALERT OPERATOR THAT COMMUNICATIONS HAVE
BMT5C	00601	020125	02600		LDB	=MT5	BEEN ESTABLISHED(TYPE &LINKED&)
BQ0YC	00602	002000	02610		JMPM	Q0Y
BC	00603	000657	
BB5000C	00604	010041	02620		LDA	B5000	REE JMPM C08RDY INST. TO NOP'S
BRNP1C	00605	052525	02630		STA	RNP1
BRNP1C	00606	052526	02640		STA	RNP1+1
BRNP2C	00607	052551	02650		STA	RNP2
BRNP2C	00610	052552	02660		STA	RNP2+1
BC	00611	005111	02670		INC	A,A
BCOMFC	00612	057001	02680		STA	COMF	E COMMUNICATIONS ESTABLISHED FLAG
BC	00613	005001	02690		TZA
BTO08C	00614	050564	02700		STA	TO08	ACTIVATE 1108 TIME-OUT
BBELLC	00615	051076	02710		STA	BELL	TURN OFF BELL
BNACKC	00616	006010	02720		LDAI	NACK	*E NACK TIMEOUT
BC	00617	003006	
BSRD2C	00620	050544	02730		STA	SRD2+2	*
BC	00621	006010	02740		LDAI	10D	CHANGE CLK3 TIMEOUT TO 10 SECS
BC	00622	000012	
BSRC1C	00623	050517	02750		STA	SRC1+1	*
BC08RDYC	00624	001000	02760		JMP	C08RDY+.	JMPRN
BC	00625	100577	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:08.200

BC	      	      	02770	*
BC	      	      	02780	***********************************************************
BC	      	      	02790	*
BC	      	      	02800	*      RMIC - A SUBROUTINE TO READ A SINGLE 16 BIT WORD FROM THE 940 VIA
BC	      	      	02810	*             THE MIC INTERFACE
BC	      	      	02820	*
BC	      	      	02830	*      ENTER RMIC WITH THE 940 ADDRESS TO BE READ IN A
BC	      	      	02840	*      RMIC WILL JMPRN WITH THE CONTENTS OF THAT 940 ADDRESS IN A
BC	      	      	02850	*
BC	      	      	02860	*      EXAMPLE -   LDA   MCWA     940 ADDRESS OF CW94
BC	      	      	02870	*                  JMPM  RMIC
BC	      	      	02880	*                  STA   CW94     STORE WORD READ FROM 940
BC	      	      	02890	*
BRMICC	00626	000000	02900	RMIC	0
BMADDC	00627	050655	02910		STA	MADD	SAVE 940 ADDRESS
BC	00630	101137	02920		SEN	0137,*+6	IS MIC BUSY
BC	00631	000636	
BC	00632	005000	02930		NOP	YES - LOOP TILL IT CLEARS
BC	00633	005000	02940		NOP
BC	00634	001000	02950		JMP	*-4
BC	00635	000630	
BRMC1MADDC	00636	010655	02960	RMC1	LDA	MADD
BC	00637	103136	02970		OAR	036	LOAD MIC WITH 940 ADDRESS TO BE READ
BMB89C	00640	010656	02980		LDA	MB89	E READ AND PRIORITY BITS
BC	00641	103135	02990		OAR	035	READ
BC	00642	101137	03000		SEN	0137,*+6	IS MIC BUSY
BC	00643	000650	
BC	00644	005000	03010		NOP	YES - LOOP TILL IT CLEARS
BC	00645	005000	03020		NOP
BC	00646	001000	03030		JMP	*-4
BC	00647	000642	
BRMC1C	00650	101237	03040		SEN	0237,RMC1	RE-TRY IF PARITY ERROR OCCURED
BC	00651	000636	
BC	00652	102537	03050		CIA	037	READ WORD FROM MIC
BRMICC	00653	001000	03060		JMP	RMIC+.	JMPRN
BC	00654	100626	
BC	      	      	03070	*
BMADDC	00655	      	03080	MADD	R	*+1	TEMP STORAGE FOR 940 ADDRESS
BMB89C	00656	001400	03090	MB89	01400	ES READ AND PRIORITY BITS
BC	      	      	03100	*
BC	      	      	03110	****************************************************************
BC	      	      	03120	*
BC	      	      	03130	*      Q0Y  ENTER ITEM IN CIRCULAR QUEUE TABLE
BC	      	      	03140	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	03150	*      THIS ROUTINE ENTERS DATA IN A CIRCULAR QUEUE TABLE AND
BC	      	      	03160	*      TURNS THE ASSOCIATED 620 EXECUTIVE QUEUE WORD TO ON IF
BC	      	  03170	*      THE DATA ENTERED IS THE ONLY DATA 0Y IN THE TABLE.
BC	      	      	03180	*              0Y - A = ADDRESS OF EXECUTIVE QUEUE WORD
BC	      	      	03190	*                      B = DATA ITEM TO BE ENTERED IN QUEUE TABLE
BC	      	      	03200	*              EXAMPLE -
BC	      	      	03210	*              LDA  =MSG28
BC	      	      	03220	*              LDB  DATA
BC	      	      	03230	*              JMPM Q0Y
BC	      	      	03240	*
BQ0YDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:11.316

BC	00657	000000	03250	Q0Y	0
BC	00660	100440	03260		EXC	0440	DISABLE PIM
BC	00661	005000	03270		NOP
BC	00662	005014	03280		TAX
BC	00663	015000	03290		LDA	0,X	IS TABLE EMPTY?
BQEN4C	00664	001010	03300		JAZ	QEN4	YES. MARK IT NOT EMPTY
BC	00665	000710	
BQEN1C	00666	035001	03310	QEN1	LDX	1,X	E UP X
BC	00667	015002	03320		LDA	2,X	DPTR NEGATIVE?
BQ0YC	00670	001004	03330		JAN	Q0Y+.	* IF TABLE FULL THEN LEAVE FOR NOW
BC	00671	100657	
BC	00672	145001	03340		SUB	1,X	MUST WE RECYCLE?
BQEN5C	00673	001010	03350		JAZ	QEN5	YES
BC	00674	000714	
BC	00675	015001	03360		LDA	1,X	UPDATE EPTR
BQEN2C	00676	005111	03370	QEN2	IAR	BUMP
BC	00677	055001	03380		STA	1,X	JMPRN IT
BC	00700	145000	03390		SUB	0,X	TABLE FULL NOW?
BQEN6C	00701	001010	03400		JAZ	QEN6	YES
BC	00702	000720	
BQEN3C	00703	035001	03410	QEN3	LDX	1,X
BC	00704	065000	03420		STB	0,X	PUT ITEM IN TABLE
BC	00705	100240	03430		EXC	0240	ENABLE PIM
BQ0YC	00706	001000	03440		JMP	Q0Y+.	JMPRN
BC	00707	100657	
BQEN4C	00710	005111	03450	QEN4	IAR
BC	00711	055000	03460		STA	0,X	MARK TABLE
BQEN1C	00712	001000	03470		JMP	QEN1	NOT EMPTY
BC	00713	000666	
BQEN5C	00714	005141	03480	QEN5	05141	TXAI
BC	00715	005111	03490		IAR	RECYCLE
BQEN2C	00716	001000	03500		JMP	QEN2
BC	00717	000676	
BQEN6C	00720	015002	03510	QEN6	LDA	2,X
BC	00721	005211	03520		CPA
BC	00722	055002	03530		STA	2,X	MARK TABLE
BQEN3C	00723	001000	03540		JMP	QEN3	FULL.
BC	00724	000703	
BC	      	      	03550	*
BC	      	      	03560	*****************************************************************
BC	      	      	03570	*
BC	      	      	03580	*      QGET    GET OLDEST ITEM IN CIRCULAR QUEUE TABLE
BC	      	      	03590	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	03600	*      QGET JMPRNS IN THE A REGESTER THE OLDEST DATA ITEM IN A
BC	      	      	03610	*      CIRCULAR QUEUE TABLE.  JMPM QREMOV WHEN THE POINTER TO THE
BC	      	      	03620	*      ITEM IS TO BE REMOVED.IF QGET IS USED ON AN EMPTY TABLE
BC	      	      	03630	*      A NO SKIP JMPRN IS GIVEN.  ON SUCCESSFUL GET A SKIP JMPRN
BC	      	      	03640	*      OCCURS.
BC	      	      	03650	*              0Y - A = ADDRESS OF EXECUTIVE QUEUE WORD.
BC	      	      	03660	*              EXAMPLE -
BC	      	      	03670	*              LDA  =MSG28
BC	      	      	03680	*              JMPM QGET
BC	      	      	03690	*
BQGETC	00725	000000	03700	QGET	0
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:11.850

BC	00726	100440	03710		EXC	0440	DISABLE PIM
BC	00727	005014	03720		TAX
BC	00730	035001	03730		LDX	1,X	E UP X
BC	00731	015000	03740		LDA	0,X	GET OLDEST ITEM POINTER
BC	00732	145001	03750		SUB	1,X	SUBTRACT NEWEST ITEM POINTER
BQG5C	00733	001010	03760		JAZ	QG5	GO CHECK WHERHER FULL OR EMPTY
BC	00734	000761	
BC	00735	015002	03770		LDA	2,X	E
BQG6QG4C	00736	003004	03780	QG6	XAN	QG4
BC	00737	000760	
BC	00740	145000	03790		SUB	0,X
BQG3C	00741	001010	03800		JAZ	QG3	RECYCLE
BC	00742	000754	
BC	00743	015000	03810		LDA	0,X
BQG1C	00744	005111	03820	QG1	IAR	BUMP (SINCE OLDEST POINTER IS REALLY
BC	00745	005014	03830		TAX	OLDEST POINTER -1)
BC	00746	015000	03840		LDA	0,X	LOAD A WITH OLDEST ITEM
BQGETC	00747	040725	03850		INR	QGET	SKIP JMPRN
BQGETC	00750	040725	03860		INR	QGET
BQG7C	00751	100240	03870	QG7	EXC	0240	ENABLE PIM
BQGETC	00752	001000	03880		JMP	QGET+.	JMPRN
BC	00753	100725	
BQG3C	00754	005141	03890	QG3	05141	TXAI
BC	00755	005111	03900		IAR	RECYCLE
BQG1C	00756	001000	03910		JMP	QG1
BC	00757	000744	
BQG4C	00760	005211	03920	QG4	CPA
BQG5C	00761	015002	03930	QG5	LDA	2,X	GET END OF TABLE POINTER
BQG6C	00762	001004	03940		JAN	QG6	TABLE FULL NOT EMPTY
BC	00763	000736	
BQG7C	00764	001000	03950		JMP	QG7	FAIL JMPRN - TABLE EMPTY
BC	00765	000751	
BC	      	      	03960	*
BC	      	      	03970	*****************************************************************
BC	      	      	03980	*
BC	      	      	03990	*      QREMOV  REMOVE OLDEST ITEM FROM CIRCULAR QUEUE TABLE
BC	      	      	04000	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	04010	*      QREMOV REMOVES THE OLDEST DATA ITEM FROM A CIRCULAR QUEUE
BC	      	      	04020	*      TABLE AND TURNS THE ASSOCIATED 620 EXECUTIVE QUEUE WORD TO
BC	      	      	04030	*      OFF IF THE DATA ITEM REMOVED IS THE LAST ITEM IN THE TABLE.
BC	      	      	04040	*      A NOP IS PERFORMED IF THERE IS NOT AN ITEM IN THE TABLE.
BC	      	      	04050	*              0Y - A = ADDRESS OF EXECUTIVE QUEUE WORD
BC	      	      	04060	*              EXAMPLE -
BC	      	      	04070	*              LDA =MSG28
BC	      	      	04080	*              JMPM QREMOV
BC	      	      	04090	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	04100	*              NONE
BC	      	      	04110	*
BQREMOVC	00766	000000	04120	QREMOV	0
BC	00767	100440	04130		EXC	0440	DISABLE PIM
BC	00770	005016	04140		05016	TA(X AND B) SAVE QUEUE ADDRESS.
BC	00771	015000	04150		LDA	0,X	IS TABLE EMPTY?
BQR2C	00772	001010	04160		JAZ	QR2	YES - JMPRN
BC	00773	001017	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:12.416

BC	00774	035001	04170		LDX	1,X	E UP X
BC	00775	015002	04180		LDA	2,X
BQR7C	00776	003004	04190		XAN	QR7	MARK TABLE NOT FULL IF FULL
BC	00777	001026	
BC	01000	055002	04200		STA	2,X
BC	01001	145000	04210		SUB	0,X	RECYCLE
BQR5C	01002	001010	04220		JAZ	QR5	YES
BC	01003	001022	
BC	01004	015000	04230		LDA	0,X	GET RPTR
BQR1C	01005	005111	04240	QR1	IAR	BUMP
BC	01006	055000	04250		STA	0,X	RESTORE
BC	01007	145001	04260		SUB	1,X	DID TABLE GO EMPTY?
BQR4C	01010	001010	04270		JAZ	QR4	YES
BC	01011	001015	
BC	01012	100240	04280		EXC	0240	ENABLE PIM
BQREMOVC	01013	001000	04290		JMP	QREMOV+.
BC	01014	100766	
BQR4C	01015	005024	04300	QR4	TBX	ADDRESS OF EXEC.Q.WORD
BC	01016	055000	04310		STA	0,X	MARK TABLE EMPTY.
BQR2C	01017	100240	04320	QR2	EXC	0240	ENABLE PIM
BQREMOVC	01020	001000	04330		JMP	QREMOV+.
BC	01021	100766	
BQR5C	01022	005141	04340	QR5	05141	TXAI
BC	01023	005111	04350		IAR	RECYCLE
BQR1C	01024	001000	04360		JMP	QR1
BC	01025	001005	
BQR7C	01026	005211	04370	QR7	CPA
BC	      	      	04380	*
BC	      	      	04390	************************************************************
BC	      	      	04400	*
BC	      	      	04410	*PBFH  PHONE BUFFER HANDLER
BC	      	      	04420	*
BBUFGETC	01027	000000	04430	BUFGET	0
BC	01030	100440	04440		EXC	0440	DISABLE PIM
BC	01031	005002	04450		TZB
BC	01032	005314	04460		05314	TRANSFER A TO X DECEMENTED
BBFLKC	01033	015001	04470	BFLK	LDA	1,X	PUT ABUFFER LOCATION IN A
BC	01034	005122	04480		IBR	INCEMENT B AND X REGISTERS. B HAS THE
BC	01035	005144	04490		IXR	BUFFER NO+1
BBFLKC	01036	001004	04500		JAN	BFLK	IF LOC IS NEG THEN BUFFER IS IN USE
BC	01037	001033	
BBUF1C	01040	003010	04510		XAZ	BUF1	* ENABLE PIM
BC	01041	001075	
BBUFGETC	01042	001010	04520		JAZ	BUFGET+.	JMPRN IF A ZERO
BC	01043	101027	
BC	01044	005211	04530		CPA
BC	01045	055000	04540		STA	0,X	COMPLEMENT ADDR TO SHOW IT IS IN USE
BC	01046	005211	04550		CPA	RESTORE ADDRESS IN A
BC	01047	005322	04560		DBR	BUFFER NO IS NOW IN B
BHALTC	01050	002004	04570		JANM	HALT
BC	01051	000006	
BBUFGETC	01052	041027	04580		INR	BUFGET
BBUFGETC	01053	041027	04590		INR	BUFGET	SKIP IF A BUFFER HAS BEEN FOUND
BC	01054	100240	04600		EXC	0240	ENABLE PIM
BBUFGETDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:13.066

BC	01055	001000	04610		JMP	BUFGET+.	JMPRN
BC	01056	101027	
BC	      	      	04620	*
BC	      	      	04630	**********************************************************
BC	      	      	04640	*
BBUFRELC	01057	000000	04650	BUFREL	0	BUFFER RELEASE SUBROUTINE
BC	01060	100440	04660		EXC	0440	DISABLE PIM
BPBRTC	01061	061074	04670		STB	PBRT	STORE BUFFER NUMBER TEMPORARILY
BPBRTC	01062	121074	04680		ADD	PBRT	ADD BUFR NO	TO BUF TABL ADDR TO GET
BC	01063	005012	04690		TAB	ADDRESS OF BFR LOC
BC	01064	016000	04700		LDA	0,B
BC	01065	005211	04710		CPA	JMPRN BUFR ADDR TO ITS NON BUSY STATE
BC	01066	001004	04720		JAN	*+3	IF NEGATIVE IT HAS BEEN RELEASED. DO NOT
BC	01067	001071	
BC	      	      	04730	*                              RESTORE IT
BC	01070	056000	04740		STA	0,B	RESTORE UNCOMPLEMENTED ADDRESS
BC	01071	100240	04750		EXC	0240	ENABLE PIM
BBUFRELC	01072	001000	04760		JMP	BUFREL+.	JMPRN
BC	01073	101057	
BC	      	      	04770	*
BPBRTC	01074	000000	04780	PBRT	0	TEMP STORAGE OF BUFR NO.
BBUF1C	01075	100240	04790	BUF1	EXC	0240	FREE PIM
BC	      	      	04800	*
BC	      	      	04810	*
BC	      	      	04820	*
BBELLC	01076	      	04830	BELL	R	*+1	RING THE BELL IF =-1
BDOWNC	01077	      	04840	DOWN	R	*+1	IF=-1, 940 HAS TIMED OUT
BCLOKC	01100	      	04850	CLOK	R	*+1	TURN ON TIME-OUT ROUTINE FLAG
BIAMFC	01101	      	04860	IAMF	R	*+1	FLAG TO TURN ON IAMC
BMS94C	01102	000000	04870	MS94	0	SHORT MESSAGES TO 940
BDAT940C	01103	000000	04880	DAT940	0	DATA MESSAGES TO 940
BD94TC	01104	001271	04890		+D94T
BMSG28C	01105	000000	04900	MSG28	0	MSG28 EXECUTIVE WORD
BTRNSMTC	01106	000000	04910	TRNSMT	0
BTTLCC	01107	001214	04920		+TTLC
BDCMPRSC	01110	000000	04930	DCMPRS	0	DCMPRS EXECUTIVE WORD
BXDTSC	01111	001221	04940		+XDTS
BDSPTCHC	01112	000000	04950	DSPTCH	0
BCMPRESC	01113	000000	04960	CMPRES	0	COMPRESS EXECUTIVE QUEUE
BCMPTC	01114	001227	04970		+CMPT
BTTYMSGC	01115	000000	04980	TTYMSG	0	TTY EXEC QUEUE WORD
BTTTLC	01116	001236	04990		+TTTL
BC	      	      	05000	*
BC	      	      	05010	*
BC	      	      	05020	*
BC	      	      	05030	*        EXEC LOOP
BC	      	      	05040	*
BEXCQC	01117	101570	05050	EXCQ	SEN	0570,*+3	SENSE CTE-CARRIER ON
BC	01120	001122	
BC	01121	100370	05060		EXC	0370	TURN OWN CARRIER OFF, ASSUME 940 DOWN
BC	01122	007400	05070		ROF	REE OVERFLOW IF INADVERTANTLY E
BGTM940C	01123	001100	05080		JSS1	GTM940	GO 940 TTY MODE IF SS1 UP
BC	01124	006270	
BCLOKC	01125	011100	05090		LDA	CLOK
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:13.650

BC	01126	005311	05100		DAR
BTIMOC	01127	002002	05110		JAPM	TIMO
BC	01130	000365	
BDOWNC	01131	011077	05120		LDA	DOWN	IF 940 HAS TIMED OUT STOP EVERYTHING
BTYPIC	01132	001004	05130		JAN	TYPI
BC	01133	001174	
BIAMFC	01134	011101	05140		LDA	IAMF
BC	01135	005311	05150		DAR
BIAMCC	01136	002002	05160		JAPM	IAMC
BC	01137	005336	
BMS94C	01140	011102	05170		LDA	MS94
BC	01141	005311	05180		DAR
BMSH94C	01142	002002	05190		JAPM	MSH94
BC	01143	005713	
BDAT940C	01144	011103	05200		LDA	DAT940
BC	01145	005311	05210		DAR
BRDATAC	01146	002002	05220		JAPM	RDATA
BC	01147	006003	
BDCMPRSC	01150	011110	05230		LDA	DCMPRS
BC	01151	005311	05240		DAR
BRECOMPC	01152	002002	05250		JAPM	RECOMP
BC	01153	004732	
BMSG28C	01154	011105	05260		LDA	MSG28
BC	01155	005311	05270		DAR
BM28SC	01156	002002	05280		JAPM	M28S
BC	01157	003242	
BTRNSMTC	01160	011106	05290		LDA	TRNSMT
BC	01161	005311	05300		DAR
BTRSMTC	01162	002002	05310		JAPM	TRSMT
BC	01163	003430	
BCMPRESC	01164	011113	05320		LDA	CMPRES
BC	01165	005311	05330		DAR
BCMPSC	01166	002002	05340		JAPM	CMPS
BC	01167	003557	
BDSPTCHC	01170	011112	05350		LDA	DSPTCH
BC	01171	005311	05360		DAR
BEDSPCHC	01172	002002	05370		JAPM	EDSPCH
BC	01173	004314	
BTYPITTYMSGC	01174	011115	05380	TYPI	LDA	TTYMSG
BC	01175	005311	05390		DAR
BETYMC	01176	002002	05400		JAPM	ETYM
BC	01177	001314	
BTTYMSGC	01200	011115	05410		LDA	TTYMSG
BEXCQC	01201	001004	05420		JAN	EXCQ	IF BUSY DO NOT CHECK BELL
BC	01202	001117	
BBELLC	01203	011076	05430		LDA	BELL	DO WE HAVE TO RING BELL
BEXCQC	01204	001010	05440		JAZ	EXCQ	NO
BC	01205	001117	
BMT1C	01206	020126	05450		LDB	=MT1	YES - PUT BELL ON TTYM QUEUE
BTTYMSGC	01207	010120	05460		LDA	=TTYMSG
BQ0YC	01210	002000	05470		JMPM	Q0Y
BC	01211	000657	
BEXCQC	01212	001000	05480		JMP	EXCQ
BC	01213	001117	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:14.166

BC	      	      	05490	*
BC	      	      	05500	*        END OF EXEC LOOP
BC	      	      	05510	*
BTTLCTTLCC	01214	001217	05520	TTLC	+TTLC+3	TRNSMT TABLE
BTTLCC	01215	001217	05530		+TTLC+3
BTTLCC	01216	001220	05540		+TTLC+4
BC	01217	000000	05550		0
BC	01220	000000	05560		0	END OF TRNSMIT TABLE
BXDTSXDTSC	01221	001224	05570	XDTS	+XDTS+3	OLDEST ITEM IN DCMPRS TABLE (POINTER)
BXDTSC	01222	001224	05580		+XDTS+3	NEWEST ITEM IN TABLE
BXDTSC	01223	001226	05590		+XDTS+5	END OF TABLE
BC	01224	000000	05600		0
BC	01225	000000	05610		0
BC	01226	000000	05620		0	END OF TABLE
BCMPTCMPTC	01227	001232	05630	CMPT	+CMPT+3	TABLE FOR CMPRES 0IES
BCMPTC	01230	001232	05640		+CMPT+3
BCMPTC	01231	001235	05650		+CMPT+6
BC	01232	000000	05660		0;0;0;0
BC	01233	000000	
BC	01234	000000	
BC	01235	000000	
BTTTLTTTLC	01236	001241	05670	TTTL	+TTTL+3	TTY MESSAGE TABLE
BTTTLC	01237	001241	05680		+TTTL+3
BTTTEC	      	001240	05685	TTTE	E	*	UP HERE TO SIMULATE BES DIRECTIVE
BTTTEC	01240	001240	05690		+TTTE
BC	01241	      	05700		R	*+30	TTY MESSAGE TABLE(SYMBOL IS TTTE)
BD94TD94TC	01271	001274	05710	D94T	+D94T+3	DATA MESSAGES TO 940
BD94TC	01272	001274	05720		+D94T+3
BD94TC	01273	001276	05730		+D94T+5
BC	01274	000000	05740		0;0;0;0
BC	01275	000000	
BC	01276	000000	
BC	01277	000000	
BPBFTPBF1C	01300	010000	05750	PBFT	+PBF1	PHONE BUFFER TABLE
BPBF2C	01301	010531	05760		+PBF2
BC	01302	000000	05770		0	EMD OF	PHONE BUFFER TABLE
BCPSBTCBF1C	01303	011262	05780	CPSBT	+CBF1	COMPRESS BUFFER TABLE
BCBF2C	01304	012013	05790		+CBF2
BC	01305	000000	05800		0	END BUF TBL
BOBUTOBU1C	01306	012544	05810	OBUT	+OBU1	OUTPUT BUFFER TABLE
BOBU2C	01307	013530	05820		+OBU2
BC	01310	000000	05830		0
BIBUTIBU1C	01311	014514	05840	IBUT	+IBU1	INPUT BUFFER TABLE
BIBU2C	01312	014634	05850		+IBU2
BC	01313	000000	05860		0
BC	      	      	05870	*
BC	      	      	05880	******************************************************************
BC	      	      	05890	*
BC	      	      	05900	*
BC	      	      	05910	*      ETYM    START MESSAGE TO TTY
BC	      	      	05920	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	05930	*      ETYM INITIATES A MESSAGE BEING SENT TO THE TELETYPE.
BC	      	      	05940	*      ETYM MARKS TTYMSG BUSY AND GIVES AN INTERRUPT TO TTYOUT
BC	      	      	05950	*      WHICH IS THE CHARACTER OUT INTERRUPT ROUTINE.  THE TTYOUT
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:15.450

BC	      	      	05960	*      INTERRUPT GETS THE ADDRESS OF MESSAGE TO SEND FROM CQT
BC	      	      	05970	*      AND HANDLES THE REST OF THE MESSAGE.  THE INTERRUPT ALSO
BC	      	      	05980	*      DEEUES THE CQT.
BC	      	      	05990	*      ETYM ALSO CONTAINS THE TABLE OF ALL MESSAGES THAT CAN BE
BC	      	      	06000	*      PRINTED ON THE TTY.
BC	      	      	06010	*
BETYMC	01314	000000	06020	ETYM	0
BM1C	01315	010022	06030		LDA	M1	MARK TTYMSG AS BUSY
BTTYMSGC	01316	051115	06040		STA	TTYMSG
BTTYOUTC	01317	002000	06050		JMPM	TTYOUT	SOFTWARE INTERRUPT.
BC	01320	001720	
BETYMC	01321	001000	06060		JMP	ETYM+.
BC	01322	101314	
BC	      	      	06070	*
BMT1C	01323	103400	06080	MT1	0103400	BELL RINGER IN MSB
BMT2C	01324	152305	06090	MT2	ASC	'TERR2';0106612
BC	01325	151322	
BC	01326	131200	
BC	01327	106612	
BMT3C	01330	143303	06100	MT3	ASC	'FCEQ';0106612
BC	01331	142721	
BC	01332	106612	
BMT4C	01333	144314	06110	MT4	ASC	'HLTGOV';0106612
BC	01334	152307	
BC	01335	147726	
BC	01336	106612	
BMT5C	01337	146311	06120	MT5	ASC	'LINKED';0106612
BC	01340	147313	
BC	01341	142704	
BC	01342	106612	
BMT7C	01343	151324	06130	MT7	ASC	'RTRY2 ';0106612
BC	01344	151331	
BC	01345	131240	
BC	01346	106612	
BMT8C	01347	134664	06140	MT8	ASC	'940 DISCONNECT';0106612
BC	01350	130240	
BC	01351	142311	
BC	01352	151703	
BC	01353	147716	
BC	01354	147305	
BC	01355	141724	
BC	01356	106612	
BMT9C	01357	151662	06150	MT9	ASC	'S2';0106612
BC	01360	106612	
BMT10C	01361	151661	06160	MT10	ASC	'S1';0106612
BC	01362	106612	
BMT11C	01363	142717	06170	MT11	ASC	'EOF ';0106612
BC	01364	143240	
BC	01365	106612	
BMT12C	01366	137677	06180	MT12	0137677;0137400;0106612
BC	01367	137400	
BC	01370	106612	
BMT15C	01371	147720	06190	MT15	ASC	'OP';0106612
BC	01372	106612	
BMT16DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:16.050

BC	01373	152315	06200	MT16	ASC	'TM';0106612
BC	01374	106612	
BMT17C	01375	146670	06210	MT17	ASC	'M8';0106612
BC	01376	106612	
BMT18C	01377	142324	06220	MT18	ASC	'DT';0106612
BC	01400	106612	
BMT19C	01401	151324	06230	MT19	ASC	'RT';0106612
BC	01402	106612	
BMT20C	01403	144720	06240	MT20	ASC	'IP';0106612
BC	01404	106612	
BMT25C	01405	144716	06250	MT25	ASC	'INIT';0106612
BC	01406	144724	
BC	01407	106612	
BMT28C	01410	130661	06260	MT28	ASC	'1108 DISCONNECT ';0106612
BC	01411	130270	
BC	01412	120304	
BC	01413	144723	
BC	01414	141717	
BC	01415	147316	
BC	01416	142703	
BC	01417	152240	
BC	01420	106612	
BMT30C	01421	144671	06270	MT30	ASC	'I9';0106612
BC	01422	106612	
BMT31C	01423	147671	06280	MT31	ASC	'O9';0106612
BC	01424	106612	
BMT32C	01425	151271	06290	MT32	ASC	'R9';0106612
BC	01426	106612	
BMT33C	01427	140671	06300	MT33	ASC	'A9';0106612
BC	01430	106612	
BC	      	      	06310	*
BC	      	      	06320	*
BC	      	      	06330	*****************************************************************
BC	      	      	06340	*
BC	      	      	06350	*      BICIO
BC	      	      	06360	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	06370	*      BICIO IS A GENERAL PURPOSE IO DRIVER FOR THE 620.
BC	      	      	06380	*      IT VERIFIES THE IO OPERATION, INITIALIZES THE CHANNEL,
BC	      	      	06390	*      CHECKS FOR DEVICE READY, CHECKS FOR DEVICE NOT BUSY,
BC	      	      	06400	*      CHECKS FOR BIC NOT BUSY, LOADS INITIAL AND FINAL
BC	      	      	06410	*      REGISTERS, ENABLES BIC AND CONNECTS CONTROLLER.
BC	      	      	06420	*              0Y - A = BEGINNING CORE ADDRESS
BC	      	      	06430	*                      B = FINAL CORE ADDRESS
BC	      	      	06440	*                      X = FILE NUMBER
BC	      	      	06450	*              WHERE   FILE NUMBER         DEVICE
BC	      	      	06460	*                      -----------         -------
BC	      	      	06470	*                            0             PAPER TAPE PUNCH
BC	      	      	06480	*                            1             READER
BC	      	      	06490	*                            2             PHONE(OUT)
BC	      	      	06500	*                            3             PHONE(IN)
BC	      	      	06510	*      ON 0Y THE FOLLOWING RELATIONS INVOLVING A AND B AND X
BC	      	      	06520	*      MUST HOLD OR A HALT OCCURS.
BC	      	      	06530	*               8000.GT.B.GE.A.GE.0   4.GT.X.GE.0
BC	      	      	06540	*      BICIO SKIPS ON JMPRN IF SUCCESSFUL.  ON NO SKIP THE A
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:16.750

BC	      	      	06550	*      REGISTER WILL BE -1,0, OR, 1.  A -1 INDICATES THE DEVICE IS NOT
BC	      	      	06560	*      READY.  A 0 INDICATES DEVICE IS BUSY AND 1 INDICATES BIC IS BUSY
BC	      	      	06570	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	06580	*              HALT
BC	      	      	06590	*
BC	      	      	06600	*
BBICIOC	01431	000000	06610	BICIO	0
BAIOC	01432	051572	06620		STA	AIO
BBIOC	01433	061573	06630		STB	BIO
BHALTC	01434	002004	06640		JANM	HALT	HALT IF A NEGATIVE
BC	01435	000006	
BC	01436	005021	06650		TBA
BAIOC	01437	141572	06660		SUB	AIO
BHALTC	01440	002004	06670		JANM	HALT	HALT IF B-A NEGATIVE
BC	01441	000006	
BC	01442	006010	06680		LDAI	020000
BC	01443	020000	
BBIOC	01444	141573	06690		SUB	BIO
BHALTC	01445	002004	06700		JANM	HALT	HALT IF 8000-B NEGATIVE
BC	01446	000006	
BC	01447	005041	06710		TXA
BHALTC	01450	002004	06720		JANM	HALT	HALT ON NEGATIVE FILE NUMBER
BC	01451	000006	
BP4C	01452	140013	06730		SUB	P4
BHALTC	01453	002002	06740		JAPM	HALT	HALT ON FILE NUMBER.GT.3
BC	01454	000006	
BC	01455	005041	06750		TXA	BUILD SENSE BIC BUSY WORD
BBBSYC	01456	006120	06760		ADDI	BBSY
BC	01457	001607	
BC	01460	005012	06770		TAB
BSEN1C	01461	011575	06780		LDA	SEN1
BC	01462	116000	06790		ORA	0,B
BSBBC	01463	051545	06800		STA	SBB
BSBCHC	01464	051524	06810		STA	SBCH
BC	01465	006120	06820		ADDI	02000	MAKE THAT AN
BC	01466	002000	
BLIRC	01467	051552	06830		STA	LIR	OME INSTRUCTION
BC	01470	005111	06840		IAR	DITTO
BLFRC	01471	051554	06850		STA	LFR
BC	01472	006140	06860		SUBI	03000	MAKE THAT AN
BC	01473	003000	
BIBICC	01474	051531	06870		STA	IBIC	EXC INSTRUCTION(INITIALIZE BIC)
BC	01475	005311	06880		DAR
BENBC	01476	051556	06890		STA	ENB	EXC INSTRUCTION(ENABLE BIC)
BC	01477	005041	06900		TXA	BUILD DRDY WORD
BDRDYC	01500	006120	06910		ADDI	DRDY
BC	01501	001577	
BC	01502	005012	06920		TAB
BSEN1C	01503	011575	06930		LDA	SEN1
BC	01504	116000	06940		ORA	0,B
BSDRC	01505	051533	06950		STA	SDR	READY INSTRUCTION
BC	01506	005041	06960		TXA	BUILD DEVICE BUSY WORD
BDBSYC	01507	006120	06970		ADDI	DBSY
BC	01510	001603	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:17.316

BC	01511	005012	06980		TAB
BSEN1C	01512	011575	06990		LDA	SEN1
BC	01513	116000	07000		ORA	0,B
BSDBC	01514	051540	07010		STA	SDB	BUSY INSTRUCTION
BC	01515	005041	07020		TXA	BUILD CBUF WORD
BCXUXC	01516	006120	07030		ADDI	CXUX
BC	01517	001613	
BC	01520	005012	07040		TAB
BEXC1C	01521	011574	07050		LDA	EXC1
BC	01522	116000	07060		ORA	0,B
BCBBC	01523	051557	07070		STA	CBB
BSBCHC	01524	005000	07080	SBCH	NOP	SENSE BIC NOT BUSY
BIBICC	01525	001531	07090		+IBIC
BC	01526	005000	07100		NOP
BOUT1C	01527	001000	07110		JMP	OUT1
BC	01530	001564	
BIBICC	01531	005000	07120	IBIC	NOP	INITIALIZE BIC
BC	01532	005004	07130		TZX
BSDRC	01533	005000	07140	SDR	NOP	SENSE DEVICE READY
BSDBC	01534	001540	07150		+SDB
BC	01535	005000	07160		NOP
BOUT3C	01536	001000	07170		JMP	OUT3	E X=-1
BC	01537	001566	
BSDBC	01540	005000	07180	SDB	NOP	SENSE DEVICE BUSY
BSBBC	01541	001545	07190		+SBB
BC	01542	005000	07200		NOP
BOUT2C	01543	001000	07210		JMP	OUT2	E X=0
BC	01544	001565	
BSBBC	01545	005000	07220	SBB	NOP	SENSE BIC BUSY
BLIRC	01546	001552	07230		+LIR
BC	01547	005000	07240		NOP
BOUT1C	01550	001000	07250		JMP	OUT1	E X=1
BC	01551	001564	
BLIRC	01552	005000	07260	LIR	NOP	LOAD INITIAL REGISTER FROM MEMORY
BAIOC	01553	001572	07270		+AIO
BLFRC	01554	005000	07280	LFR	NOP	LOAD FINAL REGISTER FROM MEMORY
BBIOC	01555	001573	07290		+BIO
BENBC	01556	005000	07300	ENB	NOP	ENABLE BIC
BCBBC	01557	005000	07310	CBB	NOP	CONNECT AND GO
BBICIOC	01560	041431	07320		INR	BICIO
BBICIOC	01561	041431	07330		INR	BICIO
BBICIOC	01562	001000	07340		JMP	BICIO+.	JMPRN
BC	01563	101431	
BOUT1C	01564	005144	07350	OUT1	IXR	MARK
BOUT2C	01565	005144	07360	OUT2	IXR	ERROR IN
BOUT3C	01566	005344	07370	OUT3	DXR	X
BC	01567	005041	07380		TXA
BBICIOC	01570	001000	07390		JMP	BICIO+.	JMPRN
BC	01571	101431	
BC	      	      	07400	*
BAIOC	01572	      	07410	AIO	R	*+1
BBIOC	01573	      	07420	BIO	R	*+1
BEXC1C	01574	100000	07430	EXC1	EXC	0
BSEN1C	01575	101000	07440	SEN1	SEN	0,0
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:17.766

BC	01576	000000	
BDRDYC	01577	000537	07450	DRDY	0537;0630;0471;0471
BC	01600	000630	
BC	01601	000471	
BC	01602	000471	
BDBSYC	01603	000537	07460	DBSY	0537;0630;0471;0471
BC	01604	000630	
BC	01605	000471	
BC	01606	000471	
BBBSYC	01607	000020	07470	BBSY	020;020;022;022
BC	01610	000020	
BC	01611	000022	
BC	01612	000022	
BCXUXC	01613	000037	07480	CXUX	0037;0230;0171;0271
BC	01614	000230	
BC	01615	000171	
BC	01616	000271	
BC	      	      	07490	*****************************************************************
BC	      	      	07500	*
BC	      	      	07510	*
BC	      	      	07520	*      TTYIN   TTY CHARACTER IN INTERRUPT
BC	      	      	07530	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	07540	*      TTYIN   TAKES A CHARACTER FROM THE TTY AND ASSEMBLES IT
BC	      	      	07550	*      INTO A COMMAND.  TWO CHARACTER ARE NECESSARY FRO A COMPLETE
BC	      	      	07560	*      COMMAND.  THIS INTERRUPT DISCARDS ALL CHARACTERS AFTER THE
BC	      	      	07570	*      FIRST TWO HAVE BEEN RECEIVED.  ON RECEIVING A CARRIAGE
BC	      	      	07580	*      JMPRN THIS INTERRUPT REESTS A LINE FEED FROM TTYOUT
BC	      	      	07590	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	07600	*              NONE
BC	      	      	07610	*
BC	      	      	07620	*
BTTYINC	01617	000000	07630	TTYIN	0
BSATIC	01620	051712	07640		STA	SATI	SAVE A, B, AND X.
BSBTIC	01621	061713	07650		STB	SBTI
BSXTIC	01622	071714	07660		STX	SXTI
BC	      	      	07670	*      ENABLE                      ENABLE H. P. INTERRUPTS
BC	01623	006010	07680		LDAI	0300	ALLOW EVERY INTERRUPT BUT TTYIN + OUT
BC	01624	000300	
BCITMC	01625	002000	07690		JMPM	CITM
BC	01626	004442	
BCX11C	01627	051711	07700		STA	CX11	SAVE OLD INTERRUPT MASK
BC	01630	100240	07710		EXC	0240	ENABLE INTERRUPTS
BC	01631	102701	07720		CIAB	1	XFR TTY INPUT TO A AND B
BC	01632	006130	07730		ERAI	0233	IS IT AN ESC CHAR.
BC	01633	000233	
BBOFFC	01634	001010	07740		JAZ	BOFF	YES - GO TURN BELL OFF
BC	01635	001705	
BC	01636	005021	07750		TBA	NO - PUT CHAR. BACK IN A
BCH11C	01637	002000	07760		JMPM	CH11	ECHO CHARACTER TO TTY
BC	01640	002067	
BM1C	01641	020022	07770		LDB	M1	MARK CHARACTER OUT AS ECHO
BECHOC	01642	062104	07780		STB	ECHO	FOR TTYOUT INTERRUPT BENIFIT
BC	01643	005014	07790		TAX	SAVE CHARACTER IN X
BC	01644	006130	07800		ERAI	0215	IS THIS A CARRAIGE JMPRN?
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:19.066

BC	01645	000215	
BCRTNC	01646	001010	07810		JAZ	CRTN	YES. GO TO CRTN
BC	01647	001670	
BTCNTC	01650	021715	07820		LDB	TCNT	NO
BTRTNC	01651	001020	07830		JBZ	TRTN	DISCARD THIS CHARACTER
BC	01652	001674	
BTCNTC	01653	041715	07840		INR	TCNT	NOW-1 OR 0
BC	01654	005041	07850		TXA	CHARACTER INTO A
BC	01655	005122	07860		IBR	EIVALENT TO LDB TCNT
BNSHFC	01656	001020	07870		JBZ	NSHF	2ND CHARACTER
BC	01657	001664	
BC	01660	004250	07880		LRLA	8D	1ST CHARACTER
BTWRDC	01661	051716	07890		STA	TWRD	TEMPORARY CMND. WORD.
BTRTNC	01662	001000	07900		JMP	TRTN
BC	01663	001674	
BNSHFTWRDC	01664	111716	07910	NSHF	ORA	TWRD	OR IN 1ST
BCMNDC	01665	051717	07920		STA	CMND	CHARACTER FOR
BTRTNC	01666	001000	07930		JMP	TRTN	COMPLETE CMND.
BC	01667	001674	
BCRTNM2C	01670	010023	07940	CRTN	LDA	M2	REE CHARACTER
BTCNTC	01671	051715	07950		STA	TCNT	COUNTER
BP1C	01672	010010	07960		LDA	P1	TELL TTYOUT INTERRUPT THAT WE
BECHOC	01673	052104	07970		STA	ECHO	NEED A LINE FEED
BTRTNCX11C	01674	011711	07980	TRTN	LDA	CX11	RESTORE OLD INTERRUPT MASK
BMTICC	01675	002000	07990		JMPM	MTIC
BC	01676	004452	
BSATIC	01677	011712	08000		LDA	SATI	RESTORE A, B, AND X.
BSBTIC	01700	021713	08010		LDB	SBTI
BSXTIC	01701	031714	08020		LDX	SXTI
BC	01702	100240	08030		EXC	0240	ENABLE ALL INTERRUPTS
BTTYINC	01703	001000	08040		JMP	TTYIN+.	TTYIN JMPRN
BC	01704	101617	
BBOFFC	01705	005001	08050	BOFF	TZA
BBELLC	01706	051076	08060		STA	BELL	TURN BELL OFF
BTRTNC	01707	001000	08070		JMP	TRTN
BC	01710	001674	
BC	      	      	08080	*
BCX11C	01711	      	08090	CX11	R	*+1
BSATIC	01712	      	08100	SATI	R	*+1
BSBTIC	01713	      	08110	SBTI	R	*+1
BSXTIC	01714	      	08120	SXTI	R	*+1
BTCNTC	01715	177776	08130	TCNT	-2
BTWRDC	01716	      	08140	TWRD	R	*+1
BCMNDC	01717	      	08150	CMND	R	*+1
BC	      	      	08160	*
BC	      	      	08170	****************************************************************
BC	      	      	08180	*
BC	      	      	08190	*
BC	      	      	08200	*      TTYOUT  TTY CHARACTER OUT INTERRUPT
BC	      	      	08210	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	08220	*      TTYOUT HANDLES A CHARACTER OUT INTERRUPT BY ETING UP
BC	      	      	08230	*      THE NEXT CHARACTER OF A MESSAGE AND STARTING IT TO THE
BC	      	      	08240	*      TTY.  IF THE CHARACTER JUST SENT WAS A LINE FEED THE
BC	      	      	08250	*      INTERRUPT ASSUMES THIS WAS THE LAST CHARACTER OF THE
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:19.650

BC	      	      	08260	*      MESSAGE AND DEEUES TTYMSG.  AT THE BEGINNING OF A
BC	      	      	08270	*      MESSAGE THIS ROUTINE IS ENTERED BY A SOFTWARE INTERRUPT
BC	      	      	08280	*      FROM ETYM.AFTER ECHO OF LINE FEED REESTED BY TTYIN,
BC	      	      	08290	*      TTYOUT PLACES DISPATCH COMMAND ON QUEUE
BC	      	      	08300	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	08310	*              QGET                    QREMOV
BC	      	      	08320	*
BTTYOUTC	01720	000000	08330	TTYOUT	0
BSTIAC	01721	052105	08340		STA	STIA	SAVE A, B, AND X.
BSTIBC	01722	062106	08350		STB	STIB
BSTIXC	01723	072107	08360		STX	STIX
BB200C	01724	010037	08370		LDA	B200	ENABLE ALL INTERRUPTS BUT TTYOUT
BCITMC	01725	002000	08380		JMPM	CITM
BC	01726	004442	
BCI11C	01727	052103	08390		STA	CI11	SAVE OLD INTERRUPT MASK
BC	01730	100240	08400		EXC	0240	ENABLE INTERRUPTS
BECHOC	01731	012104	08410		LDA	ECHO	CHECK ECHO
BTEXCC	01732	001004	08420		JAN	TEXC	NEGX
BC	01733	001747	
BTYCONC	01734	001010	08430		JAZ	TYCON	ZERO
BC	01735	001763	
BM1C	01736	010022	08440		LDA	M1	POSITIVE, CR ECHO
BEXCOC	01737	052113	08450		STA	EXCO	SO FLAG NEXT
BECHOC	01740	052104	08460		STA	ECHO	ECHO AS LF ECHO
BC	01741	006010	08470		LDAI	0212	AND OUTPUT
BC	01742	000212	
BCH11C	01743	002000	08480		JMPM	CH11	LINE FEED.
BC	01744	002067	
BLVNWC	01745	001000	08490		JMP	LVNW
BC	01746	002040	
BTEXCEXCOC	01747	012113	08500	TEXC	LDA	EXCO	IT IS AN ECHO
BLFECHOC	01750	001004	08510		JAN	LFECHO	IS IT AN LF ECHO?
BC	01751	001754	
BLVNWC	01752	001000	08520		JMP	LVNW-1	NO. JUST AN ECHO
BC	01753	002037	
BLFECHOC	01754	005001	08530	LFECHO	TZA	LINE FEED
BECHOC	01755	052104	08540		STA	ECHO	REE
BEXCOC	01756	052113	08550		STA	EXCO	FLAGS.
BC	01757	005111	08560		INC	A,A	TURN ON DSPTCH
BDSPTCHC	01760	051112	08570		STA	DSPTCH
BLVNWC	01761	001000	08580		JMP	LVNW	AND GO LEAVE.
BC	01762	002040	
BTYCONLSTCC	01763	012110	08590	TYCON	LDA	LSTC	WAS LAST CHARACTER
BC	01764	006130	08600		ERAI	0212	OUT A LINE FEED?
BC	01765	000212	
BTYDNC	01766	001010	08610		JAZ	TYDN	YES. WE'RE DONE.
BC	01767	002051	
BLSTCC	01770	012110	08620		LDA	LSTC	N0 - WAS IT A BELL RINGER?
BC	01771	006130	08630		ERAI	0207
BC	01772	000207	
BTYDNC	01773	001010	08640		JAZ	TYDN	YES - WE'RE DONE
BC	01774	002051	
BFSTMC	01775	032111	08650		LDX	FSTM	NO.	E UP BASE ADDRESS
BINTOC	01776	001040	08660		JXZ	INTO	JUMP ON SOFTWARE INTERRUPT.
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:20.533

BC	01777	002027	
BGOONC	02000	005001	08670	GOON	TZA	INITIALIZE LOOP
BFSTMC	02001	032111	08680		LDX	FSTM	BASE ADDRESS
BSHTCC	02002	022112	08690		LDB	SHTC	CHECK FOR FULL OR
BFSHTC	02003	001020	08700		JBZ	FSHT	PARTIAL WORD.
BC	02004	002017	
BC	02005	015000	08710		LDA	0,X	PARTIAL WORD.
BB377C	02006	150040	08720		ANA	B377	GET BOTTOM HALF
BCH11C	02007	002000	08730		JMPM	CH11	GO PRINT CHAR
BC	02010	002067	
BLSTCC	02011	052110	08740		STA	LSTC	SAVE IT FOR LF INSPECTION
BC	02012	005001	08750		TZA
BSHTCC	02013	052112	08760		STA	SHTC	F-P FLAG
BFSTMC	02014	042111	08770		INR	FSTM	BUMP BASE ADDR.
BLVNWC	02015	001000	08780		JMP	LVNW
BC	02016	002040	
BFSHTC	02017	025000	08790	FSHT	LDB	0,X	FULL WORD
BC	02020	004450	08800		LLRL	8D	INTO A
BCH11C	02021	002000	08810		JMPM	CH11	GO PRINT CHAR
BC	02022	002067	
BLSTCC	02023	052110	08820		STA	LSTC	SAVE IT FOR LF INSPECTION
BSHTCC	02024	042112	08830		INR	SHTC	F-P FLAG
BLVNWC	02025	001000	08840		JMP	LVNW
BC	02026	002040	
BINTOTTYMSGC	02027	010120	08850	INTO	LDA	=TTYMSG	GO GET MESSAGE ADDRESS
BQGETC	02030	002000	08860		JMPM	QGET	FROM TTY QUEUE
BC	02031	000725	
BLVNWC	02032	001000	08870		JMP	LVNW	SPURIOUS TTY OUTPUT INTERRUPT
BC	02033	002040	
BC	      	      	08880	*              AFTER INITIAL SYSTEM DEBUG THIS COULD BE BETTER HANDLED
BC	      	      	08890	*              AS A JMPRN TO THE ROUTINE ETYM WHICH COULD MARK TTYMSG
BC	      	      	08900	*              FROM BUSY TO OFF.  THIS COULD BE A SKIP JMPN.
BFSTMC	02034	052111	08910		STA	FSTM	INITIALIZE BASE ADDR.
BGOONC	02035	001000	08920		JMP	GOON
BC	02036	002000	
BECHOC	02037	042104	08930		INR	ECHO
BLVNWCI11C	02040	012103	08940	LVNW	LDA	CI11
BMTICC	02041	002000	08950		JMPM	MTIC
BC	02042	004452	
BSTIAC	02043	012105	08960		LDA	STIA
BSTIBC	02044	022106	08970		LDB	STIB
BSTIXC	02045	032107	08980		LDX	STIX
BC	02046	100240	08990		EXC	0240	ENABLE ALL INTERRUPTS
BTTYOUTC	02047	001000	09000		JMP	TTYOUT+.	JMPRN
BC	02050	101720	
BTYDNC	02051	005001	09010	TYDN	TZA
BLSTCC	02052	052110	09020		STA	LSTC	DESTROY LAST CHAR SENT
BFSTMC	02053	052111	09030		STA	FSTM	REE SINCE
BSHTCC	02054	052112	09040		STA	SHTC	WE ARE ALL DONE.
BTTYMSGC	02055	006010	09050		LDAI	TTYMSG	TAKE MSG TO TTY OFF
BC	02056	001115	
BQREMOVC	02057	002000	09060		JMPM	QREMOV	QUEUE.
BC	02060	000766	
BTTYMSGC	02061	011115	09070		LDA	TTYMSG	TAKE MSG OFF BUSY
BLVIXDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:21.600

BC	02062	003004	09080		XAN	LVIX
BC	02063	002102	
BTTYMSGC	02064	051115	09090		STA	TTYMSG
BLVNWC	02065	001000	09100		JMP	LVNW	LEAVE
BC	02066	002040	
BCH11C	02067	000000	09110	CH11	0
BCH12C	02070	101101	09120		SEN	0101,CH12	SENSE TTY WRITE REGISTER READY
BC	02071	002077	
BC	02072	005000	09130		NOP	SEVERAL NOPS FOR INTERRUPTS
BC	02073	005000	09140		NOP	SEVERAL NOPS FOR INTERRUPTS
BC	02074	005000	09150		NOP
BCH11C	02075	001000	09160		JMP	CH11+1
BC	02076	002070	
BCH12C	02077	103101	09170	CH12	OAR	1	OUTPUT A CHARACTER
BCH11C	02100	001000	09180		JMP	CH11+.
BC	02101	102067	
BC	      	      	09190	*
BLVIXC	02102	005111	09200	LVIX	INC	A,A
BCI11C	02103	      	09210	CI11	R	*+1
BECHOC	02104	000000	09220	ECHO	0
BSTIAC	02105	000000	09230	STIA	0
BSTIBC	02106	000000	09240	STIB	0
BSTIXC	02107	000000	09250	STIX	0
BLSTCC	02110	000000	09260	LSTC	0
BFSTMC	02111	000000	09270	FSTM	0
BSHTCC	02112	000000	09280	SHTC	0
BEXCOC	02113	000000	09290	EXCO	0
BC	      	      	09300	*
BC	      	      	09310	****************************************************************
BC	      	      	09320	*
BC	      	      	09330	*      PBIT    PHONE INTERRUPT, BIT MODE
BC	      	      	09340	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	09350	*      THIS INTERRUPT SEARCHES FOR A SYNC
BC	      	      	09360	*      CHARACTER AS EACH BIT ENTERS THE PHONE READ REGISTER
BC	      	      	09370	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	09380	*              NONE
BC	      	      	09390	*
BPBITC	02114	000000	09400	PBIT	0	PHONE INTERRUPT FOR BIT MODE
BPSTAC	02115	052740	09410		STA	PSTA	SAVE A
BC	02116	102571	09420		CIA	071	INPUT READ REGISTER
BSYNCC	02117	142745	09430		SUB	SYNC	SUBTRACT SYNCH
BCPINC	02120	001010	09440		JAZ	CPIN	IF SYNC CHANGE INTERRUPT
BC	02121	002126	
BPEX1PSTAC	02122	012740	09450	PEX1	LDA	PSTA	RESTORE A
BC	02123	100240	09460		EXC	0240	ENABLE PIM
BPBITC	02124	001000	09470		JMP	PBIT+.
BC	02125	102114	
BCPINC	02126	005311	09480	CPIN	DEC	A,A	CHANGE INTERRUPT INSTRUCTION
BPMODEC	02127	052744	09490		STA	PMODE	FROM JMPM PBIT TO JMPM PSYN
BPSYNC	02130	010127	09500		LDA	=PSYN	AND MODE TO -1 TO INDICATE ONLY
BPINTC	02131	050103	09510		STA	PINT+1	ONE SYNC FOUND
BC	02132	100671	09520		EXC	0671	PUT CONTROLLER IN CHAR. MODE
BC	02133	102571	09530		CIA	071	JAR MODEM
BPEX1C	02134	001000	09540		JMP	PEX1
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:22.216

BC	02135	002122	
BC	      	      	09550	*
BC	      	      	09560	****************************************************************
BC	      	      	09570	*
BC	      	      	09580	*      PSYN    PHONE INTERRUPT, SYNC MODE
BC	      	      	09590	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	09600	*      PHONE INTERRUPT ROUTINE WHICH SEARCHES FOR SYNC
BC	      	      	09610	*      CHAR FIRST NON SYNC CHAR AFTER 2 SYNC FOUND STARTS CHAR INTERRUP
BC	      	      	09620	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	09630	*              BUFGET                  HALT
BC	      	      	09640	*              BUFRE
BC	      	      	09650	*
BPSYNC	02136	000000	09660	PSYN	0	PHONE INTERRUPT TO GET IN SYNC
BPSTAC	02137	052740	09670		STA	PSTA	SAVE A
BPSTBC	02140	062741	09680		STB	PSTB	SAVE B
BPMODEC	02141	012744	09690		LDA	PMODE
BS2FNC	02142	001010	09700		JAZ	S2FN	HAS SECOND SYNC BEEN FOUND ?
BC	02143	002166	
BC	02144	102571	09710		CIA	071	NO. INPUT READ REG. TO A
BSYNCC	02145	142745	09720		SUB	SYNC	SUBTRACT SYNCH
BPMCHC	02146	001010	09730		JAZ	PMCH	IF 2ND SYNCH CHANGE MODE FROM -1 TO 0
BC	02147	002163	
BPXT2PBITC	02150	010130	09740	PXT2	LDA	=PBIT	IF NOT GO BACK TO BIT MODE
BPINTC	02151	050103	09750		STA	PINT+1
BC	02152	005001	09760		TZA
BPIPBC	02153	052752	09770		STA	PIPB	E PHONE INPUT TO NOT BUSY
BC	02154	100071	09780		EXC	071	PUT CONTROLLER IN BIT MODE
BC	02155	102571	09790		CIA	071	JAR MODEM
BPEX2PSTAC	02156	012740	09800	PEX2	LDA	PSTA	RESTORE A
BPSTBC	02157	022741	09810		LDB	PSTB	RESTORE B
BC	02160	100240	09820		EXC	0240	ENABLE PIM
BPSYNC	02161	001000	09830		JMP	PSYN+.	JMPRN
BC	02162	102136	
BPMCHPMODEC	02163	042744	09840	PMCH	INR	PMODE	2ND SYNCH FOUND CHANGE MODES
BPEX2C	02164	001000	09850		JMP	PEX2	JMPRN
BC	02165	002156	
BS2FNC	02166	102771	09860	S2FN	CIAB	071	2ND SYNC FOUND NOW CHECK 3RD CHAR
BSYNCC	02167	142745	09870		SUB	SYNC
BPEX2C	02170	001010	09880		JAZ	PEX2	JMPRN IF THIS CHAR IS A SYNC
BC	02171	002156	
BC	02172	005021	09890		TBA
BC	02173	006140	09900		SUBI	0100	IS CHAR AN SOM
BC	02174	000100	
BPSOMC	02175	001010	09910		JAZ	PSOM	YES - MESSAGE (OR DATA) MUST FOLLOW
BC	02176	002201	
BPXT2C	02177	001000	09920		JMP	PXT2	NO - GO LOOK FOR SYNCS AGAIN
BC	02200	002150	
BPSOMPCHRC	02201	010131	09930	PSOM	LDA	=PCHR
BPINTC	02202	050103	09940		STA	PINT+1	CHANGE INTERRUPT TO CHARACTER
BC	02203	005311	09950		DEC	A,A	MOVED FROM PBIT	********
BPIPBC	02204	052752	09960		STA	PIPB	E PHONE INPUT BU MOVED FROM PBIT *****
BPCR1C	02205	062236	09970		STB	PCR1	INPUT CHARACTER IN A HURRY
BPSTXC	02206	072742	09980		STX	PSTX	SAVE X SINCE BUFGET USES X
BPBFTC	02207	010132	09990		LDA	=PBFT	PBFT IS A TABLE GIVING ADDRESS OF BUFFER
BBUFGETDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:23.083

BC	02210	002000	10000		JMPM	BUFGET	OBTAIN A BUFFER ADDRESS AND NO.
BC	02211	001027	
BPXT3C	02212	001000	10010		JMP	PXT3	NO BUFFER
BC	02213	002232	
BC	02214	100440	10020		EXC	0440	DISABLE PIM
BPBUFC	02215	050567	10030		STA	PBUF	STORE INPUT BUFFER LOC. IN LOW CORE
BPBFNC	02216	062750	10040		STB	PBFN	STORE INPUT BUFFER NO.
BPBFIC	02217	052747	10050		STA	PBFI	STORE INPUT-BUFFER INITIAL LOCATION
BC	02220	005001	10060		TZA
BPCNTC	02221	052751	10070		STA	PCNT	E CHAR COUNT ZERO (SOM IS STORED FIRST
BBCCC	02222	052714	10080		STA	BCC	INITALIZE BCC-CHAR
BPSYNC	02223	012136	10090		LDA	PSYN	STORE JMPRN INFORMATION
BPCHRC	02224	052237	10100		STA	PCHR	IN PCHR
BPCR1C	02225	022236	10110		LDB	PCR1	PUT INPUT CHARACTER IN B
BC	02226	005021	10120		TBA	ALSO IN A
BPSTXC	02227	032742	10130		LDX	PSTX	RESTORE X
BPCH1C	02230	001000	10140		JMP	PCH1	STORE FIRST CHARACTER THROUGH CHR MODE
BC	02231	002243	
BPXT3C	02232	100440	10150	PXT3	EXC	0440	DISABLE PIM
BPSTXC	02233	032742	10160		LDX	PSTX	RESTORE X
BPXT2C	02234	001000	10170		JMP	PXT2	JMPRN
BC	02235	002150	
BC	      	      	10180	*
BPCR1C	02236	000000	10190	PCR1	0	INPUT CHARACTER
BC	      	      	10200	*
BC	      	      	10210	****************************************************************
BC	      	      	10220	*
BC	      	      	10230	*      PCHR    PHONE INTERRUPT, CHARACTER MODE
BC	      	      	10240	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	10250	*      PHONE INTERRUPT WHICH STORES IN A BUFFER
BC	      	      	10260	*      UNTIL AN EOM OR A BUFFER RUNAWAY OCCURS
BC	      	      	10270	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	10280	*              SNAK                    BUFREL
BC	      	      	10290	*
BPCHRC	02237	000000	10300	PCHR	0
BPSTAC	02240	052740	10310		STA	PSTA	SAVE A
BPSTBC	02241	062741	10320		STB	PSTB	SAVE B
BC	02242	102771	10330		CIAB	071	INPUT READ REGISTER TO B
BPCH1EOMC	02243	142746	10340	PCH1	SUB	EOM	IS CHAR AN EOM
BCMSRC	02244	001010	10350		JAZ	CMSR	IF YES CHANGE TO MESG RECEIVED INTERRUPT
BC	02245	002275	
BC	02246	005021	10360		TBA	IF NOT, CHECK PARITY USING
BBCCC	02247	132714	10370		ERA	BCC	UPDATE BCC CHAR
BBCCC	02250	052714	10380		STA	BCC
BC	02251	005021	10390		TBA
BPRTBC	02252	120133	10400		ADD	=PRTB	THE PARITY TABLE PRTB. IF PARITY
BC	02253	005012	10410		TAB	IS ODD A WILL BE LOADED WITH THE
BC	02254	016000	10420		LDA	0,B	CHARACTER LESS THE PARITY BIT(EXCEPT EOM
BC	02255	004310	10430		ASRA	8D	GET UPPER 8-BIT FIELD, PULL - SIGN IF BAD
BPEI1C	02256	003004	10440		XAN	PEI1	IF PARITY EVEN -1 PUT IN ERROR FLAG
BC	02257	002770	
BPBUFC	02260	057002	10450		STA	PBUF+.	STORE CHARACTER
BPBUFC	02261	040567	10460		INR	PBUF	OBTAIN NEXT STORAGE LOCATION
BPCNTC	02262	042751	10470		INR	PCNT	INCEMENT COUNT OF CHAR STORED
BPCNTDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:24.350

BC	02263	012751	10480		LDA	PCNT	LOAD A WITH THE CHARACTER COUNT
BMLENC	02264	006140	10490		SUBI	MLEN+5	SUBTRACT THE MAXIMUM BUFFER ALLOWED
BC	02265	000517	
BPERRC	02266	001002	10500		JAP	PERR	RUN AWAY BUFFER ?
BC	02267	002301	
BPEX3PSTAC	02270	012740	10510	PEX3	LDA	PSTA	RESTORE A
BPSTBC	02271	022741	10520		LDB	PSTB	RESTORE B
BC	02272	100240	10530		EXC	0240	ENABLE PIM
BPCHRC	02273	001000	10540		JMP	PCHR+.	JMPRN
BC	02274	102237	
BCMSRPEOMC	02275	010134	10550	CMSR	LDA	=PEOM	EOM DETECTED	CHANGE INTERRUPT
BPINTC	02276	050103	10560		STA	PINT+1	TO MESSAGE RECEIVED
BPEX3C	02277	001000	10570		JMP	PEX3	DONT SAVE EOM
BC	02300	002270	
BPERRPSTXC	02301	072742	10580	PERR	STX	PSTX	STORE X SINCE BUFRLS USES X
BPCHRC	02302	012237	10590		LDA	PCHR	* EXIT THROUGH PEOM INTERRUPT
BPEOMC	02303	052313	10600		STA	PEOM	*
BC	02304	006010	10610		LDAI	0377	DO NOT ALLOW ANY INTERRUPTS
BC	02305	000377	
BCITMC	02306	002000	10620		JMPM	CITM
BC	02307	004442	
BPBIMC	02310	052743	10630		STA	PBIM
BEMO8C	02311	001000	10640		JMP	EMO8	*
BC	02312	002653	
BC	      	      	10650	*
BC	      	      	10660	*****************************************************************
BC	      	      	10670	*
BC	      	      	10680	*      PEOM    PHONE INTERRUPT, END OF MESSAGE RECEIVED MODE
BC	      	      	10690	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	10700	*      THIS IS THE MESSAGE RECEIVED INTERRUPT WHICH CHECKS THE INPUT MS
BC	      	      	10710	*      FOR ERRORS, FREES INPUT BUFFERS, AND DETERMINES WHAT FUNCTION MS
BC	      	      	10720	*      HAS BEEN RECEIVED
BC	      	      	10730	*      SUBROUTINES DIRECLY JMPMED
BC	      	      	10740	*              Q0Y                  UNAK
BC	      	      	10750	*              CKLP                    HALT
BC	      	      	10760	*              QREMOV                  BUFRLS
BC	      	      	10770	*
BPEOMC	02313	000000	10780	PEOM	0	MESSAGE RECEIVED INTERRUPT
BPSTAC	02314	052740	10790		STA	PSTA
BPSTBC	02315	062741	10800		STB	PSTB
BPSTXC	02316	072742	10810		STX	PSTX
BC	02317	006010	10820		LDAI	0377	* DONT ALLOW OTHER INTERRUPTS
BC	02320	000377	
BCITMC	02321	002000	10830		JMPM	CITM	LOAD INTERRUPT MASK
BC	02322	004442	
BPBIMC	02323	052743	10840		STA	PBIM
BC	02324	102571	10850		CIA	071	INPUT LRC
BBCCC	02325	132714	10860		ERA	BCC	COMPARE WITH ASSEMBLED LRC
BB77C	02326	150033	10870		ANA	B77	LOWER SIX BITS ONLY
BPBOKC	02327	001010	10880		JAZ	PBOK	JUMP IF OK
BC	02330	002333	
BPID1C	02331	001000	10890		JMP	PID1	BCC ERROR - GO SEND NACK
BC	02332	002424	
BPBOKPCNTC	02333	012751	10900	PBOK	LDA	PCNT
BP8DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:25.000

BC	02334	140017	10910		SUB	P8	IS THIS A FUNCTION MESSAGE
BPFM1C	02335	001004	10920		JAN	PFM1	YES
BC	02336	002440	
BC	      	      	10930	*      WE HAVE A DATA MESSAGE
BPCDMFC	02337	012753	10940		LDA	PCDMF	HAVE WE RECVD TWO DATA MESSAGES IN A ROW
BPID2C	02340	001004	10950		JAN	PID2	YES - GO SEND NACK
BC	02341	002430	
BC	02342	005001	10960		TZA	NO
BPCOPFC	02343	052754	10970		STA	PCOPF	REE OUTPUT FUNCTION FOUND FLAG
BC	02344	005311	10980		DEC	A,A
BPCDMFC	02345	052753	10990		STA	PCDMF	E DATA MESSAGE RECVD FLAG
BPBFTC	02346	010132	11000		LDA	=PBFT	GO SEE IF ANOTHER BUFFER IS AVAILABLE
BBUFGETC	02347	002000	11010		JMPM	BUFGET	FOR NEXT MESSAGE FROM 1108
BC	02350	001027	
BPSDAC	02351	001000	11020		JMP	PSDA	NO BUFFER - DIFER SENDING ACK
BC	02352	002360	
BPBFTC	02353	010132	11030		LDA	=PBFT	RELEASE BUFFER JUST ACQUIRED
BBUFRELC	02354	002000	11040		JMPM	BUFREL
BC	02355	001057	
BPDA2C	02356	001000	11050		JMP	PDA2
BC	02357	002367	
BPSDAC	02360	005311	11060	PSDA	DEC	A,A	NO BUFFER WAS AVAILABLE
BDACKC	02361	052757	11070		STA	DACK	E DIFERRED OUTPUT FLAG
BOFCEC	02362	132761	11080		ERA	OFCE	IS FUNCTION CODES EQL FLAG ALSO E
BPEI2C	02363	003010	11090		XAZ	PEI2	IF YES (A=0), REE DACK
BC	02364	002771	
BPDA3C	02365	001004	11100		JAN	PDA3	JMP IF DACK=-1 BUT OFCE=0
BC	02366	002376	
BPDA2C	02367	005311	11110	PDA2	DEC	A,A
BRESPC	02370	052713	11120		STA	RESP
BC	02371	005111	11130		INC	A,A	SEND ACK TO 1108 (DACK=-1,OFCE=-1 OR
BMSG28C	02372	051105	11140		STA	MSG28	DACK=0)
BOFCEC	02373	012761	11150		LDA	OFCE	WERE FUNCTION CODES EQL
BPDA4C	02374	001004	11160		JAN	PDA4	YES - GO RELEASE BUFFERS AND EXIT
BC	02375	002434	
BPDA3TTYMSGC	02376	010120	11170	PDA3	LDA	=TTYMSG	NO - PRINT 'DT' IF SS3 UP
BMT18C	02377	020135	11180		LDB	=MT18
BQ0YC	02400	002400	11190		JS3M	Q0Y
BC	02401	000657	
BPEFLGC	02402	012760	11200		LDA	PEFLG	WAS THERE A PARITY ERROR
BPD3BC	02403	001002	11210		JAP	PD3B	NO
BC	02404	002411	
BC	02405	005001	11220		TZA
BDACKC	02406	052757	11230		STA	DACK	REE DIFFERED ACK FLAG
BPID2C	02407	001000	11240		JMP	PID2
BC	02410	002430	
BPD3BPBFNC	02411	012750	11250	PD3B	LDA	PBFN	PUT BUFFER NO. IN A (IN 2 MSB)
BC	02412	004256	11260		LRLA	14D
BPBFIC	02413	112747	11270		ORA	PBFI	PUT BUFFER ADDRESS IN A (IN 14 LSB)
BC	02414	005112	11280		INC	A,B	ADD ONE TO A AND PUT IN B (SKIP SOM)
BDCMPRSC	02415	010136	11290		LDA	=DCMPRS	DCMPRS ON QUEUE
BQ0YC	02416	002000	11300		JMPM	Q0Y
BC	02417	000657	
BC	02420	005001	11310		TZA
BPIPBDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:25.700

BC	02421	052752	11320		STA	PIPB	REE PHONE BUSY FLAG
BEM12C	02422	001000	11330		JMP	EM12
BC	02423	002661	
BC	      	      	11340	*
BPID1PCNTC	02424	012751	11350	PID1	LDA	PCNT	DO NOT SEND NACK FOR SHORT MESSAGES
BP8C	02425	140017	11360		SUB	P8
BEMO8C	02426	001004	11370		JAN	EMO8
BC	02427	002653	
BPID2SNAKC	02430	002000	11380	PID2	JMPM	SNAK	SEND NACK
BC	02431	002723	
BEMO8C	02432	001000	11390		JMP	EMO8
BC	02433	002653	
BC	      	      	11400	*
BPDA4C	02434	005001	11410	PDA4	TZA	REE FUNCTION CODES EQL FLAG
BOFCEC	02435	052761	11420		STA	OFCE
BEMO8C	02436	001000	11430		JMP	EMO8
BC	02437	002653	
BC	      	      	11440	*
BC	      	      	11450	*      ENTER PFM1 TO DE-CODE SHORT (FUNCTION) MESSAGES
BC	      	      	11460	*
BPFM1PBFIC	02440	012747	11470	PFM1	LDA	PBFI	CALCULATE LOCATION OF FUNCTION CODE
BC	02441	005111	11480		IAR	(SOM+1)
BPBUFC	02442	050567	11490		STA	PBUF	SAVE ADDRESS IN PBUF
BPBUFC	02443	027002	11500		LDB	PBUF+.	PUT FUNCTION CODE IN B
BC	02444	005021	11510		TBA
BF27C	02445	142720	11520		SUB	F27	IS IT A PROBE
BPFM4C	02446	001010	11530		JAZ	PFM4	YES
BC	02447	002545	
BC	02450	005021	11540		TBA
BF44C	02451	142721	11550		SUB	F44	IS IT A 44 INPUT
BPFM5C	02452	001010	11560		JAZ	PFM5	YES
BC	02453	002572	
BC	02454	005021	11570		TBA
BF45C	02455	142722	11580		SUB	F45	IS IT A 45 INPUT
BPFM5C	02456	001010	11590		JAZ	PFM5	YES
BC	02457	002572	
BC	02460	005021	11600		TBA
BF25C	02461	142717	11610		SUB	F25	IS IT HALT-GO-VOICE
BPFM6C	02462	001010	11620		JAZ	PFM6	YES
BC	02463	002560	
BC	02464	005021	11630		TBA	LOOK FOR OUTPUT FUNCTION MESSAGES
BF10C	02465	142715	11640		SUB	F10	SUBTRACT 10 OCTAL TO SEE IF OUTPUT IS OD
BPOF2C	02466	001010	11650		JAZ	POF2	ODD BLOCK OF OUTPUT ? NO, YES J TO POF2
BC	02467	002504	
BC	02470	005021	11660		TBA
BF11C	02471	142716	11670		SUB	F11	SUBTRACT 11 OCTAL TO SEE IF OUTPUT IS EV
BPOF2C	02472	001010	11680		JAZ	POF2	EVEN OUTPUT BLOCK ? NO, YES J TO POF2
BC	02473	002504	
BTTYMSGC	02474	010120	11690		LDA	=TTYMSG	SEND WARNING TO OPERATOR
BMT2C	02475	020137	11700		LDB	=MT2	PRINT 'TERR2'
BQ0YC	02476	002000	11710		JMPM	Q0Y
BC	02477	000657	
BSNAKC	02500	002000	11720		JMPM	SNAK	TRY SENDING A NACK
BC	02501	002723	
BEMO8DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:26.183

BC	02502	001000	11730		JMP	EMO8
BC	02503	002653	
BC	      	      	11740	*
BPOF2C	02504	005001	11750	POF2	TZA	RESET CLEAR FOR DATA FLAG
BPCDMFC	02505	052753	11760		STA	PCDMF
BPCOPFC	02506	012754	11770		LDA	PCOPF	IF 2 OUTPUT FUNCTION CODES IN A ROW
BEMO8C	02507	001004	11780		JAN	EMO8	HAVE BEEN RECVD - GO AWAY
BC	02510	002653	
BC	02511	005311	11790		DEC	A,A
BPCOPFC	02512	052754	11800		STA	PCOPF	SET OUTPUT FUNCTION FOUND FLAG
BINOTC	02513	012774	11810		LDA	INOT	IS THIS THE FIRST MESSAGE RECEIVED
BINOTC	02514	003010	11820		XAZ	INOT+1	BUMP INOT
BC	02515	002775	
BRNP1C	02516	001010	11830		JAZ	RNP1-1
BC	02517	002524	
BC	02520	005021	11840		TBA
BPOCDC	02521	142756	11850		SUB	POCD	SUBTRACT LAST OUTPUT FUNCTION CODE
BPOF3C	02522	001010	11860		JAZ	POF3	OUTPUT CODES EAL ? NO, YES JUMP
BC	02523	002535	
BPOCDC	02524	062756	11870		STB	POCD	POST LATEST OUTPUT FUNCTION CODE
BRNP1C	02525	005000	11880	RNP1	NOP	E TO NOPS BY IPAK
BC	02526	005000	11890		NOP	RESET TO JMPM C08RDY BY TYPING READY
BTTYMSGC	02527	010120	11900		LDA	=TTYMSG
BMT15C	02530	020140	11910		LDB	=MT15
BQ0YC	02531	002200	11920		JS2M	Q0Y	* IF SS2 E TYPE OP
BC	02532	000657	
BRN2AC	02533	001000	11930		JMP	RN2A	CHECK FOR MESSAGE AFTER LAST CARD SENT
BC	02534	002553	
BC	      	      	11940	*
BPOF3TTYMSGC	02535	010120	11950	POF3	LDA	=TTYMSG	WARN OPERATOR
BMT3C	02536	020141	11960		LDB	=MT3	PRINT 'FCEQ'
BQ0YC	02537	002000	11970		JMPM	Q0Y
BC	02540	000657	
BC	02541	005311	11980		DEC	A,A
BOFCEC	02542	052761	11990		STA	OFCE	E OUTPUT FUNCTION CODES EAL FLAG. -1
BEMO9C	02543	001000	12000		JMP	EMO9	EXIT THROUTH EMO9
BC	02544	002650	
BC	      	      	12010	*
BPFM4C	02545	005311	12020	PFM4	DEC	A,A	SEND 'ACK' TO 1108
BRESPC	02546	052713	12030		STA	RESP
BC	02547	005111	12040		INC	A,A
BMSG28C	02550	051105	12050		STA	MSG28
BRNP2C	02551	005000	12060	RNP2	NOP	SET TO JMPM C08RDY BY TYPING READY
BC	02552	005000	12070		NOP	RESET TO NOPS BY C08RDY AND IPAK
BRN2APEFFC	02553	012763	12080	RN2A	LDA	PEFF	WAS THIS PROBE THE RESPONSE AFTER
BPFM7C	02554	001004	12090		JAN	PFM7	THE LAST CARD BUFFER WAS SENT
BC	02555	002621	
BEMO9C	02556	001000	12100		JMP	EMO9	EXIT THROUGH EMO8
BC	02557	002650	
BC	      	      	12110	*
BPFM6TTYMSGC	02560	010120	12120	PFM6	LDA	=TTYMSG	HALT-GO-VOICE HAS BEEN RECVD
BMT4C	02561	020142	12130		LDB	=MT4	PRINT 'HLTGOC'
BQ0YC	02562	002000	12140		JMPM	Q0Y	PRINT MESSAGE
BC	02563	000657	
BACKDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:26.750

BC	02564	010143	12150		LDA	=ACK	SEND ACK
BRESPC	02565	052713	12160		STA	RESP
BC	02566	005111	12170		INC	A,A	TURN ON MSG28
BMSG28C	02567	051105	12180		STA	MSG28
BEMO8C	02570	001000	12190		JMP	EMO8
BC	02571	002653	
BC	      	      	12200	*
BPFM5INITC	02572	012772	12210	PFM5	LDA	INIT	IS IT OK TO RECEIVE 044/045
BEMO8C	02573	001002	12220		JAP	EMO8	NO
BC	02574	002653	
BC	02575	005311	12230		DEC	A,A	YES
BCLK6C	02576	050562	12240		STA	CLK6	TURN OFF CLOCK 6
BTMFLC	02577	052762	12250		STA	TMFL	E REEST FOR INPUT RECV'D FLAG
BPIPRQC	02600	012765	12260		LDA	PIPRQ	IS THIS IN ANSWER TO OUR '06'
BPFM8C	02601	001004	12270		JAN	PFM8	YES
BC	02602	002612	
BC	02603	005021	12280		TBA	NO - ARE FUNCTION CODES EQL (IE. HAS
BPICDC	02604	142755	12290		SUB	PICD	1108 NACK'D US)
BRRT2C	02605	001010	12300		JAZ	RRT2	YES - GO RETRANSMIT
BC	02606	002702	
BPICDC	02607	062755	12310		STB	PICD	NO - STORE NEW FUNCTION CODE
BPF7BC	02610	001000	12320		JMP	PF7B
BC	02611	002626	
BPFM8C	02612	005001	12330	PFM8	TZA
BPIPRQC	02613	052765	12340		STA	PIPRQ	REE INPUT REEST FLAG
BC	02614	005311	12350		DEC	A,A
BIPRQC	02615	052712	12360		STA	IPRQ	E OK TO SEND DATA FLAG
BPICDC	02616	062755	12370		STB	PICD	STORE NEW FUNCTION CODE
BEMO8C	02617	001000	12380		JMP	EMO8
BC	02620	002653	
BPFM7C	02621	005001	12390	PFM7	TZA
BPEFFC	02622	052763	12400		STA	PEFF	REE FINAL CARD BUFFER SENT FLAG
BINITC	02623	052772	12410		STA	INIT
BC	02624	005311	12420		DEC	A,A
BCLK6C	02625	050562	12430		STA	CLK6	TURN OFF CLOCK 6
BPF7BTTYMSGC	02626	010120	12440	PF7B	LDA	=TTYMSG
BMT20C	02627	020144	12450		LDB	=MT20	PRINT 'IP' IF SS3 UP
BQ0YC	02630	002400	12460		JS3M	Q0Y
BC	02631	000657	
BTRNSMTC	02632	010145	12470		LDA	=TRNSMT	REMOVE OLDEST ITEM IN TRNSMT TABLE
BQREMOVC	02633	002000	12480		JMPM	QREMOV
BC	02634	000766	
BTRNSMTC	02635	010145	12490		LDA	=TRNSMT	CHECK FOR TRANSMIT QUEUE BUSY
BQGETC	02636	002000	12500		JMPM	QGET
BC	02637	000725	
BRTBFC	02640	001000	12510		JMP	RTBF	IS EMPTY, DO NOTHING
BC	02641	002644	
BC	02642	005111	12520		INC	A,A
BTRNSMTC	02643	051106	12530		STA	TRNSMT	ENABLE TRANSMIT ROUTINE
BRTBFCPSBTC	02644	010146	12540	RTBF	LDA	=CPSBT	RELEASE TRANSMIT BUFFER NEED TABLE ADD**
BCB2NC	02645	023521	12550		LDB	CB2N	NEED TRANSMIT BUFFER NUMBER	********
BBUFRELC	02646	002000	12560		JMPM	BUFREL	RELEASE BUFFER
BC	02647	001057	
BEMO9PCOPFC	02650	012754	12570	EMO9	LDA	PCOPF	IS THIS AN OUTPUT MESSAGE?
BEMO2DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:27.366

BC	02651	001004	12580		JAN	EMO2	IF NEG JUMP
BC	02652	002655	
BEMO8C	02653	005001	12590	EMO8	TZA
BPIPBC	02654	052752	12600		STA	PIPB	E PHONE INPUT NOT BUSY
BEMO2PBFTC	02655	010132	12610	EMO2	LDA	=PBFT
BPBFNC	02656	022750	12620		LDB	PBFN
BBUFRELC	02657	002000	12630		JMPM	BUFREL	RELEASE PHONE INPUT BUFFER
BC	02660	001057	
BEM12C	02661	005001	12640	EM12	TZA
BPEFLGC	02662	052760	12650		STA	PEFLG	REE PARITY ERROR FLAG
BPBITC	02663	010130	12660		LDA	=PBIT
BPINTC	02664	050103	12670		STA	PINT+1	CHANGE INTERRUPT TO BIT MODE
BC	02665	100071	12680		EXC	071	PUT PHONE CONTROLLER IN BIT MODE
BC	02666	005001	12690		TZA	REE	15 SEC CLOCK
BCLK2C	02667	050557	12700		STA	CLK2
BCLK3C	02670	050560	12710		STA	CLK3
BPBIMC	02671	012743	12720		LDA	PBIM
BMTICC	02672	002000	12730		JMPM	MTIC	RESTORE INTERRUPT MASK
BC	02673	004452	
BPSTAC	02674	012740	12740		LDA	PSTA	RESTORE REGISTERS
BPSTBC	02675	022741	12750		LDB	PSTB
BPSTXC	02676	032742	12760		LDX	PSTX
BC	02677	100240	12770		EXC	0240	ENABLE PIM
BPEOMC	02700	001000	12780		JMP	PEOM+.
BC	02701	102313	
BC	      	      	12790	*
BRRT2C	02702	005111	12800	RRT2	INC	A,A
BTRNSMTC	02703	051106	12810		STA	TRNSMT	ACTIVATE TRANSMIT ROUTINE
BTTYMSGC	02704	010120	12820		LDA	=TTYMSG
BMT19C	02705	020147	12830		LDB	=MT19
BQ0YC	02706	002200	12840		JS2M	Q0Y	* IF SS2 E TYPE RT
BC	02707	000657	
BEMO8C	02710	001000	12850		JMP	EMO8	EXIT THROUGH EMO8
BC	02711	002653	
BC	      	      	12860	*
BIPRQC	02712	000000	12870	IPRQ	0	OK TO SEND DATA TO 1108 FLAG
BRESPACKC	02713	003016	12880	RESP	+ACK
BBCCC	02714	      	12890	BCC	R	*+1	ASSEMBLED LONGITUDINAL PARITY CHAR
BF10C	02715	000065	12900	F10	065	FUNCTION CODES IN ASCII (WITHOUT PARITY)
BF11C	02716	000066	12910	F11	066
BF25C	02717	000102	12920	F25	0102
BF27C	02720	000104	12930	F27	0104
BF44C	02721	000112	12940	F44	0112
BF45C	02722	000113	12950	F45	0113
BC	      	      	12960	*
BC	      	      	12970	********************************************************************
BC	      	      	12980	*
BC	      	      	12990	*      SNAK
BC	      	      	13000	*      W. L. FRANZ       SHELL DEVELOPEMNT CO.
BC	      	      	13010	*      THIS SHORT SUBROUTINE PUTS A NACK ON THE QUEUE FOR MSG28
BC	      	      	13020	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	13030	*              Q0Y
BC	      	      	13040	*
BSNAKC	02723	000000	13050	SNAK	0
BTTYMSGDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:27.916

BC	02724	010120	13060		LDA	=TTYMSG	PRINT 'S1' IF SS3 UP
BMT10C	02725	020150	13070		LDB	=MT10
BQ0YC	02726	002400	13080		JS3M	Q0Y
BC	02727	000657	
BC	02730	005001	13090		TZA
BPCOPFC	02731	052754	13100		STA	PCOPF	REE OUTPUT FUNCTION CODE FLAG
BNACKC	02732	010151	13110		LDA	=NACK	SEND NACK
BRESPC	02733	052713	13120		STA	RESP
BC	02734	005111	13130		INC	A,A
BMSG28C	02735	051105	13140		STA	MSG28	TURN MAG28 ON
BSNAKC	02736	001000	13150		JMP	SNAK+.
BC	02737	102723	
BC	      	      	13160	*
BPSTAC	02740	000000	13170	PSTA	0	TEMPORARY STORAGE FOR A REGISTER
BPSTBC	02741	000000	13180	PSTB	0	TEMPORARY STORAGE FOR B REGISTER
BPSTXC	02742	000000	13190	PSTX	0	TEMPORARY STORAGE FOR X REGISTER
BPBIMC	02743	000000	13200	PBIM	0
BPMODEC	02744	177777	13210	PMODE	-1	PHONE MODE FOR SYNCH CHARACTER
BSYNCC	02745	000065	13220	SYNC	065	SYNCH CHARACTER
BEOMC	02746	000125	13230	EOM	0125	END OF MESSAGE CHARACTER
BPBFIC	02747	000000	13240	PBFI	0	PHONE INPUT BUFFER STARTING LOCATION
BPBFNC	02750	000000	13250	PBFN	0	PHONE INPUT BUFFER NUMBER
BPCNTC	02751	000000	13260	PCNT	0	COUNT OF CHARACTERS STORED
BPIPBC	02752	000000	13270	PIPB	0	PHONE INTERRUPT BUSY FLAG
BPCDMFC	02753	000000	13280	PCDMF	0	DATA MESSAGE RECEIVED FLAG
BPCOPFC	02754	000000	13290	PCOPF	0	OUTPUT FUNCTION FOUND FLAG
BPICDC	02755	000113	13300	PICD	0113	LAST INPUT FUNCTION CHARACTER (ASCII)
BPOCDC	02756	000066	13310	POCD	066	LAST OUTPUT FUNCTION CHARACTER	(ASCII)
BDACKC	02757	000000	13320	DACK	0	DEFERRED ACKNOWLEDGE FLAG
BPEFLGC	02760	000000	13330	PEFLG	0	PARITY ERROR FLAG
BOFCEC	02761	000000	13340	OFCE	0	OUTPUT FUNCTION CODES EAL FLAG
BTMFLC	02762	000000	13350	TMFL	0	FLAG NOTICE OF A REEST FOR INPUT
BPEFFC	02763	000000	13360	PEFF	0	FLAG AAYING THE LAST CARD BUFFER HAS BEE
BPIFFC	02764	000000	13370	PIFF	0	THIS FLAG ACTS AS PEFF BUT IS E FIRST
BPIPRQC	02765	000000	13380	PIPRQ	0	INPUT REEST FLAG
BOFINC	02766	000000	13390	OFIN	0	HOLDS FINAL ADDR OF OUTPUT BFR
BONUMC	02767	000000	13400	ONUM	0	HOLDS OUTPUT BFR NUMBER FOR EPC1
BPEI1PEFLGC	02770	052760	13410	PEI1	STA	PEFLG	INSTRUCTION WHICH ES PARITY ERROR FLAG
BPEI2DACKC	02771	052757	13420	PEI2	STA	DACK	INSTRUCTION TO REE DEFERRED ACK
BINITC	02772	000000	13430	INIT	0	FLAG FOR INITIAL INPUT REEST FROM 1108
BINITC	02773	042772	13440		INR	INIT
BINOTC	02774	000000	13450	INOT	0	FLAG FOR INITIAL OUTPUT REEST FROM 1108
BINOTC	02775	042774	13460		INR	INOT
BC	      	      	13470	*
BC	      	      	13480	*      THE FOLLOWING ARE MESSAGES TO THE 1108
BC	      	      	13490	*
BREDYC	02776	000016	13500	REDY	016;032465;032465;040105;0;0;010125;012577
BC	02777	032465	
BC	03000	032465	
BC	03001	040105	
BC	03002	000000	
BC	03003	000000	
BC	03004	010125	
BC	03005	012577	
BNACKDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:28.616

BC	03006	000016	13510	NACK	016;032465;032465;040057;0;0;0125;027577
BC	03007	032465	
BC	03010	032465	
BC	03011	040057	
BC	03012	000000	
BC	03013	000000	
BC	03014	000125	
BC	03015	027577	
BACKC	03016	000016	13520	ACK	016;032465;032465;040000;0;0;0125;0177
BC	03017	032465	
BC	03020	032465	
BC	03021	040000	
BC	03022	000000	
BC	03023	000000	
BC	03024	000125	
BC	03025	000177	
BOSIXC	03026	000016	13530	OSIX	016;032465;032465;040106;0;0;0125;03177
BC	03027	032465	
BC	03030	032465	
BC	03031	040106	
BC	03032	000000	
BC	03033	000000	
BC	03034	000125	
BC	03035	003177	
BDISCONC	03036	000016	13540	DISCON	016;032465;032465;040114;0;0;0125;06177
BC	03037	032465	
BC	03040	032465	
BC	03041	040114	
BC	03042	000000	
BC	03043	000000	
BC	03044	000125	
BC	03045	006177	
BC	      	      	13550	*
BC	      	      	13560	*      THIS IS THE PARITY ERROR TABLE 128 LOCATIONS  (ASCII , NO PARITY
BC	      	      	13570	*
BPRTBC	03046	177777	13580	PRTB	-1;056777;026777;-1;030777;-1;-1;032377
BC	03047	056777	
BC	03050	026777	
BC	03051	177777	
BC	03052	030777	
BC	03053	177777	
BC	03054	177777	
BC	03055	032377	
BC	03056	032777	13590		032777;-1;-1;034377;-1;056377;035777,-1
BC	03057	177777	
BC	03060	177777	
BC	03061	034377	
BC	03062	177777	
BC	03063	056377	
BC	03064	035777	
BC	03065	025777	13600		025777;-1;-1;037777;-1;041377;041777,-1
BC	03066	177777	
BC	03067	177777	
BC	03070	037777	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:28.933

BC	03071	177777	
BC	03072	041377	
BC	03073	041777	
BC	03074	177777	13610		-1;043377;043777;-1;044777;-1;-1;021777
BC	03075	043377	
BC	03076	043777	
BC	03077	177777	
BC	03100	044777	
BC	03101	177777	
BC	03102	177777	
BC	03103	021777	
BC	03104	040100	13620		040100;0177443;0177457;020437
BC	03105	177443	
BC	03106	177457	
BC	03107	020437	
BC	03110	177542	13630		0177542;045555;046163;0177556
BC	03111	045555	
BC	03112	046163	
BC	03113	177556	
BC	03114	177461	13640		0177461;047475;050141;0177420
BC	03115	047475	
BC	03116	050141	
BC	03117	177420	
BC	03120	051062	13650		051062;0177402;0177522;021064
BC	03121	177402	
BC	03122	177522	
BC	03123	021064	
BC	03124	177503	13660		0177503;024004;026105;0177506
BC	03125	024004	
BC	03126	026105	
BC	03127	177506	
BC	03130	027407	13670		027407;0177410;0177511;052512
BC	03131	177410	
BC	03132	177511	
BC	03133	052512	
BC	03134	053013	13680		053013;0177514;0177521;054416
BC	03135	177514	
BC	03136	177521	
BC	03137	054416	
BC	03140	177536	13690		0177536;024535;037076;0177423
BC	03141	024535	
BC	03142	037076	
BC	03143	177423	
BC	03144	020040	13700		020040;0177524;0177425;030026
BC	03145	177524	
BC	03146	177425	
BC	03147	030026	
BC	03150	177527	13710		0177527;031130;031431;0177432
BC	03151	031130	
BC	03152	031431	
BC	03153	177432	
BC	03154	177533	13720		0177533;033034;033544;0177445
BC	03155	033034	
BC	03156	033544	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:29.266

BC	03157	177445	
BC	03160	034446	13730		034446;0177547;0177550;055451
BC	03161	177547	
BC	03162	177550	
BC	03163	055451	
BC	03164	177452	13740		0177452;035153;027054;0177565
BC	03165	035153	
BC	03166	027054	
BC	03167	177565	
BC	03170	040566	13750		040566;0177467;0177470;042171
BC	03171	177467	
BC	03172	177470	
BC	03173	042171	
BC	03174	042572	13760		042572;0177473;0177574;044117
BC	03175	177473	
BC	03176	177574	
BC	03177	044117	
BC	03200	177415	13770		0177415;036401;036160;0177577
BC	03201	036401	
BC	03202	036160	
BC	03203	177577	
BC	03204	177777	13780		-1;025377;022377;-1;045377;-1;-1;046777
BC	03205	025377	
BC	03206	022377	
BC	03207	177777	
BC	03210	045377	
BC	03211	177777	
BC	03212	177777	
BC	03213	046777	
BC	03214	047377	13790		047377;-1;-1;050777;-1;022777;023777,-1
BC	03215	177777	
BC	03216	177777	
BC	03217	050777	
BC	03220	177777	
BC	03221	022777	
BC	03222	023777	
BC	03223	057377	13800		057377;-1;-1;023377;-1;051777;052377,-1
BC	03224	177777	
BC	03225	177777	
BC	03226	023377	
BC	03227	177777	
BC	03230	051777	
BC	03231	052377	
BC	03232	177777	13810		-1;053777;054377;-1;055377;-1;-1;057777
BC	03233	053777	
BC	03234	054377	
BC	03235	177777	
BC	03236	055377	
BC	03237	177777	
BC	03240	177777	
BC	03241	057777	
BC	      	      	13820	*
BC	      	      	13830	****************************************************************
BC	      	      	13840	*
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:29.616

BC	      	      	13850	*      M28S    MESSAGE TO 1108 SUBROUTINE
BC	      	      	13860	*      W. L. FRANZ  SHELL DEVELOPMENT CO.
BC	      	      	13870	*      SUBROUTINE WHICH TRANSMITS SHORT MESSAGES TO THE 1108
BC	      	      	13880	*      SUBROUTINES JMPMED
BC	      	      	13890	*              UNPC    BICIO    HALT
BC	      	      	13900	*
BM28SC	03242	000000	13910	M28S	0
BT281C	03243	101022	13920		SEN	022,T281	SENSE BIC 2 NOT BUSY
BC	03244	003247	
BM28SC	03245	001000	13930		JMP	M28S+.
BC	03246	103242	
BT281T282C	03247	101471	13940	T281	SEN	0471,T282	ARE WE CLEAR TO SEND?
BC	03250	003254	
BC	03251	100471	13950		EXC	0471	N0 - TRN ON REEST TO SEND
BM28SC	03252	001000	13960		JMP	M28S+.	JMPRN
BC	03253	103242	
BT282DISFC	03254	010565	13970	T282	LDA	DISF	SHOULD WE SEND A DISCONNECT
BT283C	03255	001002	13980		JAP	T283	NO
BC	03256	003264	
BC	03257	005001	13990		TZA	YES - REE FLAG
BDISFC	03260	050565	14000		STA	DISF
BDISCONC	03261	010152	14010		LDA	=DISCON
BT286C	03262	001000	14020		JMP	T286
BC	03263	003303	
BT283RESPC	03264	012713	14030	T283	LDA	RESP	IF RESP =-1, AN ACK HAS BEEN REESTED
BC	      	      	14040	*                              BUT IF PIPRQ=-1 SEND AN '06' INSTEAD
BT285C	03265	001002	14050		JAP	T285	ACK HAS NOT BEEN REESTED
BC	03266	003302	
BPIPRQC	03267	012765	14060		LDA	PIPRQ	SHOULD WE SEND '06' INSTEAD OF 'ACK'
BT284C	03270	001002	14070		JAP	T284	NO
BC	03271	003277	
BC	03272	005311	14080		DEC	A,A	YES - E OK TO RECEIVE 044/045 FLAG
BINITC	03273	052772	14090		STA	INIT
BOSIXC	03274	010153	14100		LDA	=OSIX
BT286C	03275	001000	14110		JMP	T286
BC	03276	003303	
BT284ACKC	03277	010143	14120	T284	LDA	=ACK	SEND 'ACK'
BT286C	03300	001000	14130		JMP	T286
BC	03301	003303	
BT285RESPC	03302	012713	14140	T285	LDA	RESP	GET LOC OF MSG TO BE UNPACKED
BT286M8TBC	03303	020154	14150	T286	LDB	=M8TB	PUT LOC WHERE MSG IS TO BE STORED IN B
BUNPCC	03304	002000	14160		JMPM	UNPC	UNPACK MESSAGE AND PUT IT INTO BUFFER
BC	03305	003523	
BC	03306	005311	14170		DEC	A,A	LDA =-1
BMSG28C	03307	051105	14180		STA	MSG28	E MSG28 BUSY
BM8TBC	03310	010154	14190		LDA	=M8TB	STARTING ADDRESS
BM8TEC	03311	020155	14200		LDB	=M8TE-2	ENDING ADDRESS
BP2C	03312	030011	14210		LDX	P2	PHONE BIC NO.
BBICIOC	03313	002000	14220		JMPM	BICIO	OUTPUT DATA TO 1108
BC	03314	001431	
BHALTC	03315	002000	14230		JMPM	HALT	BAD JMPRN
BC	03316	000006	
BM28SC	03317	001000	14240		JMP	M28S+.
BC	03320	103242	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:30.166

BC	      	      	14250	*
BM8TBC	03321	      	14260	M8TB	R	*+14D	MESSAGE BUFFER
BC	03337	000177	14270		0177;0177
BC	03340	000177	
BM8TEC	03341	000177	14280	M8TE	0177
BC	      	      	14290	*
BC	      	      	14300	******************************************************************
BC	      	      	14310	*
BC	      	      	14320	*      MSINT   MESSAGE SENT INTERRUPT OBTAINED FROM PHONE BIC
BC	      	      	14330	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	14340	*      MESSAGE SENT INTERRUPT THIS INTERRUPT ES TRANSMIT TO OFF
BC	      	      	14350	*      IF THE MESSAGE SENT WAS A DATA MESSAGE. IF IT WAS A MSG28, THE
BC	      	      	14360	*      OLDEST ITEM IN THE MSG28 TABLE IS DELETED.
BC	      	      	14370	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	14380	*              Q0Y    PREP
BC	      	      	14390	*
BMSINTC	03342	000000	14400	MSINT	0
BMSIAC	03343	053424	14410		STA	MSIA	SAVE A
BMSIBC	03344	063425	14420		STB	MSIB	SAVE B
BMSIXC	03345	073426	14430		STX	MSIX	SAVE X
BWFDCC	03346	013427	14440		LDA	WFDC	ARE WE WAITING ON INTERRUPT FROM DISCON
BDCHAC	03347	001004	14450		JAN	DCHA	YES
BC	03350	003413	
BDMSFLGC	03351	013522	14460		LDA	DMSFLG	LOAD DATA MESSAGE FLAG
BRM8FTC	03352	001010	14470		JAZ	RM8FT	WAS MSG A DATA MSG? NO, YES REMOVE FM TA
BC	03353	003402	
BTTYMSGC	03354	010120	14480		LDA	=TTYMSG
BMT16C	03355	020156	14490		LDB	=MT16	TRANSMIT MESSAGE ('TM')
BQ0YC	03356	002200	14500		JS2M	Q0Y	IF SS2 E SEND TTY MSG TM
BC	03357	000657	
BC	03360	100440	14510		EXC	0440	DISABLE PIM
BPIFFC	03361	012764	14520		LDA	PIFF	WAS THIS MESSAGE AFTER LAST BUFFER SENT?
BC	03362	001002	14530		JAP	*+4	NO
BC	03363	003366	
BPEFFC	03364	052763	14540		STA	PEFF	MAKE PEFF -1
BPIFFC	03365	042764	14550		INR	PIFF	REE PIFF
BC	03366	005001	14560		TZA
BDMSFLGC	03367	053522	14570		STA	DMSFLG	REE DATA MESSAGE FLAG
BASE1C	03370	005001	14580	ASE1	TZA
BCLK3C	03371	050560	14590		STA	CLK3
BMSIAC	03372	013424	14600		LDA	MSIA	RESTORE A
BMSIBC	03373	023425	14610		LDB	MSIB	RESTORE B
BMSIXC	03374	033426	14620		LDX	MSIX	RESTORE X
BMSIAC	03375	102071	14630		IME	071,MSIA	JAR MODEM
BC	03376	003424	
BC	03377	100240	14640		EXC	0240
BMSINTC	03400	001000	14650		JMP	MSINT+.	JMPRN
BC	03401	103342	
BRM8FTC	03402	005001	14660	RM8FT	TZA	REMOVE MSG28 FROM QUEUE
BMSG28C	03403	051105	14670		STA	MSG28
BTTYMSGC	03404	010120	14680		LDA	=TTYMSG
BMT17C	03405	020157	14690		LDB	=MT17	PRINT 'M8' IF SS2 UP
BQ0YC	03406	002200	14700		JS2M	Q0Y	* SEND TTY MSG
BC	03407	000657	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:30.750

BC	03410	100440	14710		EXC	0440	DISABLE PIM
BASE1C	03411	001000	14720		JMP	ASE1
BC	03412	003370	
BDCHAC	03413	005001	14730	DCHA	TZA	INTERRUPT FROM DISCON HAS ARRIVED
BWFDCC	03414	053427	14740		STA	WFDC	REE WAITING FOR DISCON FLAG
BCOMFC	03415	017001	14750		LDA	COMF	WAS OFF KEYED-IN	(COMF=-1)
BRM8FTC	03416	001004	14760		JAN	RM8FT	YES - DO NOT TRY TO RESTART
BC	03417	003402	
BPREPC	03420	002000	14770		JMPM	PREP	TRY TO GET 1108 GOING AGAIN
BC	03421	004375	
BRM8FTC	03422	001000	14780		JMP	RM8FT
BC	03423	003402	
BC	      	      	14790	*
BMSIAC	03424	000000	14800	MSIA	0
BMSIBC	03425	000000	14810	MSIB	0
BMSIXC	03426	000000	14820	MSIX	0
BWFDCC	03427	      	14830	WFDC	R	*+1	WAITING FOR DISCONNECT FLAG
BC	      	      	14840	*
BC	      	      	14850	***************************************************************
BC	      	      	14860	*
BC	      	      	14870	*      TRSMT   SUBROUTINE WHICH TRANSMITS CARD IMAGES TO THE 1108
BC	      	      	14880	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	14890	*      SUBROUTINES JMPMED
BC	      	      	14900	*              QGET    BICIO    HALT
BC	      	      	14910	*
BTRSMTC	03430	000000	14920	TRSMT	0
BTMFLC	03431	012762	14930		LDA	TMFL	IF REEST FOR INPUT HAS NOT BEEN E
BTRSMTC	03432	001002	14940		JAP	TRSMT+.	JMPRN
BC	03433	103430	
BTR1C	03434	101471	14950		SEN	0471,TR1	SENSE SMC CLEAR TO SEND
BC	03435	003441	
BC	03436	100471	14960		EXC	0471	TURN ON REEST TO SEND
BTRSMTC	03437	001000	14970		JMP	TRSMT+.	JMPRN
BC	03440	103430	
BTR1M281C	03441	101022	14980	TR1	SEN	022,M281	SENSE BIC 2 NOT BUSY
BC	03442	003445	
BTRSMTC	03443	001000	14990		JMP	TRSMT+.
BC	03444	103430	
BM281MSG28C	03445	011105	15000	M281	LDA	MSG28
BTRSMTC	03446	001004	15010		JAN	TRSMT+.	IF MSG28 IS BUSY JMPRN
BC	03447	103430	
BPIPBC	03450	012752	15020		LDA	PIPB
BTRSMTC	03451	001004	15030		JAN	TRSMT+.	IF THE PHONE IS INPUTTING DATA JMPRN
BC	03452	103430	
BTRNSMTC	03453	010145	15040		LDA	=TRNSMT	OBTAIN THE BUFFER TO BE TRANSMITTED
BQGETC	03454	002000	15050		JMPM	QGET	AND ITS NUMBER
BC	03455	000725	
BTRSMTC	03456	001000	15060		JMP	TRSMT+.	* IF EMPTY THEN LEAVE
BC	03457	103430	
BTC	03460	050063	15070		STA	T	TEMPORARILY STORE THE PACKED WORD
BM282C	03461	001002	15080		JAP	M282	IS THIS LAST CARD BUFFER
BC	03462	003470	
BC	03463	150160	15090		ANA	=077777	YES - REE SIGN BIT
BTC	03464	050063	15100		STA	T
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:31.350

BC	03465	005311	15110		DEC	A,A	E FLAG FOR MSINT
BPIFFC	03466	052764	15120		STA	PIFF
BTC	03467	010063	15130		LDA	T
BM282C	03470	004353	15140	M282	LSRA	13	PUT BUFFER NO. IN B
BCB2NC	03471	053521	15150		STA	CB2N
BTC	03472	010063	15160		LDA	T
BC	03473	006150	15170		ANAI	017777	SAVE 13 LSB
BC	03474	017777	
BTC	03475	050063	15180		STA	T	PUT BUFFER ADDRESS IN T
BC	03476	005311	15190		DEC	A,A
BTRNSMTC	03477	051106	15200		STA	TRNSMT	E TRANSMIT BUSY
BTC	03500	010063	15210		LDA	T
BMLENC	03501	006120	15220		ADDI	MLEN+8D
BC	03502	000522	
BC	03503	005012	15230		TAB	PUT FINAL BIC ADDRESS IN B
BTC	03504	010063	15240		LDA	T	PUT INITIAL ADDRESS IN A
BP2C	03505	030011	15250		LDX	P2	PUT PHONE BIC NO IN X
BBICIOC	03506	002000	15260		JMPM	BICIO	START OUTPUTTING DATA TO THE 1108
BC	03507	001431	
BHALTC	03510	002000	15270		JMPM	HALT	BAD JMPRN
BC	03511	000006	
BC	03512	005311	15280		DEC	A,A
BDMSFLGC	03513	053522	15290		STA	DMSFLG	E DATA MESSAGE FLAG NEEDED BY MSGSENT
BC	03514	005001	15300		TZA
BTMFLC	03515	052762	15310		STA	TMFL	REE REEST FOR TRANSMISSION FLAG
BCLK6C	03516	050562	15320		STA	CLK6	START CLOCK 6 RUNNING
BTRSMTC	03517	001000	15330		JMP	TRSMT+.
BC	03520	103430	
BC	      	      	15340	*
BCB2NC	03521	000001	15350	CB2N	1	START OFF WITH BUFFER 1 UNRELEASED
BDMSFLGC	03522	000000	15360	DMSFLG	0
BC	      	      	15370	*
BC	      	      	15380	*****************************************************************
BC	      	      	15390	*
BC	      	      	15400	*      UNPC    UNPACK
BC	      	      	15410	*      W. L. FRANZ       SHELL DEVELOPMENT CO.
BC	      	      	15420	*      UNPC UNPACKS A TABLE OF DATA WITH TWO CHARACTERS PER WORD
BC	      	      	15430	*      (6 BITS+PARITY OR 8BIT AS(II) AND PLACES THE UNPACKED DATA ONE
BC	      	      	15440	*      CHARACTER PER WORD IN ANOTHER TABLE
BC	      	      	15450	*      THE FIRST WORD OF THE PACKED DATA HAS THE TOTAL NUMBER OF
BC	      	      	15460	*      CHARACTERS TO BE UNPACKED
BC	      	      	15470	*      WHEN THE SUBROUTINE IS JMPMED REGISTER A HAS THE ADDRESS OF
BC	      	      	15480	*      THE DATA TO BE UNPACKED AND REGISTER B CONTAINS THE ADDRESS INTO
BC	      	      	15490	*      WHICH THE UNPACKED DATA WILL BE PLACED
BC	      	      	15500	*      UPON JMPRN REGISTER X IS ZERO, A HAS THE LAST CHARACTER UNPACKE
BC	      	      	15510	*      AND B MAY BE ANYTHING
BC	      	      	15520	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	15530	*              HALT
BC	      	      	15540	*
BUNPCC	03523	000000	15550	UNPC	0
BPTR3C	03524	050054	15560		STA	PTR3	STORE LOC OF DATA TO BE UNPACKED
BPTR5C	03525	060056	15570		STB	PTR5	STORE LOC OF UNPACKED DATA
BPTR3C	03526	017003	15580		LDA	PTR3+.	GET NUMBER OF CHARACTERS TO BE UNPACKED
BC	03527	005014	15590		TAX	PUT NO CHAR IN X
BPTR3DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:31.983

BC	03530	040054	15600		INR	PTR3	GENERATE LOC OF FIRST DATA TO UNPACK
BHALTC	03531	002010	15610		JAZM	HALT	IF NO CHAR IS ZERO OR NEGATIVE HALT
BC	03532	000006	
BHALTC	03533	002004	15620		JANM	HALT
BC	03534	000006	
BSTUPC	03535	005001	15630	STUP	TZA
BPTR3C	03536	027003	15640		LDB	PTR3+.	OBTAIN TWO CHARACTERS
BC	03537	004450	15650		LLRL	8D	PUT ONE CHAR IN A
BPTR5C	03540	057004	15660		STA	PTR5+.	STORE UNPACKED CHAR
BC	03541	005344	15670		DXR	DECEMENT CHAR. COUNT
BUNPCC	03542	001040	15680		JXZ	UNPC+.	DONE ?
BC	03543	103523	
BC	03544	005001	15690		TZA
BPTR5C	03545	040056	15700		INR	PTR5	GET NEXT LOC FOR UNPACKED STORAGE
BC	03546	004450	15710		LLRL	8D	PUT SECOND CHAR IN A
BPTR5C	03547	057004	15720		STA	PTR5+.	STORE UNPACKED CHAR
BC	03550	005344	15730		DXR
BUNPCC	03551	001040	15740		JXZ	UNPC+.	DONE ?
BC	03552	103523	
BPTR5C	03553	040056	15750		INR	PTR5
BPTR3C	03554	040054	15760		INR	PTR3	LOC OF NEXT WORD OF PACKED DATA
BSTUPC	03555	001000	15770		JMP	STUP
BC	03556	003535	
BC	      	      	15780	*
BC	      	      	15790	*****************************************************************
BC	      	      	15800	*
BC	      	      	15810	*      CMPS    COMPRESS CARDS INTO TRANSMIT BUFFERS
BC	      	      	15820	*      E. B. FOLLIS      SHELL DEVELOPMENT CO.
BC	      	      	15830	*      CMPS CONVERTS HOLLERITH CHARACTERS READ INTO BUFFER FROM THE
BC	      	      	15840	*      940 TO XS3 CODE, COMPRESSES THEM, INSERTS THEM INTO A
BC	      	      	15850	*      TRANSMIT BUFFER, IMPLEMENTS ALL THE NECESSARY SYNC, SOM, CONTROL
BC	      	      	15860	*      EOM AND LRC CHARACTERS, AND WHEN A BUFFER IS FILLED A REEST
BC	      	      	15870	*      IS QUEUED TO TRANSMIT THE DATA BUFFER.
BC	      	      	15880	*      BITS 0-12 OF THE EXECUTIVE QUEUE 0Y CONTAIN THE BRF ADDR
BC	      	      	15890	*      BIT 13 CONTAINS THE BUFFER NUMBER =0 OR 1
BC	      	      	15900	*
BC	      	      	15910	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	15920	*              CMPX    HALT    QGET
BC	      	      	15930	*              BUFGT   BUFRLS  QREMOV
BC	      	      	15940	*              Q0Y
BC	      	      	15950	*
BC	      	      	15960	*
BCMPSC	03557	000000	15970	CMPS	0	SUBROUTINE COMPRESS
BC	03560	005001	15980		TZA
BOFBFC	03561	054276	15990		STA	OFBF	REE BUFFER OVERFLOW FLAG
BPFBUC	03562	014267	16000		LDA	PFBU	DO WE HAVE A PARTIALLY FILLED BUF ?
BCONVC	03563	001004	16010		JAN	CONV	YES!
BC	03564	003643	
BCMX3CPSBTC	03565	010146	16020	CMX3	LDA	=CPSBT	NO, LDA = BUF TBL. ADDR.
BBUFGETC	03566	002000	16030		JMPM	BUFGET	AND SEE IF WE CAN GET A BUF
BC	03567	001027	
BNOBUFC	03570	001000	16040		JMP	NOBUF	NO-DO WHAT MUST BE DONE
BC	03571	004042	
BCBFTC	03572	054260	16050		STA	CBFT	STORE BUF. ADDR. FOR LATER RELEASE
BCBFNDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:32.566

BC	03573	064260	16060		STB	CBFN	STORE BUF. NO. FOR LATER RELEASE
BC	03574	005014	16070		TAX	X	= BUF. STRT. LOC.
BC	03575	005021	16080		TBA	A	= BUF. NO.
BC	03576	004253	16090		LRLA	13	LEFT SHIFT 13
BCBFTC	03577	114253	16100		ORA	CBFT	BRING IN STRT. LOC.
BBNBAC	03600	054260	16110		STA	BNBA	BNBA = BUF. NO./BUF. STRT. LOC.
BC	03601	005042	16120		TXB	B	= BUFR. START LOC.
BPHBZC	03602	006010	16130		LDAI	-PHBZ	A = NEG. OF NO. OF TIMES TO INIT.
BC	03603	177247	
BB100C	03604	030034	16140		LDX	B100	X = VALUE FOR BUFR. INIT.
BCPLOC	03605	076000	16150	CPLO	STX	0,B	STORE X IN CURRENT LOC.
BC	03606	005122	16160		IBR	INCEMENT LOC. POINTER.
BC	03607	005111	16170		IAR	INCEMENT COUNTER
BCPLOC	03610	001004	16180		JAN	CPLO	ARE WE THRU WITH INIT.
BC	03611	003605	
BCBFTC	03612	034240	16190		LDX	CBFT	NOW RESTORE X.
BC	03613	006010	16200		LDAI	065	A = SYNC CHARACTER
BC	03614	000065	
BC	03615	055000	16210		STA	0,X	WD1 = SYNC.
BC	03616	005144	16220		IXR
BC	03617	055000	16230		STA	0,X	WD2 = SYNC.
BC	03620	005144	16240		IXR
BC	03621	055000	16250		STA	0,X	WD3 = SYNC.
BC	03622	005144	16260		IXR
BC	03623	055000	16270		STA	0,X	WD4 = SYNC.
BC	03624	005144	16280		IXR
BB100C	03625	010034	16290		LDA	B100	A = SOM CHARACTER
BC	03626	055000	16300		STA	0,X	WD5 = SOM
BC	03627	005144	16310		IXR
BC	03630	055000	16320		STA	0,X	WD6 = 0 (FOR POSSIBLE EOF STORE)
BBWD5C	03631	074230	16330		STX	BWD5	BWD5 = ADDR WD6 FOR CONTROL E
BCBFAC	03632	074222	16340		STX	CBFA	X = ADDR DF7 (1ST WD SYNC'ED BUF.)
BC	03633	005041	16350		TXA
BDAT2C	03634	124222	16360		ADD	DAT2	DAT2 = MLEN-3
BCTBEC	03635	054220	16370		STA	CTBE	LAST AVAILABLE WD IN BUFF FOR CMPX
BP4C	03636	120013	16380		ADD	P4	ADD 4 FOR EO MESSAGE STORE
BCEOMC	03637	054224	16390		STA	CEOM	326TH WD=EOM LOC. FOR LATER STORE
BXS3DC	03640	014210	16400		LDA	XS3D	DO WE STILL HAVE AN INPUT BUFFER TO
BC	      	      	16410	*                              COMPRESS
BCMX1C	03641	001004	16420		JAN	CMX1	YES! GO COMPRESS!
BC	03642	003713	
BCONVCMPRESC	03643	010161	16430	CONV	LDA	=CMPRES	OBTAIN ADDRESS OF INPUT BUFFER
BQGETC	03644	002000	16440		JMPM	QGET
BC	03645	000725	
BHALTC	03646	002000	16450		JMPM	HALT	FAILURE
BC	03647	000006	
BC	03650	006150	16460		ANAI	077777
BC	03651	077777	
BC	03652	005002	16470		TZB
BC	03653	004443	16480		LLRL	3
BC	03654	004343	16490		LSRA	3
BDBULC	03655	054434	16500		STA	DBUL	SAVE BUFFER ADDRESS
BPTR1C	03656	050052	16510		STA	PTR1	AND STORE FOR INDIRECT ADDR.
BC	03657	005021	16520		TBA
BP1DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:33.150

BC	03660	150010	16530		ANA	P1	EXTRACT BIT 13 OF QUE REEST
BDBUNC	03661	054431	16540		STA	DBUN	SAVE BUFFER NUMBER
BC	03662	005001	16550		TZA	A=0 FOR CNTR INITIALIZATION
BPTR3C	03663	050054	16560		STA	PTR3	SO GOES PTR3
BUNCXC	03664	054176	16570		STA	UNCX	REE UNCOMPRESSABLE CHAR. FLAG
BCL9PPTR1C	03665	017005	16580	CL9P	LDA	PTR1+.	IT IS 940 INPUT
BC	03666	005012	16590		TAB
BB177C	03667	130036	16600		ERA	B177	IS THE CHARACTER A LOZENGE?
BCMX6C	03670	001010	16610		JAZ	CMX6	YES, GO E FLAG
BC	03671	003711	
BC	03672	005021	16620		TBA	NO,
BB160C	03673	130035	16630		ERA	B160	IS THE CHARACTER AN UNEAL SIGN?
BCMX6C	03674	001010	16640		JAZ	CMX6	YES-GO E FLAG
BC	03675	003711	
BCMX7C	03676	001000	16650		JMP	CMX7	NO, ON YOUR MERRY WAY''
BC	03677	003700	
BCMX7PTR1C	03700	040052	16660	CMX7	INR	PTR1	INCEMENT CHARACTER AND
BPTR3C	03701	040054	16670		INR	PTR3	CNT POINTER
BPTR3C	03702	010054	16680		LDA	PTR3	GET CNTR IN A
BC	03703	006140	16690		SUBI	80D	AND SEE IF WE ARE THRU
BC	03704	000120	
BCMX1C	03705	001002	16700		JAP	CMX1	YES.
BC	03706	003713	
BCL9PC	03707	001000	16710		JMP	CL9P	NO, LOOP BACK
BC	03710	003665	
BCMX6M1C	03711	010022	16720	CMX6	LDA	M1	FOUND UNCOMPRESSABLE CHARACTER
BUNCXC	03712	054150	16730		STA	UNCX	E FLAG
BCMX1CBFAC	03713	014141	16740	CMX1	LDA	CBFA	A=LAST BUFFER ADDRESS USED
BCMPXC	03714	002000	16750		JMPM	CMPX	GO COMPRESS CARD!
BC	03715	004065	
BOVFLC	03716	001000	16760		JMP	OVFL	OVERFLOWED BUFFER
BC	03717	004031	
BCBFAC	03720	064134	16770		STB	CBFA	STORE LAST ADDR. STORED INTO
BCEOFC	03721	001004	16780		JAN	CEOF	EOF ENCOUNTERED - GO AWAY!
BC	03722	003735	
BCBFAC	03723	044131	16790		INR	CBFA	E CBFA = NEXT AVAILABLE BUF. ADDR.
BCBFAC	03724	034130	16800		LDX	CBFA	AND LOAD X FOR END OF CARD CHARACTER
BB160C	03725	010035	16810		LDA	B160	A =	(.NE. CHAR.)
BC	03726	055000	16820		STA	0,X	STORE END OF CARD CHARACTER
BM1C	03727	010022	16830		LDA	M1	TURN ON FLAG FOR PARTIALLY
BPFBUC	03730	054121	16840		STA	PFBU	FILLED BUFFER
BC	03731	005001	16850		TZA
BXS3DC	03732	054116	16860		STA	XS3D	REE INPUT BUFFER TO COMPRESS FLAG
BCMX2C	03733	001000	16870		JMP	CMX2
BC	03734	004020	
BCEOFTTYMSGC	03735	010120	16880	CEOF	LDA	=TTYMSG	REEST EOF MESSAGE
BMT11C	03736	020162	16890		LDB	=MT11
BQ0YC	03737	002000	16900		JMPM	Q0Y
BC	03740	000657	
BC	03741	006010	16910		LDAI	013	A = CONTROL WD FOR EOF
BC	03742	000013	
BBWD5C	03743	034116	16920		LDX	BWD5	X = ADDR. OF WD5
BC	03744	055000	16930		STA	0,X	W5 = CONTROL WORD
BBNBAC	03745	014113	16940		LDA	BNBA	E SIGN BIT OF BNBA TO INDICATE FINAL
BM0DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:33.750

BC	03746	110021	16950		ORA	M0	CARD BUFFER (TRSMT LOOKS FOR THIS)
BBNBAC	03747	054111	16960		STA	BNBA
BCMX4CEOMC	03750	034113	16970	CMX4	LDX	CEOM	326TH LOC. FOR EOM STORE
BC	03751	006010	16980		LDAI	0125	A = EOM CHARACTER
BC	03752	000125	
BC	03753	055000	16990		STA	0,X	326TH WD = EOM
BB160C	03754	010035	17000		LDA	B160	A =	(.NE. CHAR.)
BCBFAC	03755	034077	17010		LDX	CBFA	X = LAST ADDR WD STORED INTO
BC	03756	005144	17020		IXR
BC	03757	055000	17030		STA	0,X	LAST WD -1 IN BUF IS	(.NE. CHAR.)
BC	03760	005144	17040		IXR
BC	03761	055000	17050		STA	0,X	LAST WD IN BUF IS	(.NE. CHAR.)
BC	03762	005002	17060		TZB	B=0 FOR CNTR INITIALIZATION
BT4C	03763	060067	17070		STB	T4	AND INITIALIZE CNTR.
BCBFTC	03764	014066	17080		LDA	CBFT	A = ADDR 1ST LOCATION IN BUFFER
BP5C	03765	120014	17090		ADD	P5	A = ADDR 6TH LOCATION IN BUFFER
BC	03766	005014	17100		TAX
BC	03767	015000	17110		LDA	0,X	A = CONTENTS OF 6TH LOCATION
BCEORC	03770	005144	17120	CEOR	IXR	X = ADDR OF CURRENT LOCATION
BC	03771	135000	17130		ERA	0,X	EXCLUSIVE OR LOOP FOR CHECK SUM
BT4C	03772	040067	17140		INR	T4	BUMP CNTR.
BC	03773	005012	17150		TAB	SAVE A.
BT4C	03774	010067	17160		LDA	T4	A= CNTR.
BMLENC	03775	006140	17170		SUBI	MLEN	ARE WE THRU LOOPING
BC	03776	000512	
BCMX5C	03777	001002	17180		JAP	CMX5	YES.
BC	04000	004004	
BC	04001	005021	17190		TBA	RESTORE A.
BCEORC	04002	001000	17200		JMP	CEOR	NO, KEEP EOR-ING
BC	04003	003770	
BCMX5C	04004	005144	17210	CMX5	IXR	INCEMENT X ONCE,
BC	04005	005144	17220		IXR	AND TWICE FOR CHECKSUM STORE.
BC	04006	065000	17230		STB	0,X	STORE LRC IN LAST BUFFER WD.
BC	04007	005001	17240		TZA
BPFBUC	04010	054041	17250		STA	PFBU	REE PARTIALLY FILLED BUFFER FLAG
BTRNSMTC	04011	010145	17260		LDA	=TRNSMT	REEST 0Y
BBNBAC	04012	024046	17270		LDB	BNBA	TO TRANSMIT (B = BUF NO./BUF ADDR.)
BQ0YC	04013	002000	17280		JMPM	Q0Y	TABLE
BC	04014	000657	
BOFBFC	04015	014042	17290		LDA	OFBF	IN OVERFLOW MODE
BOVF1C	04016	001004	17300		JAN	OVF1	YES, BRANCH
BC	04017	004036	
BCMX2IBUTC	04020	010163	17310	CMX2	LDA	=IBUT	ADDRESS OF INPUT BUFFER TABLE
BDBUNC	04021	024271	17320		LDB	DBUN	BUFFER NUMBER
BBUFRELC	04022	002000	17330		JMPM	BUFREL	RELEASE INPUT BUFFER
BC	04023	001057	
BCMPRESC	04024	010161	17340		LDA	=CMPRES
BQREMOVC	04025	002000	17350		JMPM	QREMOV	REMOVE 0Y FROM COMPRESS QUEUE
BC	04026	000766	
BCMPSC	04027	001000	17360		JMP	CMPS+.	JMPRN
BC	04030	103557	
BOVFLCBFAC	04031	064023	17370	OVFL	STB	CBFA
BM1C	04032	010022	17380		LDA	M1	E BUFFER OVERFLOW
BOFBFC	04033	054024	17390		STA	OFBF	FLAG AND
BCMX4DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:34.350

BC	04034	001000	17400		JMP	CMX4	GO AWAY
BC	04035	003750	
BOVF1M1C	04036	010022	17410	OVF1	LDA	M1	E INPUT BUFFER TO BE COMPRESSED FLAG
BXS3DC	04037	054011	17420		STA	XS3D
BCMX3C	04040	001000	17430		JMP	CMX3	AND GO TRY TO GET A BUFFER
BC	04041	003565	
BNOBUFCMPRESC	04042	010161	17440	NOBUF	LDA	=CMPRES
BQGETC	04043	002000	17450		JMPM	QGET
BC	04044	000725	
BHALTC	04045	002000	17460		JMPM	HALT	THERE WERE NO 0IES ON COMPRESS QUEUE
BC	04046	000006	
BCMPSC	04047	001000	17470		JMP	CMPS+.	JMPRN
BC	04050	103557	
BC	      	      	17480	*
BXS3DC	04051	000000	17490	XS3D	0	INPUT BUFFER TO BE COMPRESSED FLAG
BPFBUC	04052	000000	17500	PFBU	0	PARTIAL BUFFER FLAG
BCBFTC	04053	      	17510	CBFT	R	*+1	BUFFER ADDR
BCBFNC	04054	      	17520	CBFN	R	*+1	BUFFER NO
BCBFAC	04055	      	17530	CBFA	R	*+1	LAST LOCATION IN BUFFER STORED INTO
BCTBEC	04056	      	17540	CTBE	R	*+1	END OF USABLE BUFFER (ADDR)
BDAT2MLENC	04057	000507	17550	DAT2	+MLEN-3
BOFBFC	04060	000000	17560	OFBF	0
BBNBAC	04061	      	17570	BNBA	R	*+1
BBWD5C	04062	      	17580	BWD5	R	*+1
BUNCXC	04063	000000	17590	UNCX	0	UNCOMPRESSABLE CARD FLAG
BCEOMC	04064	      	17600	CEOM	R	*+1	EOM LOCATION
BC	      	      	17610	*
BC	      	      	17620	****************************************************************
BC	      	      	17630	*
BC	      	      	17640	*      CMPX    COMPRESS A CARD
BC	      	      	17650	*      W. H. JOBE        SHELL DEVELOPMENT CO.
BC	      	      	17660	*      E. B. FOLLIS      SHELL DEVELOPMENT CO.
BC	      	      	17670	*      CMPX COMPRESSES A CARD IN XS-3 INTO A TRANSMIT BUFFER.  IT
BC	      	      	17680	*      ALSO CHECKS AND REPORTS TRANSMIT BUFFER OVERFLOW AND END OF
BC	      	      	17690	*      FILE.  THE END OF FILE CARD IS ASSUMED TO BE A 7/8 PUNCH IN
BC	      	      	17700	*      COLUMN 1 AND COLUMN 2.
BC	      	      	17710	*
BC	      	      	17720	*              0Y - A = LAST ADDRESS IN CURRENT TRANSMIT BUFFER
BC	      	      	17730	*                          THAT SOMETHING WAS STORED.
BC	      	      	17740	*
BC	      	      	17750	*              EXIT -  B = LAST ADDRESS CMPX PUT A CHARACTER INTO
BC	      	      	17760	*                          TRANSMIT BUFFER.  (NOTE - CMPX PUTS
BC	      	      	17770	*                          CHARACTERS AND ONLY CHARACTERS THAT WERE
BC	      	      	17780	*                          ON CARD INTO TRANSMIT BUFFER, WITH THE
BC	      	      	17790	*                          SINGULAR EXCEPTION OF A C OR B IN THE
BC	      	      	17800	*                          FIRST AVAILABLE LOCATION UPON 0Y
BC	      	      	17810	*                          TO INDICATE A COMPRESSED OR UNCOMPRESSED
BC	      	      	17820	*                          CARD, RESPECTIVELY.)
BC	      	      	17830	*
BC	      	      	17840	*                          IF A IS NEGATIVE ON EXIT THEN END OF
BC	      	      	17850	*                          FILE WAS ON CARD TO BE COMPRESSED.
BC	      	      	17860	*
BC	      	      	17870	*                          EXIT IS MADE WITH SKIP JMPRN.
BC	      	      	17880	*
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:34.983

BC	      	      	17890	*
BC	      	      	17900	*      NO SKIP ON JMPRN MEANS THAT CARD CAUSED BUFFER OVERFLOW.
BC	      	      	17910	*
BC	      	      	17920	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	17930	*              NONE
BC	      	      	17940	*
BC	      	      	17950	*
BCMPXC	04065	000000	17960	CMPX	0
BLGBC	04066	054220	17970		STA	LGB	SAVE B IN LAST GOOD B.
BC	04067	005012	17980		TAB
BDBULC	04070	014221	17990		LDA	DBUL	ADDRESS OF INPUT BUFFER
BC	04071	006120	18000		ADDI	72D
BC	04072	000110	
BCBFLC	04073	054215	18010		STA	CBFL	LAST TAB STOP
BC	04074	006120	18020		ADDI	7
BC	04075	000007	
BCBFEC	04076	054211	18030		STA	CBFE	END-OF-CARD
BDBULC	04077	034212	18040		LDX	DBUL	ADDRESS OF BUFFER
BC	04100	015000	18050		LDA	0,X	GET FIRST CHARACTER OF BUFFER
BB40C	04101	130031	18060		ERA	B40	CHECK FOR EOF
BEOFFC	04102	001010	18070		JAZ	EOFF	POSSIBLE
BC	04103	004242	
BCMP0UNCXC	04104	017006	18080	CMP0	LDA	UNCX	DO WE HAVE AN UNCOMPRESSABLE CARDU
BUNCCC	04105	001004	18090		JAN	UNCC	YES, GO STORE'
BC	04106	004253	
BC	04107	005122	18100		IBR	INCEMENT B
BC	04110	006010	18110		LDAI	026	A = C FOR COMPRESSED CARD
BC	04111	000026	
BC	04112	056000	18120		STA	0,B	AND STORE IN FIRST AVAILABLE LOCATIO
BDBULC	04113	014176	18130		LDA	DBUL	INPUT BUFFER ADDRESS
BP8C	04114	120017	18140		ADD	P8
BC	04115	005014	18150		TAX	FORM INDEX INTO BUFFER
BC	      	      	18160	*      SCAN FIELD OF 8
BCMP1C	04116	005001	18170	CMP1	TZA
BT3C	04117	050066	18180		STA	T3	REE COUNTER
BCMP2C	04120	005344	18190	CMP2	DXR
BC	04121	015000	18200		LDA	0,X	GET NEXT CHARACTER
BB100C	04122	130034	18210		ERA	B100	IS THE CHARACTER A BLANKU
BC	04123	001010	18220		JAZ	*+4	YES'
BC	04124	004127	
BCMP4C	04125	001000	18230		JMP	CMP4	NO.
BC	04126	004164	
BT3C	04127	040066	18240		INR	T3
BT3C	04130	010066	18250		LDA	T3
BP8C	04131	140017	18260		SUB	P8
BC	04132	001010	18270		JAZ	*+4
BC	04133	004136	
BCMP2C	04134	001000	18280		JMP	CMP2
BC	04135	004120	
BC	04136	005122	18290		IBR
BB177C	04137	010036	18300		LDA	B177	PUT LOZENGE IN XS3 INTO
BC	04140	056000	18310		STA	0,B	TRANSMIT BUFFER
BCMP3C	04141	005021	18320	CMP3	TBA	A = LAST ADDR. STORED INTO.
BCTBEC	04142	147007	18330		SUB	CTBE	- LAST AVAILABLE ADDR. TO STORE INTO
BNSKPDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:35.550

BC	04143	001002	18340		JAP	NSKP	WE HAVE OVERFLOWED BUFFER.
BC	04144	004147	
BCPOKC	04145	001000	18350		JMP	CPOK
BC	04146	004152	
BNSKPLGBC	04147	024137	18360	NSKP	LDB	LGB	RESTORE LAST GOOD B
BCMPXC	04150	001000	18370		JMP	CMPX+.	FAIL SKIP
BC	04151	104065	
BCPOKC	04152	005041	18380	CPOK	TXA	ARE WE DONE.
BCBFLC	04153	144135	18390		SUB	CBFL
BCMP7C	04154	001002	18400		JAP	CMP7	YES
BC	04155	004223	
BC	04156	005041	18410		TXA	NO, CONTINUE
BC	04157	006120	18420		ADDI	16D	MOVE OVER ON CARD
BC	04160	000020	
BC	04161	005014	18430		TAX	X	NOW RIGHT
BCMP1C	04162	001000	18440		JMP	CMP1	START SCAN
BC	04163	004116	
BC	      	      	18450	*      CODE FOR FIELD WITH NON-BLANK CHARACTERS
BCMP4P8C	04164	010017	18460	CMP4	LDA	P8
BT3C	04165	140066	18470		SUB	T3
BT1C	04166	070064	18480		STX	T1
BC	04167	005014	18490		TAX	X	IS NUMBER OF CHARACTERS
BT2C	04170	050065	18500		STA	T2	TEMP. STORE FOR NO. CHARS. TO MOVE
BP7C	04171	140016	18510		SUB	P7	DO WE HAVE SEVEN CHARATERS TO MOVE
BCMP9C	04172	001010	18520		JAZ	CMP9	YES, GO CHANGE A AND X.
BC	04173	004300	
BCMP8T1C	04174	010064	18530	CMP8	LDA	T1	CURRENT ADDR. CHAR. FOUND
BT2C	04175	140065	18540		SUB	T2	SUBTRACT NO. OF CHAR. TO MOVE
BC	04176	005111	18550		IAR	INCEMENT A ONCE FOR PROPER LOC.
BT2C	04177	050065	18560		STA	T2	T2,T4 ARE BEGINNING
BT4C	04200	050067	18570		STA	T4	FIELD ADDRESSES.
BC	      	      	18580	*      CODE TO MOVE NON-BLANKS TO TRANSMIT BUFFER
BCMP5T4C	04201	017010	18590	CMP5	LDA	T4+.
BC	04202	005122	18600		IBR
BC	04203	056000	18610		STA	0,B
BC	04204	005344	18620		DXR
BCMP6C	04205	001040	18630		JXZ	CMP6
BC	04206	004212	
BT4C	04207	040067	18640		INR	T4
BCMP5C	04210	001000	18650		JMP	CMP5
BC	04211	004201	
BCMP6T2C	04212	030065	18660	CMP6	LDX	T2
BT3C	04213	010066	18670		LDA	T3	NO TRAILING BLANKS.
BCMP3C	04214	001010	18680		JAZ	CMP3	YES
BC	04215	004141	
BB177C	04216	010036	18690		LDA	B177	NO.	PUT IN THE
BC	04217	005122	18700		IBR	LOZENGE.
BC	04220	056000	18710		STA	0,B
BCMP3C	04221	001000	18720		JMP	CMP3
BC	04222	004141	
BCMP7C	04223	016000	18730	CMP7	LDA	0,B	GET LAST CHARACTER STORED (PTR IN B)
BB177C	04224	130036	18740		ERA	B177	IS IT A LOZENGE?
BC	04225	001010	18750		JAZ	*+4	YES, TAKE IT OUT
BC	04226	004231	
BCPFIDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:36.083

BC	04227	001000	18760		JMP	CPFI	NO, LEAVE AS IS
BC	04230	004236	
BB100C	04231	010034	18770		LDA	B100	REE CHARACTER TO 100
BC	04232	056000	18780		STA	0,B
BC	04233	005322	18790		DBR
BCMP7C	04234	001000	18800		JMP	CMP7
BC	04235	004223	
BCPFICMPXC	04236	047011	18810	CPFI	INR	CMPX
BCMPXC	04237	047011	18820		INR	CMPX
BCMPXC	04240	001000	18830		JMP	CMPX+.
BC	04241	104065	
BEOFFC	04242	015001	18840	EOFF	LDA	1,X	REALLY EOF? X HAS INPUT BUFFER ADDRE
BB40C	04243	130031	18850		ERA	B40
BC	04244	001010	18860		JAZ	*+4	IT IS EOF
BC	04245	004250	
BCMP0C	04246	001000	18870		JMP	CMP0	NO.
BC	04247	004104	
BM1C	04250	010022	18880		LDA	M1	EOF CASE
BCPFIC	04251	001000	18890		JMP	CPFI	JMPRN SKIPPING.
BC	04252	004236	
BC	      	      	18900	*      CODE TO MOVE UNCOMPRESSABLE CARD FOLLOWS
BUNCCC	04253	005021	18910	UNCC	TBA	SO, WE HAVE AN UNCOMPRESSABLE CARD'
BC	04254	006120	18920		ADDI	80D	ADD 1 LESS THAN WE NEED
BC	04255	000120	
BCTBEC	04256	147007	18930		SUB	CTBE	AND SUB. IN ORDER TO JAP IF JUST FIT
BNSKPC	04257	001002	18940		JAP	NSKP	OVERFLOW, GO NO SKIP JMPRN
BC	04260	004147	
BC	04261	005122	18950		IBR
BC	04262	006010	18960		LDAI	025	A = B FOR UNCOMPRESSED CARD
BC	04263	000025	
BC	04264	056000	18970		STA	0,B	AND STORE.
BDBULC	04265	034024	18980		LDX	DBUL	X = FIRST LOCATION IN CARD BUFFER
BUNC1C	04266	015000	18990	UNC1	LDA	0,X	LOAD A WITH CHARACTER FROM CARD BUF.
BC	04267	005122	19000		IBR	INCEMENT B FOR CORRECT STORE INDEX
BC	04270	056000	19010		STA	0,B	AND STORE CHARACTER DIRECT.
BC	04271	005041	19020		TXA
BC	04272	005144	19030		IXR	INCEMENT X FOR NEXT CHAR. PICKUP
BCBFEC	04273	144014	19040		SUB	CBFE	HAVE WE TRANSFERRED ALLU
BUNC1C	04274	001004	19050		JAN	UNC1	NO, KEEP LOOPING'
BC	04275	004266	
BCPFIC	04276	001000	19060		JMP	CPFI	YES, GO SKIP JMPRN WITH B ALRIGHT
BC	04277	004236	
BCMP9C	04300	005001	19070	CMP9	TZA
BT3C	04301	050066	19080		STA	T3	NO BLANKS FOUND FOR THIS TRIP
BT1C	04302	040064	19090		INR	T1	INCEMENT LOCATION CNTR CORRECT
BT2C	04303	040065	19100		INR	T2	INCEMENT NO. OF CHARACTERS TO MOVE
BP8C	04304	030017	19110		LDX	P8	MAKE X RITE FOR 8 CHAR. STORE
BCMP8C	04305	001000	19120		JMP	CMP8	AND GO BACK PROPER
BC	04306	004174	
BC	      	      	19130	*
BLGBC	04307	      	19140	LGB	R	*+1
BCBFEC	04310	      	19150	CBFE	R	*+1	END OF CARD BUFFER LOCATION
BCBFLC	04311	      	19160	CBFL	R	*+1	ADDRESS OF LAST TAB STOP
BDBULC	04312	      	19170	DBUL	R	*+1	INPUT BUFFER ADDRESS
BDBUNDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:36.650

BC	04313	      	19180	DBUN	R	*+1	INPUT BUFFER NUMBER
BC	      	      	19190	*
BC	      	      	19200	*******************************************************************
BC	      	      	19210	*
BC	      	      	19220	*      EDSPCH     DISPATCHES INSTRUCTIONS AFTER A TTY WORD KEYED IN
BC	      	      	19230	*      E. B. FOLLIS      SHELL DEVELOPMENT CO.
BC	      	      	19240	*      EDSPCH INTERRAGATES A WORD KEYED IN FROM THE TELETYPE AND THEN
BC	      	      	19250	*      DISPATCHES INSTRUCTIONS AND/OR MESSAGES TO THE NECESSARY PLACES.
BC	      	      	19260	*      IF AN UNKOWN WORD IS KEYED IN, DISPATCH SENDS BACK A '???'.
BC	      	      	19270	*      THIS ALSO OCCURS IF A 'XMT' IS TYPED IN AND THE READ ROUTINE IS
BC	      	      	19280	*      ON, BUSY OR PENDING.  THE FOLLOWING ARE VALID COMMAND WORDS:
BC	      	      	19290	*
BC	      	      	19300	*              'RDY'     READY
BC	      	      	19310	*              'OFF'     OFF
BC	      	      	19320	*
BC	      	      	19330	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	19340	*              Q0Y
BC	      	      	19350	*
BC	      	      	19360	*
BEDSPCHC	04314	000000	19370	EDSPCH	0	SUBROUTINE DISPATCH
BCMNDC	04315	011717	19380		LDA	CMND	A=WORD FROM TELETYPE
BT1C	04316	050064	19390		STA	T1	STORE TEMP
BC	04317	005002	19400		TZB	INITIALIZE CNTR. (B)
BEDT1C	04320	006030	19410		LDXI	EDT1	X=ADDR OF WORD TABLE
BC	04321	004435	
BELOPT1C	04322	010064	19420	ELOP	LDA	T1	A=COMMAND WORD
BC	04323	135000	19430		ERA	0,X	EXCLUSIVE OR WITH TABLE WORD
BEWERC	04324	001010	19440		JAZ	EWER	WORD IDENTIFIED?
BC	04325	004350	
BC	04326	005122	19450		IBR	NO, INCEMENT B AND SEE
BC	04327	005021	19460		TBA	A	= CNTR.
BNCOMC	04330	124106	19470		ADD	NCOM	ARE WE THRU?
BEBWDC	04331	001002	19480		JAP	EBWD	YES, BAD CMNWD.
BC	04332	004336	
BC	04333	005144	19490		IXR	INCEMENT X TO POINT TO NEXT WORD
BELOPC	04334	001000	19500		JMP	ELOP	AND LOOP BACK
BC	04335	004322	
BEBWDMT12C	04336	020164	19510	EBWD	LDB	=MT12	ILLEGAL COMMAND WORD
BTTYMSGC	04337	010120	19520		LDA	=TTYMSG
BQ0YC	04340	002000	19530		JMPM	Q0Y	TABLE
BC	04341	000657	
BEBAKC	04342	100440	19540	EBAK	EXC	0440	DISABLE PIM
BC	04343	005001	19550		TZA	TAKE DSPTCH OFF QUEUE
BDSPTCHC	04344	051112	19560		STA	DSPTCH
BC	04345	100240	19570		EXC	0240	ENABLE PIM
BEDSPCHC	04346	001000	19580		JMP	EDSPCH+.	AND JMPRN.
BC	04347	104314	
BEWERCMNDC	04350	051717	19590	EWER	STA	CMND	DESTROY OLD COMMAND WORD
BC	04351	005041	19600		TXA	A=LOCATION IN TBL1 WHERE WD. FOUND
BEDT1C	04352	006140	19610		SUBI	EDT1	A=NO. OF LOC. BEYOND TBL1 WD. FOUND
BC	04353	004435	
BEDT2C	04354	006120	19620		ADDI	EDT2	A= LOC. IN TBL2 CORRESPONDING TO TBL
BC	04355	004440	
BC	04356	005012	19630		TAB	B=A
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:37.233

BC	04357	016000	19640		LDA	0,B	A=LOCATION OF PROPER CODE FOR WORD
BEDINSC	04360	054001	19650		STA	EDINS
BC	04361	001000	19660		01000	DATA=JMP INSTRUCTION
BEDINSEDINSC	04362	004361	19670	EDINS	+EDINS-1	INFINITE LOOP IF NOTHING GETS STORED
BC	      	      	19680	*
BC	      	      	19690	*        READY KEY-IN WILL NOT BE HONORED UNLESS COMMUNICATIONS HAVE
BC	      	      	19700	*        BEEN STOPPED WITH AN OFF KEY-IN (COMF=-1)
BC	      	      	19710	*
BEDRDYCOMFC	04363	014050	19720	EDRDY	LDA	COMF	RDY KEY-IN WILL NOT BE HONORED UNLESS OFF
BEBWDC	04364	001002	19730		JAP	EBWD	WAS KEYED-IN (COMF=-1)
BC	04365	004336	
BC	04366	100440	19740		EXC	0440	DISABLE PIM
BC	04367	005001	19750		TZA
BTO08C	04370	050564	19760		STA	TO08	ACTIVATE 1108 TIME OUT
BPREPC	04371	002000	19770		JMPM	PREP
BC	04372	004375	
BEBAKC	04373	001000	19780		JMP	EBAK	GO JMPRN.
BC	04374	004342	
BPREPC	04375	000000	19790	PREP	0
BRNP1C	04376	030165	19800		LDX	=RNP1	E UP TO TRANSMIT READY MESSAGES
BC	04377	006020	19810		LDBI	02000	CHANGE TWO
BC	04400	002000	
BC	04401	065000	19820		STB	0,X	RNP1 TO A
BC08RDYC	04402	010166	19830		LDA	=C08RDY	MARK TO
BC	04403	055001	19840		STA	1,X	C08RDY.
BRNP2C	04404	030167	19850		LDX	=RNP2	CHANGE TWO
BC	04405	065000	19860		STB	0,X	RNP2 TO A
BC	04406	055001	19870		STA	1,X	C08RDY.
BRNP3C	04407	030170	19880		LDX	=RNP3	CHANGE TWO
BC	04410	065000	19890		STB	0,X	RNP3 TO A
BSRDYC	04411	010171	19900		LDA	=SRDY	JUMP AND
BC	04412	055001	19910		STA	1,X	SRDY.
BREDYC	04413	010172	19920		LDA	=REDY	PREPARE FOR SENDING READY-MESSAGES
BSRD2C	04414	050544	19930		STA	SRD2+2
BP9C	04415	010020	19940		LDA	P9
BSRC1C	04416	050517	19950		STA	SRC1+1	E READY PERIOD TO 9 SECS
BC	04417	005001	19960		TZA	A	= ZERO.	NOW STORE'
BCLK2C	04420	050557	19970		STA	CLK2	REE CLOCK INTERRUPT (RECORDER TO).
BCLK3C	04421	050560	19980		STA	CLK3	REE CLOCK INTERRUPT (READY TRNSMT)
BCOMFC	04422	054011	19990		STA	COMF	REE COMMUNICATIONS ESTABLISHED FLAG
BPREPC	04423	001000	20000		JMP	PREP+.
BC	04424	104375	
BEDOFFC	04425	100440	20010	EDOFF	EXC	0440	OFF WAS KEYED-IN - DISABLE PIM
BC	04426	005311	20020		DEC	A,A
BCOMFC	04427	054004	20030		STA	COMF	E COMF=-1 TO INDICATE OFF KEY-IN
BSHUTC	04430	002000	20040		JMPM	SHUT
BC	04431	000472	
BEBAKC	04432	001000	20050		JMP	EBAK	JMPRN
BC	04433	004342	
BC	      	      	20060	*
BC	      	      	20070	*
BCOMFC	04434	000000	20080	COMF	0	COMMUNICATIONS ESTABLISHED FLAG
BEDT1C	04435	151304	20090	EDT1	ASC	'RD'	READY
BC	04436	147706	20100		ASC	'OF'	OFF
BNCOMDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:37.816

BC	04437	177776	20110	NCOM	-2	NUMBER OF COMMANDS (-)
BEDT2EDRDYC	04440	004363	20120	EDT2	+EDRDY
BEDOFFC	04441	004425	20130		+EDOFF
BC	      	      	20140	*
BC	      	      	20150	******************************************************************
BC	      	      	20160	*
BC	      	      	20170	*      CITM AND MTIC     CHANGE INTRRUPT MASK
BC	      	      	20180	*      E. B. FOLLIS      SHELL DEVELOPMENT CO.
BC	      	      	20190	*      CITM ES USERS MASK INTO HARDWARE REGISTER, UPDATES SOFTWARE
BC	      	      	20200	*      REGISTER AND JMPRNS OLD MASK TO USER.  MTIC ES USERS MASK
BC	      	      	20210	*      INTO HARDWARE REGISTER.
BC	      	      	20220	*
BC	      	      	20230	*      CITM    0Y -
BC	      	      	20240	*                    A - NEW INTERRUPT MASK TO BE STORED
BC	      	      	20250	*              EXIT -
BC	      	      	20260	*                    A - OLD INTERRUPT MASK
BC	      	      	20270	*
BC	      	      	20280	*      MTIC    0Y -
BC	      	      	20290	*                    A - NEW INTERRUPT MASK TO BE STORED
BC	      	      	20300	*
BC	      	      	20310	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	20320	*              NONE
BC	      	      	20330	*
BC	      	      	20340	*
BCITMC	04442	000000	20350	CITM	0	SUBROUTINE CITM
BC	04443	100440	20360		EXC	0440	DISABLE ALL INTERRUPTS
BSFTRC	04444	020050	20370		LDB	SFTR	SAVE CURRENT MASK AND
BSFTRC	04445	050050	20380		STA	SFTR	STORE NEW MASK.
BC	04446	103140	20390		OAR	040	PUT NEW MASK IN HARDWARE REGISTER
BC	04447	005021	20400		TBA	AND PUT OLD MASK IN A
BCITMC	04450	001000	20410		JMP	CITM+.	AND JMPRN.
BC	04451	104442	
BMTICC	04452	000000	20420	MTIC	0	SUBROUTINE MTIC
BC	04453	100440	20430		EXC	0440	DISABLE ALL INTERRUPTS
BSFTRC	04454	050050	20440		STA	SFTR	UPDATE SOFTWARE AND HARWARE REGISTER
BC	04455	103140	20450		OAR	040	WITH NEW MASK
BMTICC	04456	001000	20460		JMP	MTIC+.	AND JMPRN.
BC	04457	104452	
BC	      	      	20470	*
BC	      	      	20480	************************************************************
BC	      	      	20490	*        FRESH START ROUTINE - USED ONLY AT INITIAL START-UP
BC	      	      	20500	*
BC	      	      	20510	*        SUBROUTINES JMPMED
BC	      	      	20520	*        IPAK , Q0Y
BC	      	      	20530	*
BFRESHC	04460	000000	20540	FRESH	0
BC	04461	100447	20550		EXC	0447	INITIALIZE AND DISABLE RTC
BC	04462	100540	20560		EXC	0540	CLEAR AND DISABLE PIM
BC	04463	005001	20570		TZA
BC	04464	103140	20580		OAR	040	ARM ALL INTERRUPTS
BECHOC	04465	052104	20590		STA	ECHO
BEXCOC	04466	052113	20600		STA	EXCO
BLSTCC	04467	052110	20610		STA	LSTC
BCMNDC	04470	051717	20620		STA	CMND
BSHTCDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:38.350

BC	04471	052112	20630		STA	SHTC
BFSTMC	04472	052111	20640		STA	FSTM
BDSPTCHC	04473	051112	20650		STA	DSPTCH
BTTYMSGC	04474	051115	20660		STA	TTYMSG
BBELLC	04475	051076	20670		STA	BELL
BDOWNC	04476	051077	20680		STA	DOWN
BIAMFC	04477	051101	20690		STA	IAMF
BMPOLC	04500	050570	20700		STA	MPOL
BGOPLC	04501	057012	20710		STA	GOPL
BCW94C	04502	050576	20720		STA	CW94
BCOMFC	04503	057001	20730		STA	COMF
BD118C	04504	050563	20740		STA	D118
BWFDCC	04505	053427	20750		STA	WFDC
BM1C	04506	010022	20760		LDA	M1
BTO08C	04507	050564	20770		STA	TO08
BTTTLC	04510	006010	20780		LDAI	TTTL+3
BC	04511	001241	
BTTTLC	04512	051236	20790		STA	TTTL
BTTTLC	04513	051237	20800		STA	TTTL+1
BTTTEC	04514	006010	20810		LDAI	TTTE
BC	04515	001240	
BTTTLC	04516	051240	20820		STA	TTTL+2
BM2C	04517	010023	20830		LDA	M2
BTCNTC	04520	051715	20840		STA	TCNT
BIPAKC	04521	002000	20850		JMPM	IPAK
BC	04522	004535	
BC	04523	100270	20860		EXC	0270	TURN ON AMC CARRIER
BC	04524	100134	20870		EXC	0134	REE THE MIC
BTTYMSGC	04525	010120	20880		LDA	=TTYMSG	PRINT INIT MESSAGE
BMT25C	04526	006020	20890		LDBI	MT25
BC	04527	001405	
BQ0YC	04530	002000	20900		JMPM	Q0Y
BC	04531	000657	
BC	04532	100440	20910		EXC	0440	DISABLE PIM
BFRESHC	04533	001000	20920		JMP	FRESH+.
BC	04534	104460	
BC	      	      	20930	*
BC	      	      	20940	****************************************************************
BC	      	      	20950	*
BC	      	      	20960	*      IPAK    INITIALIZATION PACKAGE
BC	      	      	20970	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	20980	*      IPAK IS USED AT INITIAL START-UP AND AFTER ANY 1108  DISCONNECT
BC	      	      	20990	*
BIPAKC	04535	000000	21000	IPAK	0
BC	04536	005001	21010		TZA
BC	04537	005000	21020		NOP
BC	04540	005000	21030		NOP
BPIPRQC	04541	052765	21040		STA	PIPRQ
BIPRQC	04542	052712	21050		STA	IPRQ
BPIPBC	04543	052752	21060		STA	PIPB
BPEFLGC	04544	052760	21070		STA	PEFLG
BPBIMC	04545	052743	21080		STA	PBIM
BDISFC	04546	050565	21090		STA	DISF
BPCOPFC	04547	052754	21100		STA	PCOPF
BOFCEDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:38.850

BC	04550	052761	21110		STA	OFCE
BDACKC	04551	052757	21120		STA	DACK
BTMFLC	04552	052762	21130		STA	TMFL
BPEFFC	04553	052763	21140		STA	PEFF
BPIFFC	04554	052764	21150		STA	PIFF
BDMSFLGC	04555	053522	21160		STA	DMSFLG
BUNCXC	04556	057006	21170		STA	UNCX
BPFBUC	04557	057013	21180		STA	PFBU
BOFBFC	04560	057014	21190		STA	OFBF
BXS3DC	04561	057015	21200		STA	XS3D
BPBRTC	04562	051074	21210		STA	PBRT
BINITC	04563	052772	21220		STA	INIT
BINOTC	04564	052774	21230		STA	INOT
BCLK2C	04565	050557	21240		STA	CLK2
BCLK3C	04566	050560	21250		STA	CLK3
BCLK4C	04567	050561	21260		STA	CLK4
BMSG28C	04570	051105	21270		STA	MSG28
BTRNSMTC	04571	051106	21280		STA	TRNSMT
BDCMPRSC	04572	051110	21290		STA	DCMPRS
BCMPRESC	04573	051113	21300		STA	CMPRES
BMS94C	04574	051102	21310		STA	MS94
BDAT940C	04575	051103	21320		STA	DAT940
BCLOKC	04576	051100	21330		STA	CLOK
BLMSDC	04577	057016	21340		STA	LMSD
BD94PFC	04600	057017	21350		STA	D94PF
BC	04601	006030	21360		LDXI	-17
BC	04602	177761	
BSFTRC	04603	006020	21370		LDBI	SFTR
BC	04604	000050	
BZLC	04605	056000	21380	ZL	STA	0,B
BC	04606	001040	21390		JXZ	*+6
BC	04607	004614	
BC	04610	005144	21400		IXR
BC	04611	005122	21410		IBR
BZLC	04612	001000	21420		JMP	ZL
BC	04613	004605	
BTTLCC	04614	006010	21430		LDAI	TTLC+3	INITIALIZE BUFFER POINTERS
BC	04615	001217	
BTTLCC	04616	051214	21440		STA	TTLC
BTTLCC	04617	051215	21450		STA	TTLC+1
BC	04620	005111	21460		IAR
BTTLCC	04621	051216	21470		STA	TTLC+2
BXDTSC	04622	006010	21480		LDAI	XDTS+3
BC	04623	001224	
BXDTSC	04624	051221	21490		STA	XDTS
BXDTSC	04625	051222	21500		STA	XDTS+1
BP2C	04626	120011	21510		ADD	P2
BXDTSC	04627	051223	21520		STA	XDTS+2
BD94TC	04630	010173	21530		LDA	=D94T+3
BD94TC	04631	051271	21540		STA	D94T
BD94TC	04632	051272	21550		STA	D94T+1
BP2C	04633	120011	21560		ADD	P2
BD94TC	04634	051273	21570		STA	D94T+2
BCMPTC	04635	006010	21580		LDAI	CMPT+3
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:39.316

BC	04636	001232	
BCMPTC	04637	051227	21590		STA	CMPT
BCMPTC	04640	051230	21600		STA	CMPT+1
BP3C	04641	120012	21610		ADD	P3
BCMPTC	04642	051231	21620		STA	CMPT+2
BB5000C	04643	010041	21630		LDA	B5000
BRNP1C	04644	052525	21640		STA	RNP1
BRNP1C	04645	052526	21650		STA	RNP1+1
BRNP2C	04646	052551	21660		STA	RNP2
BRNP2C	04647	052552	21670		STA	RNP2+1
BRNP3C	04650	050370	21680		STA	RNP3
BRNP3C	04651	050371	21690		STA	RNP3+1
BC	04652	050104	21700		STA	0104
BC	04653	050105	21710		STA	0105
BM1C	04654	010022	21720		LDA	M1
BPCDMFC	04655	052753	21730		STA	PCDMF
BCLK6C	04656	050562	21740		STA	CLK6
BPMODEC	04657	052744	21750		STA	PMODE
BFULSWC	04660	057020	21760		STA	FULSW
BSRDATAC	04661	057021	21770		STA	SRDATA
BP1C	04662	010010	21780		LDA	P1
BCB2NC	04663	053521	21790		STA	CB2N
BRESMC	04664	057022	21800		STA	RESM
BPBITC	04665	010130	21810		LDA	=PBIT	INITIALIZE INTERRUPT POINTERS
BC	04666	050103	21820		STA	0103
BMSINTC	04667	010174	21830		LDA	=MSINT
BC	04670	050113	21840		STA	0113
BTTYINC	04671	010175	21850		LDA	=TTYIN
BC	04672	050115	21860		STA	0115
BTTYOUTC	04673	010176	21870		LDA	=TTYOUT
BC	04674	050117	21880		STA	0117
BC	04675	006010	21890		LDAI	036030	E UP RTC TO FIRE IN 1 SECOND
BC	04676	036030	
BCLKC	04677	050045	21900		STA	CLK
BCBF1C	04700	006010	21910		LDAI	CBF1
BC	04701	011262	
BCPSBTC	04702	051303	21920		STA	CPSBT	BUFFER POINTERS
BCBF2C	04703	006010	21930		LDAI	CBF2
BC	04704	012013	
BCPSBTC	04705	051304	21940		STA	CPSBT+1
BPBF1C	04706	006010	21950		LDAI	PBF1
BC	04707	010000	
BPBFTC	04710	051300	21960		STA	PBFT
BPBF2C	04711	006010	21970		LDAI	PBF2
BC	04712	010531	
BPBFTC	04713	051301	21980		STA	PBFT+1
BOBU1C	04714	010177	21990		LDA	=OBU1
BOBUTC	04715	051306	22000		STA	OBUT
BOBU2C	04716	010200	22010		LDA	=OBU2
BOBUTC	04717	051307	22020		STA	OBUT+1
BIBU1C	04720	006010	22030		LDAI	IBU1
BC	04721	014514	
BIBUTC	04722	051311	22040		STA	IBUT
BIBU2C	04723	006010	22050		LDAI	IBU2
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:39.783

BC	04724	014634	
BIBUTC	04725	051312	22060		STA	IBUT+1
BC	04726	100071	22070		EXC	071	GO TO BITMODE
BC	04727	100471	22080		EXC	0471	TURN CARRIER ON
BIPAKC	04730	001000	22090		JMP	IPAK+.	JMPRN
BC	04731	104535	
BC	      	      	22100	*
BC	      	      	22110	*************************************************************:
BC	      	      	22120	*
BC	      	      	22130	*      RECOMP  CONVERSION ROUTINE
BC	      	      	22140	*
BC	      	      	22150	*      RECO IS JMPMED TO CONVERT A DATA BLOCK IN A PHONE BUFFER INTO TH
BC	      	      	22160	*      FORMAT REIRED FOR TRANSMISSION TO THE XDS 940. DATA IN PHONE
BC	      	      	22170	*      BUFFER IS IN ASCII CODE AND IS COMPRESSED IN UNIVAC'S COMPRESSIO
BC	      	      	22180	*      SCHEME. THIS DATA WILL BE RECOMPRESSED INTO A SCHEME WHERE
BC	      	      	22190	*      MULTIPLE BLANKS ARE REPRESENTED BY A 0135 CHARACTER AND A
BC	      	      	22200	*      BLANK COUNT (BINARY) AND PUT INTO AN OUTPUT BUFFER. THE PHONE
BC	      	      	22210	*      BUFFER IS THEN RELEASED. AN ASCII 0377 IS USED AS TOP-OF-FORM
BC	      	      	22220	*      CHARACTER. SKIPPING OF SEVERAL LINES IS DONE BY INSERTION OF
BC	      	      	22230	*      THAT MANY CRLF'S, IF THE NUMBER IS LESS THAN 9. OTHERWISE
BC	      	      	22240	*      A TOP-OF-FORM CHARACTER IS INSERTED.
BC	      	      	22250	*      NOTE - PUNCHED OUTPUT IS PUT INTO THE PRINT BUFFER AS WELL
BC	      	      	22260	*
BC	      	      	22270	*      THE PHONE BUFFER ADDRESS  IS ON THE EXECUTIVE QUEUE
BC	      	      	22280	*
BC	      	      	22290	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	22300	*              BUFGET         QGET
BC	      	      	22310	*              HALT           BUFRE
BC	      	      	22320	*              QREMOV         Q0Y
BC	      	      	22330	*
BRECOMPC	04732	000000	22340	RECOMP	0
BOBUTC	04733	010201	22350		LDA	=OBUT	TRY TO GET AN OUTPUT BUFFER
BBUFGETC	04734	002000	22360		JMPM	BUFGET
BC	04735	001027	
BRECOMPC	04736	001000	22370		JMP	RECOMP+.	JMPRN, IF NONE IS AVAILABLE YET
BC	04737	104732	
BOBULC	04740	054356	22380		STA	OBUL	SAVE OUTPUT BUFFER ADDRESS
BPTR6C	04741	050057	22390		STA	PTR6
BOBUNC	04742	064355	22400		STB	OBUN	SAVE OUTPUT BUFFER NUMBER
BDCMPRSC	04743	010136	22410		LDA	=DCMPRS	GET INPUT BUFFER NUMBER AND ADDRESS
BQGETC	04744	002000	22420		JMPM	QGET
BC	04745	000725	
BHALTC	04746	002000	22430		JMPM	HALT	BAD JMPRN
BC	04747	000006	
BC	04750	005002	22440		TZB
BPTR0C	04751	060051	22450		STB	PTR0	ZERO THE CHAR COUNT
BC	04752	004442	22460		LLRL	2	PUT BUFFER NO. INTO B
BCBUNC	04753	064345	22470		STB	CBUN	AND SAVE
BC	04754	004342	22480		LSRA	2	RESTORE ADDRESS IN A
BCBULIC	04755	054344	22490		STA	CBULI	AND SAVE INPUT BUFFER INITIAL ADDRESS
BC	04756	005014	22500		TAX
BC	04757	015000	22510		LDA	0,X	PICK UP FIRST CHAR IN BUFFER
BC	04760	005012	22520		TAB
BNEXLPAGEC	04761	134346	22530	NEXL	ERA	PAGE	IS IT A TOP-OF-PAGE?
BTOPPDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:40.416

BC	04762	001010	22540		JAZ	TOPP	ADD TOP OF FORM
BC	04763	005261	
BC	04764	005021	22550		TBA
BBPUNC	04765	134337	22560		ERA	BPUN	IS IT PUNCH OUTPUT?
BONELC	04766	001010	22570		JAZ	ONEL	YES
BC	04767	005006	
BC	04770	005021	22580		TBA
BCPUNC	04771	134334	22590		ERA	CPUN	IS IT PUNCH OUTPUT?
BONELC	04772	001010	22600		JAZ	ONEL	YES
BC	04773	005006	
BC	04774	005021	22610		TBA
BSKLIB60C	04775	140032	22620	SKLI	SUB	B60	OBTAIN BINARY NUMBER
BC	04776	055000	22630		STA	0,X	STORE TEMPORARILY
BC	04777	004243	22640		LRLA	3	MULTIPLY BY 8
BC	05000	125000	22650		ADD	0,X	ADD TWICE TO MAKE IT 10
BC	05001	125000	22660		ADD	0,X
BC	05002	005144	22670		IXR
BC	05003	125000	22680		ADD	0,X	ADD NEXT CHARACTER
BB60C	05004	140032	22690		SUB	B60	MAKE IT A BINARY NUMBER
BC	05005	005144	22700		IXR
BONELC	05006	005012	22710	ONEL	TAB	COUNTER FOR NUMBER OF LINES TO SKIP
BHALTC	05007	002004	22720		JANM	HALT	SOMETHING IS SERIOUSLY WRONG
BC	05010	000006	
BNEWLCRC	05011	014317	22730	NEWL	LDA	CR	INSERT THAT MANY CRLF'S
BSTOTRC	05012	002000	22740		JMPM	STOTR
BC	05013	005270	
BLFC	05014	014315	22750		LDA	LF
BSTOTRC	05015	002000	22760		JMPM	STOTR
BC	05016	005270	
BNEWTC	05017	001020	22770		JBZ	NEWT
BC	05020	005026	
BC	05021	005322	22780		DBR
BNEWTC	05022	001020	22790		JBZ	NEWT	DONE
BC	05023	005026	
BNEWLC	05024	001000	22800		JMP	NEWL
BC	05025	005011	
BNEWTC	05026	005001	22810	NEWT	TZA
BPTR4C	05027	050055	22820		STA	PTR4	E TAB-COUNT TO ZERO
BGNCPTR4C	05030	010055	22830	GNC	LDA	PTR4	UPDATE TAB-COUNT MOD 8
BC	05031	005111	22840		IAR
BP9C	05032	140020	22850		SUB	P9
BMOD8C	05033	001002	22860		JAP	MOD8
BC	05034	005040	
BPTR4C	05035	040055	22870		INR	PTR4
BMOD8C	05036	001000	22880		JMP	MOD8+2
BC	05037	005042	
BMOD8C	05040	005111	22890	MOD8	IAR
BPTR4C	05041	050055	22900		STA	PTR4
BC	05042	015000	22910		LDA	0,X	GET NEXT CHARACTER
BC	05043	005144	22920		IXR
BC	05044	005012	22930		TAB
BLOZC	05045	134267	22940		ERA	LOZ	IS IT A LOZENGE?
BLOZFC	05046	001010	22950		JAZ	LOZF	YES, REPLACE COMPRESSION SCHEME
BC	05047	005065	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:40.900

BC	05050	005021	22960		TBA
BEOLIC	05051	134262	22970		ERA	EOLI	IS IT THE END-OF-LINE?
BEOBUC	05052	001010	22980		JAZ	EOBU	YES, TEST FOR END-OF-BUFFER
BC	05053	005202	
BC	05054	005021	22990		TBA
BBLANKC	05055	134251	23000		ERA	BLANK	IS IT A BLANK?
BBLNKC	05056	001010	23010		JAZ	BLNK
BC	05057	005145	
BINSCC	05060	005021	23020	INSC	TBA	INSERT A NORMAL CHARACTER
BSTOTRC	05061	002000	23030		JMPM	STOTR
BC	05062	005270	
BGNCC	05063	001000	23040		JMP	GNC	AND GET NEXT CHAR
BC	05064	005030	
BLOZFP9C	05065	010020	23050	LOZF	LDA	P9	PROCESS LOZENGE
BPTR4C	05066	140055	23060		SUB	PTR4	NUMBER OF CHARS LEFT IN THAT TAB
BC	05067	005012	23070		TAB
BGMLZC	05070	015000	23080	GMLZ	LDA	0,X	GET NEXT CHAR
BLOZC	05071	134243	23090		ERA	LOZ	IS IT A LOZENGE?
BGNLZC	05072	001010	23100		JAZ	GNLZ	IF YES, JUMP
BC	05073	005116	
BC	05074	005111	23110		INC	A,A
BPTR4C	05075	050055	23120		STA	PTR4
BC	05076	015000	23130		LDA	0,X	GET CHARACTER AGAIN
BBLANKC	05077	134227	23140		ERA	BLANK	IS IT A BLANK?
BGBLFC	05100	001010	23150		JAZ	GBLF
BC	05101	005124	
BTSEARC	05102	005021	23160	TSEAR	TBA	NO TERMINATE SEARCH
BP2C	05103	140011	23170		SUB	P2
BINESC	05104	001002	23180		JAP	INES	GO INSERT SPEC CHAR AND BLANK COUNT
BC	05105	005135	
BNOESBLANKC	05106	014220	23190	NOES	LDA	BLANK
BSTOTRC	05107	002000	23200		JMPM	STOTR
BC	05110	005270	
BC	05111	005322	23210		DBR
BMOD8C	05112	001020	23220		JBZ	MOD8+2
BC	05113	005042	
BNOESC	05114	001000	23230		JMP	NOES
BC	05115	005106	
BGNLZC	05116	005144	23240	GNLZ	IXR
BC	05117	005021	23250		TBA	LOZENGE FOUND DURING PROCESSING A LOZENGE
BP8C	05120	120017	23260		ADD	P8	ADD 8 TO BLANK COUNT
BC	05121	005012	23270		TAB
BGMLZC	05122	001000	23280		JMP	GMLZ	LOOK FOR MORE LOZENGES
BC	05123	005070	
BGBLFC	05124	005144	23290	GBLF	IXR	A BLANK WAS FOUND AFTER PROCESSING LOZENG
BPTR4C	05125	040055	23300		INR	PTR4
BC	05126	005122	23310		IBR	INCEMENT BLANK COUNT
BC	05127	015000	23320		LDA	0,X	GET NEXT CHARACTER
BBLANKC	05130	134176	23330		ERA	BLANK	IS THIS A BLANK?
BGBLFC	05131	001010	23340		JAZ	GBLF	YES, CONTINUING LOOKING AHEAD
BC	05132	005124	
BTSEARC	05133	001000	23350		JMP	TSEAR	TERMINATE SEARCH
BC	05134	005102	
BINESBESCC	05135	014175	23360	INES	LDA	BESC	INSERT SPECIAL CHAR AND BLANK COUNT
BSTOREDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:41.533

BC	05136	002000	23370		JMPM	STORE
BC	05137	005300	
BC	05140	005021	23380		TBA	COUNT IS IN B
BSTOREC	05141	002000	23390		JMPM	STORE
BC	05142	005300	
BMOD8C	05143	001000	23400		JMP	MOD8+2
BC	05144	005042	
BBLNKBXSVC	05145	074150	23410	BLNK	STX	BXSV	SAVE X PRIOR TO LOOKING AHEAD FOR MORE
BC	05146	005122	23420		INC	B,B	BLANKS (SAVE COUNT IN B)
BBLMRC	05147	015000	23430	BLMR	LDA	0,X
BC	05150	005144	23440		IXR
BBLANKC	05151	134155	23450		ERA	BLANK	IS THE NEXT CHAR A BLANK?
BBIBRC	05152	003010	23460		XAZ	BIBR	YES
BC	05153	005315	
BBLMRC	05154	001010	23470		JAZ	BLMR	LOOK AHEAD FOR MORE
BC	05155	005147	
BC	05156	005344	23480		DXR	LET PTR POINT TO CURRENT CHAR
BC	05157	005321	23490		DEC	B,A	TRANSFER B TO A DECEMENTED
BC	05160	005311	23500		DAR
BC	05161	001002	23510		JAP	*+6
BC	05162	005167	
BBLANKC	05163	024143	23520		LDB	BLANK
BBXSVC	05164	034131	23530		LDX	BXSV	RESTORE OLD X
BINSCC	05165	001000	23540		JMP	INSC	GO ON WITH NORMAL BUSINESS
BC	05166	005060	
BBESCC	05167	014143	23550		LDA	BESC	INSERT SPECIAL CHAR AND BLANK COUNT
BSTOREC	05170	002000	23560		JMPM	STORE
BC	05171	005300	
BC	05172	005021	23570		TBA
BSTOREC	05173	002000	23580		JMPM	STORE
BC	05174	005300	
BC	05175	005321	23590		DEC	B,A	B TO A DECEMENTED
BPTR4C	05176	120055	23600		ADD	PTR4	UPDATE TAB-COUNTER
BPTR4C	05177	050055	23610		STA	PTR4
BGNCC	05200	001000	23620		JMP	GNC	X STILL HAS PTR TO CURRENT CHAR
BC	05201	005030	
BEOBUC	05202	015000	23630	EOBU	LDA	0,X	CHECK FOR END-OF-BUFFER
BC	05203	005012	23640		TAB
BEOLIC	05204	134127	23650		ERA	EOLI
BTRL9C	05205	001010	23660		JAZ	TRL9	END OF BUFFER
BC	05206	005212	
BC	05207	005021	23670		TBA
BNEXLC	05210	001000	23680		JMP	NEXL	NO
BC	05211	004761	
BC	      	      	23690	*      END OF BUFFER
BTRL9CRC	05212	014116	23700	TRL9	LDA	CR	INSERT CR/LF AT END OF BUFFER
BSTOTRC	05213	002000	23710		JMPM	STOTR
BC	05214	005270	
BLFC	05215	014114	23720		LDA	LF
BSTOTRC	05216	002000	23730		JMPM	STOTR
BC	05217	005270	
BDACKC	05220	012757	23740		LDA	DACK	SHOULD WE SEND AN ACK TO 1108
BGENFC	05221	001010	23750		JAZ	GENF	NO
BC	05222	005231	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:42.033

BC	05223	005001	23760		TZA
BDACKC	05224	052757	23770		STA	DACK	REE DACK
BC	05225	005311	23780		DEC	A,A	E UP 'ACK' AS POSSIBLE MESSAGE
BRESPC	05226	052713	23790		STA	RESP
BC	05227	005111	23800		INC	A,A
BMSG28C	05230	051105	23810		STA	MSG28	SEND PROPER RESPONSE TO 1108
BGENFC	05231	005311	23820	GENF	DEC	A,A	INSERT -1 AT END OF BUFFER TO FLAG END
BSTOREC	05232	002000	23830		JMPM	STORE
BC	05233	005300	
BPTR6C	05234	010057	23840		LDA	PTR6
BC	05235	005311	23850		DAR
BOFINC	05236	052766	23860		STA	OFIN	SAVE FINAL ADDRESS OF OUTPUT BUFFER
BPBFTC	05237	010132	23870		LDA	=PBFT	RELEASE INPUT BUFFER
BCBUNC	05240	024060	23880		LDB	CBUN
BBUFRELC	05241	002000	23890		JMPM	BUFREL
BC	05242	001057	
BDCMPRSC	05243	010136	23900		LDA	=DCMPRS	REMOVE CONV FROM QUEUE
BQREMOVC	05244	002000	23910		JMPM	QREMOV
BC	05245	000766	
BOBUNC	05246	014051	23920		LDA	OBUN	ENTER OUTPUT BUFFER NUMBER
BOBULC	05247	024047	23930		LDB	OBUL	AND ADDRESS INTO APPROPRIATE EXECUTIVE
BC	05250	004043	23940		LRLB	3	QUEUE
BC	05251	004543	23950		LLSR	3
BDAT940C	05252	010202	23960		LDA	=DAT940	PUT DAT940 ON QUEUE
BQ0YC	05253	002000	23970		JMPM	Q0Y
BC	05254	000657	
BM1C	05255	010022	23980		LDA	M1
BD94PFC	05256	054640	23990		STA	D94PF	E DATA-TO-940-PENDING-FLAG
BRECOMPC	05257	001000	24000		JMP	RECOMP+.
BC	05260	104732	
BTOPPTOFCC	05261	014042	24010	TOPP	LDA	TOFC	INSERT SPECIAL TOP-OF-FORM CHAR
BSTOREC	05262	002000	24020		JMPM	STORE
BC	05263	005300	
BC	05264	005144	24030		IXR
BC	05265	015000	24040		LDA	0,X	GET NEXT CHAR
BSKLIC	05266	001000	24050		JMP	SKLI
BC	05267	004775	
BSTOTRC	05270	000000	24060	STOTR	0
BB200C	05271	110037	24070		ORA	B200	CHANGE TO INTERNAL 940 CODE
BB40C	05272	140031	24080		SUB	B40
BB177C	05273	150036	24090		ANA	B177
BSTOREC	05274	002000	24100		JMPM	STORE	STORE THE CHARACTER
BC	05275	005300	
BSTOTRC	05276	001000	24110		JMP	STOTR+.
BC	05277	105270	
BSTOREC	05300	000000	24120	STORE	0	STORE-INTO-OUTPUT-BUFFER ROUTINE
BSAVCC	05301	054021	24130		STA	SAVC	SAVE CHAR
BPHBMC	05302	006010	24140		LDAI	PHBM	ARE WE ABOUT TO OVERFLOW THE BUFFER
BC	05303	000764	
BPTR0C	05304	140051	24150		SUB	PTR0
BHALTC	05305	002010	24160		JAZM	HALT	YES - HALT
BC	05306	000006	
BPTR0C	05307	040051	24170		INR	PTR0	NO - BUMP COUNT OF CHARS STORED
BSAVCC	05310	014012	24180		LDA	SAVC
BPTR6DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:42.583

BC	05311	057023	24190		STA	PTR6+.	STORE CHAR
BPTR6C	05312	040057	24200		INR	PTR6
BSTOREC	05313	001000	24210		JMP	STORE+.
BC	05314	105300	
BC	      	      	24220	*
BBIBRC	05315	005122	24230	BIBR	IBR
BBXSVC	05316	      	24240	BXSV	R	*+1
BOBULC	05317	      	24250	OBUL	R	*+1
BOBUNC	05320	      	24260	OBUN	R	*+1
BCBUNC	05321	      	24270	CBUN	R	*+1
BCBULIC	05322	      	24280	CBULI	R	*+1
BSAVCC	05323	      	24290	SAVC	R	*+1	TEMP STORAGE FOR STORE ROUTINE
BTOFCC	05324	000377	24300	TOFC	0377	TOP OF FORM CHARACTER
BBPUNC	05325	000102	24310	BPUN	0102
BCPUNC	05326	000103	24320	CPUN	0103
BBLANKC	05327	000040	24330	BLANK	040
BPAGEC	05330	000052	24340	PAGE	052	TOP-OF-FORM CHAR IN INPUT BUFFER
BCRC	05331	000015	24350	CR	015	CARRIAGE JMPRN
BLFC	05332	000012	24360	LF	012	LINE FEED
BBESCC	05333	000135	24370	BESC	0135	ESCAPE CHAR FOR BLANK COMPRESSION
BEOLIC	05334	000136	24380	EOLI	0136	END-OF-LINE CHAR IN INPUT BUFFER
BLOZC	05335	000137	24390	LOZ	0137	LOZENGE
BC	      	      	24400	*
BC	      	      	24410	***********************************************************
BC	      	      	24420	*
BC	      	      	24430	*    IAMC ROUTINE - SERVICES MESSAGES RECV'D FROM 940 VIA THE 940 MIC
BC	      	      	24440	*                   CONTROL WORD (CW94)
BC	      	      	24450	*
BIAMCC	05336	000000	24460	IAMC	0
BMCWAC	05337	010571	24470		LDA	MCWA	READ MIC CONTROL WORD FROM 940
BRMICC	05340	002000	24480		JMPM	RMIC
BC	05341	000626	
BCW94C	05342	050576	24490		STA	CW94	DOES 940 HAVE A MESSAGE FOR US
BIAM1C	05343	001004	24500		JAN	IAM1	YES
BC	05344	005352	
BMPOLC	05345	010570	24510		LDA	MPOL	NO - WERE WE POLLING
BIAMCC	05346	001004	24520		JAN	IAMC+.	NO - JMPRN WITH IAMC STILL ON QUEUE
BC	05347	105336	
BIAMRC	05350	001000	24530		JMP	IAMR	YES - GO TAKE IAMC OFF THE QUEUE
BC	05351	005634	
BIAM1C	05352	005311	24540	IAM1	DEC	A,A
BMPOLC	05353	050570	24550		STA	MPOL	STOP MIC POLLING
BC	05354	005001	24560		TZA
BCLK4C	05355	050561	24570		STA	CLK4	REE 940 TIME-OUT CLOCK
BTTYMSGC	05356	010120	24580		LDA	=TTYMSG	PRINT 'I9' IF SS2 UP
BMT30C	05357	020203	24590		LDB	=MT30
BQ0YC	05360	002200	24600		JS2M	Q0Y
BC	05361	000657	
BD118C	05362	010563	24610		LDA	D118	HAS SHUT BEEN JMPMED
BDNTOC	05363	001002	24620		JAP	DNTO	NO
BC	05364	005371	
BC	05365	005001	24630		TZA	YES - REE FLAG
BD118C	05366	050563	24640		STA	D118
BGSCNC	05367	001000	24650		JMP	GSCN	GO SEND 'CNP'
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:43.116

BC	05370	005710	
BDNTOCOMFC	05371	017001	24660	DNTO	LDA	COMF	ARE COMMUNICATIONS WITH 1108 OK
BC	05372	005311	24670		DAR
BC	05373	001002	24680		JAP	*+4	YES
BC	05374	005377	
BGSCNC	05375	001000	24690		JMP	GSCN	NO - GO SEND 'CNP'
BC	05376	005710	
BLMSDC	05377	014504	24700		LDA	LMSD	GET 'LAST MESSAGE SENT' WORD
BRCVFC	05400	006120	24710		ADDI	RCVF+1
BC	05401	005413	
BRCVFC	05402	054007	24720		STA	RCVF
BCW94C	05403	010576	24730		LDA	CW94	PICK UP THE CONTROL WORD RECV'D FROM 940
BP7C	05404	150016	24740		ANA	P7	GET 3 LOWER BITS
BNMDMC	05405	006120	24750		ADDI	NMDM	ADDRESS OF 'NEXT MASSAGE DISPATCH MATRIX'
BC	05406	006056	
BC	05407	005012	24760		TAB
BC	05410	016000	24770		LDA	0,B	GET MATRIX WORD
BC	05411	001000	24780		01000	JMP
BRCVFC	05412	      	24790	RCVF	R	*+1
BC	05413	004343	24800		LSRA	3	JMP TO HERE IF LMSD=0
BC	05414	004343	24810		LSRA	3	=1
BC	05415	004343	24820		LSRA	3	=2
BC	05416	004343	24830		LSRA	3	=3
BC	05417	005000	24840		NOP	=4
BC	05420	005000	24850		NOP	=5
BC	05421	005000	24860		NOP	=6
BC	05422	005000	24870		NOP	=7
BP7C	05423	150016	24880		ANA	P7	MASK OUT 3 BITS
BNMDPC	05424	006120	24890		ADDI	NMDP+.	NEXT MESSAGE DISPATCH LIST
BC	05425	106064	
BC	05426	054001	24900		STA	*+2
BC	05427	001000	24910		01000	JMP
BC	05430	      	24920		R	*+1	JUMP INDIRECT TO NEXT MESSAGE DISPATCH
BC	      	      	24930	*
BC	      	      	24940	*      SEND 'NAC9' TO 940
BC	      	      	24950	*
BFNAKP7C	05431	010016	24960	FNAK	LDA	P7
BNMSDC	05432	054452	24970		STA	NMSD
BRCVDC	05433	001000	24980		JMP	RCVD
BC	05434	005632	
BC	      	      	24990	*
BC	      	      	25000	*      A DATA MESSAGE HAS BEEN RECEIVED
BC	      	      	25010	*
BCOMPIBUTC	05435	010163	25020	COMP	LDA	=IBUT	CAN WE GET A BUFFER TO PUT DATA IN
BBUFGETC	05436	002000	25030		JMPM	BUFGET
BC	05437	001027	
BSDM9C	05440	001000	25040		JMP	SDM9	NO - GO SEND A DELAY MESSAGE
BC	05441	005667	
BIBULC	05442	054430	25050		STA	IBUL	SAVE BUFFER ADDRESS
BIBUNC	05443	064430	25060		STB	IBUN	SAVE BUFFER NUMBER
BPTR9C	05444	050062	25070		STA	PTR9	INITIALIZE PTR FOR STORING CHARS
BDIBUZC	05445	014435	25080		LDA	DIBUZ	FILL BUFFER WITH BLANKS
BB100C	05446	020034	25090		LDB	B100	BLANK CHAR
BC	05447	005311	25100		DAR
BIBULDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:43.733

BC	05450	034422	25110		LDX	IBUL
BC	05451	065000	25120		STB	0,X
BC	05452	005144	25130		IXR
BC	05453	005311	25140		DAR
BC	05454	001002	25150		JAP	*-3
BC	05455	005451	
BWCADC	05456	010574	25160		LDA	WCAD	READ CHAR COUNT FROM 940
BRMICC	05457	002000	25170		JMPM	RMIC
BC	05460	000626	
BDBWCC	05461	054414	25180		STA	DBWC
BADDBC	05462	010572	25190		LDA	ADDB	READ DATA BUFFER ADDRESS FROM 940
BRMICC	05463	002000	25200		JMPM	RMIC
BC	05464	000626	
BDBADC	05465	054407	25210		STA	DBAD
BDAOKC	05466	001004	25220		JAN	DAOK	IF BIT 15 E,ADDRESS MUST BE OK
BC	05467	005473	
BMMADC	05470	140573	25230		SUB	MMAD	IS ADDRESS OK
BHALTC	05471	002004	25240		JANM	HALT	NO - HALT
BC	05472	000006	
BDAOKC	05473	005001	25250	DAOK	TZA
BICCTC	05474	054403	25260		STA	ICCT	ZERO COUNT OF CHARS STORED
BICRMC	05475	054401	25270		STA	ICRM	ZERO COUNT OF CHARS READ FROM 940
BRCMLICRMC	05476	014400	25280	RCML	LDA	ICRM
BDBWCC	05477	144376	25290		SUB	DBWC	ARE WE DONE READING
BRCVLC	05500	001010	25300		JAZ	RCVL	YES
BC	05501	005562	
BICCTC	05502	014375	25310		LDA	ICCT	IS BUFFER FULL
BDIBUZC	05503	144377	25320		SUB	DIBUZ
BRBSNC	05504	001010	25330		JAZ	RBSN	YES - GO RELEASE BUFFER AND SEND 'NAC9'
BC	05505	005611	
BDBADC	05506	014366	25340		LDA	DBAD	READ A CHAR FROM THE 940
BRMICC	05507	002000	25350		JMPM	RMIC
BC	05510	000626	
BDBADC	05511	044363	25360		INR	DBAD	BUMP 940 ADDRESS
BICRMC	05512	044364	25370		INR	ICRM	BUMP COUNT OF CHARS READ
BC	05513	005012	25380		TAB	SAVE CHAR READ IN B
BB9ESCC	05514	134364	25390		ERA	B9ESC	IS CHAR A MULTIPLE BLANK CHAR
BRCVEC	05515	001010	25400		JAZ	RCVE	YES
BC	05516	005536	
BC	05517	005021	25410		TBA	NO - PUT CHAR BACK IN A
BB40C	05520	120031	25420		ADD	B40	CONVERT INTERNAL 940 CODE TO ASCII
BB177C	05521	150036	25430		ANA	B177	STRIP OFF 8TH BIT
BPRTBC	05522	120133	25440		ADD	=PRTB	ADD TABLE ADDRESS FOR CONVERSION TO XS3
BC	05523	005014	25450		TAX
BC	05524	015000	25460		LDA	0,X	GET WORD FROM TABLE
BC	05525	004250	25470		LRLA	8D
BC	05526	004310	25480		ASRA	8D	GET RIGHT HALF
BRCMLC	05527	001004	25490		JAN	RCML	DISREGARD ILLEGAL CHARS
BC	05530	005476	
BPTR9C	05531	057024	25500		STA	PTR9+.	STORE XS3 CHAR WITH PARITY
BPTR9C	05532	040062	25510		INR	PTR9	INCEMENT POINTER
BICCTC	05533	044344	25520		INR	ICCT	BUMP COUNT OF CHARS STORED
BRCMLC	05534	001000	25530		JMP	RCML	GO GET ANOTHER CHAR FROM 940
BC	05535	005476	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:44.300

BC	      	      	25540	*
BC	      	      	25550	*      ENTER RCVE WHEN A MULTIPLE BLANK CHAR WAS RECEIVED
BC	      	      	25560	*
BRCVEDBADC	05536	014336	25570	RCVE	LDA	DBAD	GO READ BLANK COUNT (NEXT CHAR)
BRMICC	05537	002000	25580		JMPM	RMIC
BC	05540	000626	
BDBADC	05541	044333	25590		INR	DBAD	BUMP 940 ADDRESS
BICRMC	05542	044334	25600		INR	ICRM	BUMP COUNT OF CHARS READ FROM 940
BC	05543	005311	25610		DAR	A	CONTAINS THE BLANK COUNT
BB100C	05544	020034	25620		LDB	B100	FILL IN WITH REIRED NUMBER OF BLANKS
BRCV1C	05545	005014	25630	RCV1	TAX	PUT BLANK COUNT IN X
BPTR9C	05546	067024	25640		STB	PTR9+.	STORE A BLANK
BPTR9C	05547	040062	25650		INR	PTR9	BUMP POINTER
BICCTC	05550	044327	25660		INR	ICCT	BUMP COUNT OF CHARS STORED
BICCTC	05551	014326	25670		LDA	ICCT
BDIBUZC	05552	144330	25680		SUB	DIBUZ	HAVE WE FILLED BUFFER
BRCMLC	05553	001010	25690		JAZ	RCML	YES - GO SEE IF WE ARE DONE
BC	05554	005476	
BC	05555	005341	25700		DEC	X,A	DECEMENT X INTO A
BRCV1C	05556	001002	25710		JAP	RCV1
BC	05557	005545	
BRCMLC	05560	001000	25720		JMP	RCML	DONE
BC	05561	005476	
BC	      	      	25730	*
BRCVLP1C	05562	020010	25740	RCVL	LDB	P1	E UP 'ACK9' AS NEXT MESSAGE
BCW94C	05563	010576	25750		LDA	CW94	PICK UP CONTROL WORD READ FROM 940
BM0C	05564	130021	25760		ERA	M0	STRIP OFF THE SIGN BIT
BC	05565	130204	25770		ERA	=015	WAS THIS THE LAST DATA BUFFER FOR A JOB
BRCV2C	05566	001010	25780		JAZ	RCV2	YES - SEND 'ACK9'
BC	05567	005575	
BP3C	05570	020012	25790		LDB	P3	NO - E UP 'RDTS' AS NEXT MESSAGE
BD94PFC	05571	014325	25800		LDA	D94PF	DO WE HAVE 1108 OUTPUT TO SEND TO 940
BRCV2C	05572	001002	25810		JAP	RCV2	NO - SEND 'RDTS'
BC	05573	005575	
BP2C	05574	020011	25820		LDB	P2	YES - SEND 'RQRS'
BRCV2NMSDC	05575	064307	25830	RCV2	STB	NMSD
BC	05576	005111	25840		INC	A,A	TURN ON SHORT MESSAGE TO 940 ROUTINE
BMS94C	05577	051102	25850		STA	MS94
BIBUNC	05600	014273	25860		LDA	IBUN	PUT DATA BUFFER ON COMPRESS QUEUE
BC	05601	004255	25870		LRLA	13D
BIBULC	05602	114270	25880		ORA	IBUL
BC	05603	005012	25890		TAB
BCMPRESC	05604	010161	25900		LDA	=CMPRES
BQ0YC	05605	002000	25910		JMPM	Q0Y
BC	05606	000657	
BIAMRC	05607	001000	25920		JMP	IAMR	JMPRN
BC	05610	005634	
BRBSNIBUTC	05611	010163	25930	RBSN	LDA	=IBUT
BIBUNC	05612	024261	25940		LDB	IBUN
BBUFRELC	05613	002000	25950		JMPM	BUFREL	RELEASE DATA BUFFER
BC	05614	001057	
BFNAKC	05615	001000	25960		JMP	FNAK	GO SEND 'NAC9'
BC	05616	005431	
BC	      	      	25970	*
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:44.866

BC	      	      	25980	*      A 'READY' MESSAGE HAS BEEN RECEIVED. WE SEND AN 'ACK9' IF NO
BC	      	      	25990	*      OUTPUT IS AVAILABLE, OTHERWISE A 'RQRS'.
BC	      	      	26000	*
BW940D94PFC	05617	014277	26010	W940	LDA	D94PF	DO WE HAVE DATA TO SEND TO 940
BSN94C	05620	001004	26020		JAN	SN94	YES
BC	05621	005630	
BP1C	05622	020010	26030		LDB	P1	NO - SEND 'ACK9'
BIAM2NMSDC	05623	064261	26040	IAM2	STB	NMSD
BC	05624	005311	26050		DEC	A,A	E FLAG TO TELL MS94 TO START
BGOPLC	05625	054254	26060		STA	GOPL	POLLING AGAIN
BRCVDC	05626	001000	26070		JMP	RCVD
BC	05627	005632	
BSN94P2C	05630	020011	26080	SN94	LDB	P2	SEND 'RQRS'
BSN95NMSDC	05631	064253	26090	SN95	STB	NMSD
BRCVDC	05632	005111	26100	RCVD	INC	A,A	SEND SHORT MESSAGE TO 940
BMS94C	05633	051102	26110		STA	MS94
BIAMRC	05634	005001	26120	IAMR	TZA
BIAMFC	05635	051101	26130		STA	IAMF	TAKE IAMC OFF THE QUEUE
BIAMCC	05636	001000	26140		JMP	IAMC+.	JMPRN
BC	05637	105336	
BC	      	      	26150	*
BC	      	      	26160	*      A 'NACK' HAS BEEN RECEIVED. RESEND LAST MESSAGE TO 940
BC	      	      	26170	*
BRS94C	05640	005311	26180	RS94	DEC	A,A	THE MS94 ROUTINE LOOKS FOR THIS -1
BNMSDC	05641	054243	26190		STA	NMSD
BRCVDC	05642	001000	26200		JMP	RCVD
BC	05643	005632	
BC	      	      	26210	*
BC	      	      	26220	*      A 'RQTS' HAS BEEN RECEIVED. SEND 'RDTS' AFTER CONNECTING THE
BC	      	      	26230	*      DESIRED REMOTE SITE. IF DATA IS READY SEND RQRS INSTEAD
BC	      	      	26240	*
BCONREMD94PFC	05644	014252	26250	CONREM	LDA	D94PF	SEE IF THERE IS ANY DATA PENDING
BSN94C	05645	001004	26260		JAN	SN94	YES GO SEND 'RQRS'
BC	05646	005630	
BPIPRQC	05647	012765	26270		LDA	PIPRQ	NO-ARE WE WAITING ON AN RQTS TO 1108
BSDM9C	05650	001004	26280		JAN	SDM9	YES - GO SEND DELAY MESSAGE
BC	05651	005667	
BIPRQC	05652	012712	26290		LDA	IPRQ	IS OK TO SEND DATA TO 1108 FLAG E
BSOS1C	05653	001004	26300		JAN	SOS1	YES
BC	05654	005661	
BC	05655	005311	26310		DEC	A,A
BPIPRQC	05656	052765	26320		STA	PIPRQ	E WAITING ON RQTS TO 1108 FLAG
BSDM9C	05657	001000	26330		JMP	SDM9	GO SEND A DELAY MESSAGE
BC	05660	005667	
BSOS1P3C	05661	010012	26340	SOS1	LDA	P3	SEND 'RDTS'
BNMSDC	05662	054222	26350		STA	NMSD
BC	05663	005001	26360		TZA	RESET OK TO SEND DATA TO 1108 FLAG
BIPRQC	05664	052712	26370		STA	IPRQ
BRCVDC	05665	001000	26380		JMP	RCVD
BC	05666	005632	
BSDM9P5C	05667	020014	26390	SDM9	LDB	P5	SEND DELAY MESSAGE
BIAM2C	05670	001000	26400		JMP	IAM2
BC	05671	005623	
BC	      	      	26410	*
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:45.433

BC	      	      	26420	*      A 'RDRS' HAS BEEN RECEIVED. IF OUTPUT IS AVAILABLE IT
BC	      	      	26430	*      IS NOW SENT. IF NOT, A 'RDTS' IS SENT
BC	      	      	26440	*
BTR94P3C	05672	020012	26450	TR94	LDB	P3	PREPARE TO SEND 'RDTS'
BD94PFC	05673	014223	26460		LDA	D94PF	DO WE HAVE OUTPUT FOR THE 940
BSN95C	05674	001002	26470		JAP	SN95	NO
BC	05675	005631	
BC	05676	005001	26480		TZA	YES
BSRDATAC	05677	054216	26490		STA	SRDATA	ACTIVATE RDATA ROUTINE
BIAMRC	05700	001000	26500		JMP	IAMR	JMPRN
BC	05701	005634	
BC	      	      	26510	*
BC	      	      	26520	*      A 'ACK' HAS BEEN RECEIVED. THIS MEANS, NOT THE FIRST DATA
BC	      	      	26530	*      MESSAGE IS TO BE SENT. WE MUST RELEASE THE LAST OUTPUT BUFFER
BC	      	      	26540	*
BTRM9OBUTC	05702	010201	26550	TRM9	LDA	=OBUT
BONUMC	05703	022767	26560		LDB	ONUM	LAST OUTPUT BUFFER NUMBER
BBUFRELC	05704	002000	26570		JMPM	BUFREL
BC	05705	001057	
BTR94C	05706	001000	26580		JMP	TR94
BC	05707	005672	
BC	      	      	26590	*
BC	      	      	26600	*      COMMUNICATIONS WITH 1108 ARE BROKEN - SEND 'CNP'
BC	      	      	26610	*
BGSCNP6C	05710	020015	26620	GSCN	LDB	P6	SEND 'CNP'
BIAM2C	05711	001000	26630		JMP	IAM2
BC	05712	005623	
BC	      	      	26640	*
BC	      	      	26650	****************************************************************
BC	      	      	26660	*
BC	      	      	26670	*      MSH94   SHORT MESSAGES TO XDS 940 ROUTINE
BC	      	      	26680	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	26690	*      THIS ROUTINE TAKES A SHORT MESSAGE FROM THE MS94 QUEUE AND SENDS
BC	      	      	26700	*      IT TO THE 940. IT ES THE FLAG LMSD ACCORDING TO THE MESSAGE
BC	      	      	26710	*      SENT. IF ENTERED WITH THE EXECUTIVE WORD -1, THE LAST MESSAGE
BC	      	      	26720	*      IS RETRANSMITTED.
BC	      	      	26730	*              MESSAGE SENT            LMSD
BC	      	      	26740	*              ------------            ----
BC	      	      	26750	*                 ACK9                  0
BC	      	      	26760	*                 RDTS                  1
BC	      	      	26770	*                 RQRS                  2
BC	      	      	26780	*                 DATA                  3     THIS IS E BY RDATA
BC	      	      	26790	*                 NAC9                 NO CHANGE
BC	      	      	26800	*                 DLY                    4
BC	      	      	26810	*                 CNP                  NO CHANGE
BC	      	      	26820	*
BC	      	      	26830	*              SUBROUTINES DIRECTLY JMPMED
BC	      	      	26840	*                  HALT       QGET
BC	      	      	26850	*                  BUFRE      UNPC
BC	      	      	26860	*                  QREMOV
BC	      	      	26870	*
BMSH94C	05713	000000	26880	MSH94	0
BNMSDC	05714	014170	26890		LDA	NMSD	GET NEXT MESSAGE TO BE TRANSMITTED
BRETRC	05715	001004	26900		JAN	RETR	RETRANSMIT IF NEGATIVE
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:46.166

BC	05716	005762	
BTTYMSGC	05717	010120	26910		LDA	=TTYMSG	PRINT 'A9' IF SS2 UP
BMT33C	05720	020205	26920		LDB	=MT33
BQ0YC	05721	002200	26930		JS2M	Q0Y	* PRINT TTY MSG
BC	05722	000657	
BNMSDC	05723	014161	26940		LDA	NMSD	SEND SHORT MESSAGE TO 940
BSMICC	05724	002000	26950		JMPM	SMIC
BC	05725	006120	
BNMSDC	05726	014156	26960		LDA	NMSD	UPDATE LMSD
BXLMSC	05727	006120	26970		ADDI	XLMS-1
BC	05730	006106	
BC	05731	005014	26980		TAX
BC	05732	015000	26990		LDA	0,X
BMSH1C	05733	001004	27000		JAN	MSH1	IF NEGATIVE DO NOT CHANGE LMSD
BC	05734	005736	
BLMSDC	05735	054146	27010		STA	LMSD
BMSH1P5C	05736	010014	27020	MSH1	LDA	P5	IF MESSAGE SENT WAS A 'NAC9' OR 'CNP'
BNMSDC	05737	144145	27030		SUB	NMSD	DO NOT UPDATE RESM
BMSH2C	05740	001004	27040		JAN	MSH2
BC	05741	005744	
BNMSDC	05742	014142	27050		LDA	NMSD	UPDATE RESM (USED TO RE-TRANSMIT)
BRESMC	05743	054142	27060		STA	RESM
BMSH2GOPLC	05744	014135	27070	MSH2	LDA	GOPL	DO WE START MIC POLLING AGAIN
BMSH3C	05745	001002	27080		JAP	MSH3	NO
BC	05746	005754	
BC	05747	005001	27090		TZA	YES
BGOPLC	05750	054131	27100		STA	GOPL	REE START POLLING FLAG
BMPOLC	05751	050570	27110		STA	MPOL	TURN ON POLLING
BMSH4C	05752	001000	27120		JMP	MSH4
BC	05753	005756	
BMSH3C	05754	005111	27130	MSH3	INC	A,A	TURN ON IAMC IMMEDIATELY
BIAMFC	05755	051101	27140		STA	IAMF
BMSH4C	05756	005001	27150	MSH4	TZA
BMS94C	05757	051102	27160		STA	MS94	TURN OFF MSH94
BMSH94C	05760	001000	27170		JMP	MSH94+.	JMPRN
BC	05761	105713	
BC	      	      	27180	*
BC	      	      	27190	*      RETRANSMIT LAST MESSAGE
BC	      	      	27200	*
BRETRTTYMSGC	05762	010120	27210	RETR	LDA	=TTYMSG	PRINT 'R9'
BMT32C	05763	020206	27220		LDB	=MT32
BQ0YC	05764	002000	27230		JMPM	Q0Y
BC	05765	000657	
BRESMC	05766	014117	27240		LDA	RESM	RE-TRANSMIT
BRSDBC	05767	001004	27250		JAN	RSDB	WAS IT A DATA MESSAGE
BC	05770	005775	
BSMICC	05771	002000	27260		JMPM	SMIC	NO - SEND IT TO 940
BC	05772	006120	
BMSH3C	05773	001000	27270		JMP	MSH3
BC	05774	005754	
BC	      	      	27280	*
BC	      	      	27290	*      RETRANSMIT A DATA BLOCK
BC	      	      	27300	*
BRSDBPTR8C	05775	010061	27310	RSDB	LDA	PTR8	REE PRT7 TO POINT TO BEGINNING OF
BPTR7DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:46.950

BC	05776	050060	27320		STA	PTR7	DATA BUFFER IN 620
BXBUFC	05777	002000	27330		JMPM	XBUF	SEND BUFFER TO 940
BC	06000	006153	
BMSH3C	06001	001000	27340		JMP	MSH3	JMPRN
BC	06002	005754	
BC	      	      	27350	*
BC	      	      	27360	**********************************************************************
BC	      	      	27370	*
BC	      	      	27380	*      RDATA   OUTPUT OF DATA BLOCKS TO 940 ROUTINE
BC	      	      	27390	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	27400	*      THIS ROUTINE OUTPUTS AN OUTPUT BUFFER TO THE XDS 940.
BC	      	      	27410	*
BC	      	      	27420	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	27430	*             QGET           HALT
BC	      	      	27440	*             QREMOV         XBUF
BC	      	      	27450	*             Q0Y
BC	      	      	27460	*
BRDATAC	06003	000000	27470	RDATA	0
BSRDATAC	06004	014111	27480		LDA	SRDATA	MAY WE GO SEND DATA TO 940?
BRDATAC	06005	001004	27490		JAN	RDATA+.	NOT, IF NEG.	JMPRN
BC	06006	106003	
BP3C	06007	010012	27500		LDA	P3	E LAST MESSAGE SENT FLAG
BLMSDC	06010	054073	27510		STA	LMSD
BDAT940C	06011	010202	27520		LDA	=DAT940
BQGETC	06012	002000	27530		JMPM	QGET	GET OUTPUT BUFFER NUMBER AND ADDRESS
BC	06013	000725	
BHALTC	06014	002000	27540		JMPM	HALT	EMPTY QUEUE
BC	06015	000006	
BC	06016	005002	27550		TZB
BC	06017	004443	27560		LLRL	3
BONUMC	06020	062767	27570		STB	ONUM	SAVE BUFFER NUMBER FOR RELEASE BY 'ACK'
BC	06021	004343	27580		LSRA	3
BPTR7C	06022	050060	27590		STA	PTR7
BPTR8C	06023	050061	27600		STA	PTR8	INITIAL ADDRESS FIXED
BC	06024	005311	27610		DEC	A,A	E RESM =-1 TO INDICATE A
BRESMC	06025	054060	27620		STA	RESM	DATA MESSAGE WAS SENT
BXBUFC	06026	002000	27630		JMPM	XBUF	SEND DATA BUFFER TO 940
BC	06027	006153	
BC	06030	005111	27640		INC	A,A
BIAMFC	06031	051101	27650		STA	IAMF	TURN ON IAMC
BDAT940C	06032	010202	27660		LDA	=DAT940	REMOVE OLDEST ITEM FROM RDATA QUEUE
BQREMOVC	06033	002000	27670		JMPM	QREMOV
BC	06034	000766	
BC	06035	005001	27680		TZA
BD94PFC	06036	054060	27690		STA	D94PF	REE DATA-TO-940-PENDING FLAG
BC	06037	005311	27700		DEC	A,A
BSRDATAC	06040	054055	27710		STA	SRDATA	RESET RDATA SWITCH
BTTYMSGC	06041	010120	27720		LDA	=TTYMSG	PRINT 'O9' IF SS3 UP
BMT31C	06042	020207	27730		LDB	=MT31
BQ0YC	06043	002400	27740		JS3M	Q0Y
BC	06044	000657	
BDAT940C	06045	010202	27750		LDA	=DAT940
BQGETC	06046	002000	27760		JMPM	QGET	IS THIS QUEUE EMPTY?
BC	06047	000725	
BRDATADPAGE 01  CSHELL.VAS  04-MAY-73  09:46:47.533

BC	06050	001000	27770		JMP	RDATA+.	YES
BC	06051	106003	
BC	06052	005311	27780		DEC	A,A	NO
BD94PFC	06053	054043	27790		STA	D94PF	E DATA-TO-940-PENDING FLAG
BRDATAC	06054	001000	27800		JMP	RDATA+.
BC	06055	106003	
BC	      	      	27810	*
BC	      	      	27820	*      NEXT MESSAGE DISPATCH MATRIX
BNMDMC	06056	011210	27830	NMDM	011210	'REDY' RECEIVED
BC	06057	002060	27840		002060	'ACK' RECEIVED
BC	06060	022222	27850		022222	'NACK' RECV'D
BC	06061	033003	27860		033003	'RQTS' RECEIVED
BC	06062	000520	27870		000520	'RDRS' RECEIVED
BC	06063	024204	27880		024204	'DATA' RECEIVED
BC	      	      	27890	*      NEXT MESSAGE DISPATCH VECTOR
BNMDPFNAKC	06064	005431	27900	NMDP	+FNAK	BAD MESSAGE RECEIVED
BW940C	06065	005617	27910		+W940	WAIT FOR 940
BRS94C	06066	005640	27920		+RS94	RESEND TO 940
BCONREMC	06067	005644	27930		+CONREM	CONNECT REMOTE SITE
BCOMPC	06070	005435	27940		+COMP	GO COMPRESS A DATA BLOCK
BTR94C	06071	005672	27950		+TR94	TRANSMIT DATA BLOCK TO 940
BTRM9C	06072	005702	27960		+TRM9	TRANSMIT DATA BLOCK AND RELEASE LAST BUFF
BC	      	      	27970	*      VARIABLES AND CONSTANTS FOR IAMC
BC	      	      	27980	*      DISPATCH VECTOR
BIBULC	06073	      	27990	IBUL	R	*+1	INPUT DATA BUFFER ADDRESS
BIBUNC	06074	      	28000	IBUN	R	*+1	INPUT DATA BUFFER NUMBER
BDBADC	06075	      	28010	DBAD	R	*+1	DATA BLOCK ADDRRSS
BDBWCC	06076	      	28020	DBWC	R	*+1	DATA BLOCK CHAR COUNT
BICRMC	06077	      	28030	ICRM	R	*+1	COUNT OF CHARS RECV'D FROM 940
BICCTC	06100	      	28040	ICCT	R	*+1	CHARACTER COUNT FOR INCOMING MESSAGE
BB9ESCC	06101	000135	28050	B9ESC	0135	940 BLANK ESCAPE CHARACTER
BGOPLC	06102	      	28060	GOPL	R	*+1	START POLLING FLAG
BDIBUZIBUZC	06103	000120	28070	DIBUZ	+IBUZ	INPUT BUFFER SIZE
BLMSDC	06104	000000	28080	LMSD	0	LAST MESSAGE SENT FLAG
BNMSDC	06105	      	28090	NMSD	R	*+1	NEXT MESSAGE TO BE SENT ADDRESS
BRESMC	06106	      	28100	RESM	R	*+1	RE-TRANSMIT MESSAGE NUMBER
BXLMSC	06107	000000	28110	XLMS	0	LMSD UPDATE VECTOR	ACK9
BC	06110	000002	28120		2	RQRS
BC	06111	000001	28130		1	RDTS
BC	06112	177777	28140		-1	UNUSED (DATA)
BC	06113	000004	28150		4	DELY
BC	06114	177777	28160		-1	CNP
BC	06115	177777	28170		-1	NAC9
BSRDATAC	06116	177777	28180	SRDATA	-1
BD94PFC	06117	000000	28190	D94PF	0	DATA TO 940 PENDING FLAG. ON IF -1, ELSE
BC	      	      	28200	*
BC	      	      	28210	*************************************************
BC	      	      	28220	*
BC	      	      	28230	*      SMIC    SEND A CONTROL MESSAGE TO THE 940 VIA THE MIC
BC	      	      	28240	*
BC	      	      	28250	*      THIS SUBROUTINE TAKE THE CONTENTS OF THE A ACCUMULATOR AND
BC	      	      	28260	*      PLACES IT IN THE MIC CONTROL WORD IN 940 MEMORY. THE 940 IS
BC	      	      	28270	*      THEN INTERRUPTED
BC	      	      	28280	*
BSMICDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:48.166

BC	06120	000000	28290	SMIC	0
BSVCWC	06121	054027	28300		STA	SVCW	SAVE CONTROL WORD TO BE SENT
BC	06122	101137	28310		SEN	0137,*+6	IS MIC BUSY
BC	06123	006130	
BC	06124	005000	28320		NOP	YES - LOOP TILL IT CLEARS
BC	06125	005000	28330		NOP
BC	06126	001000	28340		JMP	*-4
BC	06127	006122	
BSMI1SVCWC	06130	014020	28350	SMI1	LDA	SVCW
BC	06131	103137	28360		OAR	037	LOAD DATA INTO MIC
BMCWAC	06132	010571	28370		LDA	MCWA
BC	06133	103136	28380		OAR	036	LOAD MIC WITH 940 ADDRESS OF CONTROL WORD
BMB9SC	06134	014015	28390		LDA	MB9S	E PRIORITY BIT
BC	06135	103135	28400		OAR	035	WRITE
BC	06136	101137	28410		SEN	0137,*+6	IS MIC BUSY
BC	06137	006144	
BC	06140	005000	28420		NOP	YES - LOOP TILL IT CLEARS
BC	06141	005000	28430		NOP
BC	06142	001000	28440		JMP	*-4
BC	06143	006136	
BSMI1C	06144	101237	28450		SEN	0237,SMI1	RE-SEND IF PARITY OCCURED
BC	06145	006130	
BC	06146	100234	28460		EXC	0234	FIRE 940 INTERRUPT 211
BSMICC	06147	001000	28470		JMP	SMIC+.	JMPRN
BC	06150	106120	
BC	      	      	28480	*
BSVCWC	06151	      	28490	SVCW	R	*+1	SAVE LOCATION FOR CONTROL BEING SENT
BMB9SC	06152	001000	28500	MB9S	01000	SETS PRIORITY BIT FOR MIC WRITE
BC	      	      	28510	*
BC	      	      	28520	*************************************************
BC	      	      	28530	*
BC	      	      	28540	*      XBUF    TRANSFERS DATA BLOCK FROM 620 TO 940 MEMORY
BC	      	      	28550	*
BC	      	      	28560	*      XBUF TRANSFERS THE DATA BLOCK POINTED TO BY PTR7 INTO THE 940
BC	      	      	28570	*      ADDRESS THAT IS READ FROM THE 940. A CHECK IS MADE THAT THE DATA
BC	      	      	28580	*      DOES NOT OVERLAP A 940 PAGE AS IT IS STORED
BC	      	      	28590	*
BXBUFC	06153	000000	28600	XBUF	0
BADDBC	06154	010572	28610		LDA	ADDB	READ DATA BLOCK ADDRESS FROM 940
BRMICC	06155	002000	28620		JMPM	RMIC
BC	06156	000626	
BDBADC	06157	057025	28630		STA	DBAD
BADOKC	06160	001004	28640		JAN	ADOK	IF BIT 15 E,ADDRESS MUST BE OK
BC	06161	006165	
BMMADC	06162	140573	28650		SUB	MMAD	ADDRESS OK
BHALTC	06163	002004	28660		JANM	HALT	NO - HALT
BC	06164	000006	
BADOKC	06165	005001	28670	ADOK	TZA
BICCTC	06166	057026	28680		STA	ICCT	ZERO COUNT OF CHARS STORED INTO 940
BNPAGC	06167	054044	28690		STA	NPAG	REE ABOUT TO STORE IN NEW PAGE FLAG
BRDA1PTR7C	06170	017027	28700	RDA1	LDA	PTR7+.	PICK UP A CHAR
BRDA2C	06171	001004	28710		JAN	RDA2	WE ARE DONE IF CHAR IS NEGATIVE
BC	06172	006223	
BC	06173	005012	28720		TAB	PUT CHAR IN B
BNPAGDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:48.733

BC	06174	014037	28730		LDA	NPAG	IS ABOUT TO STORE IN NEW PAGE FLAG E
BHALTC	06175	002004	28740		JANM	HALT	YES - HALT
BC	06176	000006	
BMDB9C	06177	010575	28750		LDA	MDB9
BICCTC	06200	147026	28760		SUB	ICCT	HAVE WE FILLED BUFFER
BHALTC	06201	002010	28770		JAZM	HALT	YES - HALT
BC	06202	000006	
BDBADC	06203	017025	28780		LDA	DBAD
BDMICC	06204	002000	28790		JMPM	DMIC	SEND CHAR IN B TO ADDRESS IN A
BC	06205	006235	
BICCTC	06206	047026	28800		INR	ICCT	BUMP CHAR COUNT
BDBADC	06207	047025	28810		INR	DBAD	BUMP 940 ADDRESS
BPTR7C	06210	040060	28820		INR	PTR7	BUMP POINTER
BDBADC	06211	017025	28830		LDA	DBAD	ARE WE ABOUT TO STORE IN A NEW 940 PAGE
BC	06212	150210	28840		ANA	=03777
BASNPC	06213	001010	28850		JAZ	ASNP	YES
BC	06214	006217	
BRDA1C	06215	001000	28860		JMP	RDA1
BC	06216	006170	
BASNPC	06217	005311	28870	ASNP	DEC	A,A
BNPAGC	06220	054013	28880		STA	NPAG	E ABOUT TO STORE IN NEW 940 PAGE FLAG
BRDA1C	06221	001000	28890		JMP	RDA1
BC	06222	006170	
BRDA2ICCTC	06223	027026	28900	RDA2	LDB	ICCT	PUT CHAR COUNT IN 940
BWCADC	06224	010574	28910		LDA	WCAD	ADDRESS OF WORD COUNT CELL
BDMICC	06225	002000	28920		JMPM	DMIC
BC	06226	006235	
BP4C	06227	010013	28930		LDA	P4	SEND DATA MESSAGE TO 940
BSMICC	06230	002000	28940		JMPM	SMIC
BC	06231	006120	
BXBUFC	06232	001000	28950		JMP	XBUF+.	JMPRN
BC	06233	106153	
BC	      	      	28960	*
BNPAGC	06234	      	28970	NPAG	R	*+1	ABOUT TO STORE IN NEW 940 PAGE FLAG
BC	      	      	28980	*
BC	      	      	28990	**************************************************
BC	      	      	29000	*
BC	      	      	29010	*      DMIC    WRITES CONTENTS OF B ACCUMULATOR TO 940 ADDRESS GIVEN
BC	      	      	29020	*              IN THE A ACCUMULATOR
BC	      	      	29030	*
BDMICC	06235	000000	29040	DMIC	0
BDMIAC	06236	054027	29050		STA	DMIA	SAVE ADDRESS
BDMIBC	06237	064027	29060		STB	DMIB	SAVE DATA
BC	06240	101137	29070		SEN	0137,*+6	IS MIC BUSY
BC	06241	006246	
BC	06242	005000	29080		NOP	YES - LOOP TILL IT CLEARS
BC	06243	005000	29090		NOP
BC	06244	001000	29100		JMP	*-4
BC	06245	006240	
BDMIRDMIAC	06246	014017	29110	DMIR	LDA	DMIA	E UP ADDRESS IN MIC
BC	06247	103136	29120		OAR	036
BDMIBC	06250	014016	29130		LDA	DMIB	E UP DATA IN MIC
BC	06251	103137	29140		OAR	037
BMB9SC	06252	017030	29150		LDA	MB9S	E PRIORITY BIT
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:49.266

BC	06253	103135	29160		OAR	035	WRITE
BC	06254	101137	29170		SEN	0137,*+6	IS MIC BUSY
BC	06255	006262	
BC	06256	005000	29180		NOP	YES - LOOP TILL IT CLEARS
BC	06257	005000	29190		NOP
BC	06260	001000	29200		JMP	*-4
BC	06261	006254	
BDMIRC	06262	101237	29210		SEN	0237,DMIR	REPEAT IF PARITY ERROR
BC	06263	006246	
BDMICC	06264	001000	29220		JMP	DMIC+.	JMPRN
BC	06265	106235	
BC	      	      	29230	*
BDMIAC	06266	      	29240	DMIA	R	*+1	STORAGE FOR ADDRESS
BDMIBC	06267	      	29250	DMIB	R	*+1	STORAGE FOR DATA
BC	      	      	29260	*
BC	      	      	29270	*
BC	      	      	29280	******************************************************************
BC	      	      	29290	*
BC	      	      	29300	*      TM940     MAIN LOOP FOR 940 TELETYPE MODE
BC	      	      	29310	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	29320	*      THIS LOOP CHECKS THE 2400 BAUD INPUT BUFFER AND TYPES OUT ON THE
BC	      	      	29330	*      620 TELETYPE WHAT IS IN THERE
BPBF1ABF1C	      	010000	29340	ABF1	E	PBF1	INPUT BUFFER ADDRESS
BC	      	      	29350	*
BGTM940C	06270	100540	29360	GTM940	EXC	0540	CLEAR AND DISABLE PIM
BC	06271	006010	29370		LDAI	0300	LOAD ESCAPE FROM 8-LEVEL CHAR
BC	06272	000300	
BC	06273	101170	29380		SEN	0170,*+5	SENSE AMS WRITE REGISTER READY
BC	06274	006300	
BC	06275	005000	29390		NOP
BC	06276	001000	29400		JMP	*-3
BC	06277	006273	
BC	06300	103170	29410		OAR	070	SEND CHAR TO 940
BTM940C	06301	001000	29420		JMP	TM940+1
BC	06302	006304	
BC	      	      	29430	*
BTM940C	06303	100470	29440	TM940	EXC	0470	INITIALIZE ASYNCHRONOUS MODEM CONTROLLER
BC	06304	101570	29450		SEN	0570,*+5	SENSE CTE-11 READY
BC	06305	006311	
BC	06306	005000	29460		NOP
BC	06307	001000	29470		JMP	*-3	NOT READY
BC	06310	006304	
BC	06311	100270	29480		EXC	0270	TURN CARRIER ON
BC	06312	006010	29490		LDAI	02000	E AMC READ INTERRUPT TO JMPM TO ITM9
BC	06313	002000	
BC	06314	050104	29500		STA	0104
BITM9C	06315	006010	29510		LDAI	ITM9	STORE INTERRUPT ADDRESSES
BC	06316	006421	
BC	06317	050105	29520		STA	0105
BITTYC	06320	006010	29530		LDAI	ITTY
BC	06321	006516	
BC	06322	050115	29540		STA	0115
BC	06323	005001	29550		TZA
BOFCC	06324	054400	29560		STA	OFC	INITIALIZE FLAG
BARIPDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:49.766

BC	06325	034375	29570		LDX	ARIP	INITIALIZE BUFFER PTRS
BC	06326	055000	29580		STA	0,X	READ-IN-PTR
BB177C	06327	010036	29590		LDA	B177
BC	06330	055001	29600		STA	1,X	READ-OUT-PTR
BNMASKC	06331	014367	29610		LDA	NMASK	ARM TTY READ BUFFER READY AND AMC READ
BCITMC	06332	002000	29620		JMPM	CITM	BUFFER READY
BC	06333	004442	
BC	06334	100140	29630		EXC	0140	CLEAR INTERRUPT REGISTERS
BLOOPC	06335	100240	29640	LOOP	EXC	0240	ENABLE PIM
BC	06336	101570	29650		SEN	0570,*+5	SENSE CTE-11 CARRIER ON
BC	06337	006343	
BC	06340	100370	29660		EXC	0370	TURN CARRIER OFF
BTM940C	06341	001000	29670		JMP	TM940
BC	06342	006303	
BTESTC	06343	001100	29680		JSS1	TEST
BC	06344	006360	
BFRESHC	06345	002000	29690		JMPM	FRESH
BC	06346	004460	
BC	06347	005001	29700		TZA
BTO08C	06350	050564	29710		STA	TO08	ACTIVATE 1108 TIME-OUT
BPREPC	06351	002000	29720		JMPM	PREP
BC	06352	004375	
BC	06353	100447	29730		EXC	0447	INITIALIZE RTC
BC	06354	100147	29740		EXC	0147	ENABLE RTC
BC	06355	100340	29750		EXC	0340	CLEAR AND ENABLE PIM
BEXCQC	06356	001000	29760		JMP	EXCQ	JMPRN TO MAIN EXEC QUEUE
BC	06357	001117	
BC	      	      	29770	*      TEST FOR INPUT BUFFER EMPTY, WHICH IS CASE WHEN
BC	      	      	29780	*      (AROP+1)  MOD 200B =   ARIP
BTESTARIPC	06360	024342	29790	TEST	LDB	ARIP	READ-IN-PTR
BC	06361	100440	29800		EXC	0440	DISABLE INTERRUPTS
BC	06362	016001	29810		LDA	1,B	GET AROP
BC	06363	005111	29820		IAR	INCEMENT
BB177C	06364	150036	29830		ANA	B177	MOD 200B
BC	06365	005014	29840		TAX
BC	06366	136000	29850		ERA	0,B	COMPARE WITH ARIP
BRCVMC	06367	001010	29860		JAZ	RCVM	BUFFER IS EMPTY, JUMP TO SEE IF DEFO
BC	06370	006407	
BC	06371	005041	29870		TXA	GET INCEMENTED AROP
BC	06372	056001	29880		STA	1,B	AND STORE
BAINBC	06373	124330	29890		ADD	AINB
BC	06374	005014	29900		TAX
BC	06375	015000	29910		LDA	0,X	GET ONE CHARACTER FROM INPUT BUFFER
BC	06376	100240	29920		EXC	0240	ENABLE PIM
BC	06377	101101	29930		SEN	0101,*+5	SENSE TTY WRITE REGISTER READY
BC	06400	006404	
BC	06401	005000	29940		NOP
BC	06402	001000	29950		JMP	*-3
BC	06403	006377	
BC	06404	103101	29960		OAR	01	TYPE CHARACTER
BLOOPC	06405	001000	29970		JMP	LOOP+1
BC	06406	006336	
BRCVMOFCC	06407	014315	29980	RCVM	LDA	OFC	WAS 940 OUTPUT DEFERRED?
BLOOPC	06410	001010	29990		JAZ	LOOP	NO
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:50.316

BC	06411	006335	
BC	06412	005001	30000		TZA	YES, TURN FLAG OFF
BOFCC	06413	054311	30010		STA	OFC
BDEFOC	06414	014303	30020		LDA	DEFO	SEND ANOTHER DEFO-CHAR TO CONTINUE OUTPUT
BOTM9C	06415	002000	30030		JMPM	OTM9	OUTPUT CHARACTER TO 940
BC	06416	006527	
BLOOPC	06417	001000	30040		JMP	LOOP
BC	06420	006335	
BC	      	      	30050	*
BC	      	      	30060	***************************************************************
BC	      	      	30070	*
BC	      	      	30080	*      ITM9      ASYNCHRONOUS   MODEM CONTROLLER INPUT INTERRRUPT ROUTI
BC	      	      	30090	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	30100	*      PUTS CHARACTER INTO INPUT BUFFER (AINB) AND INCEMENTS READ-IN-P
BC	      	      	30110	*      IF THE BUFFER IS FULL, SEND 'DEFER OUTPUT' CHAR (034B)
BC	      	      	30120	*
BC	      	      	30130	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	30140	*              NONE
BC	      	      	30150	*
BITM9C	06421	000000	30160	ITM9	0
BSAVAC	06422	054303	30170		STA	SAVA	SAVE REGISTERS
BSAVAC	06423	064303	30180		STB	SAVA+1
BSAVAC	06424	074303	30190		STX	SAVA+2
BARIPC	06425	034275	30200		LDX	ARIP	READ-IN-PTR
BC	06426	015001	30210		LDA	1,X	GET READ-OUT-PTR
BB200C	06427	110037	30220		ORA	B200	ADD 200
BC	06430	145000	30230		SUB	0,X	SUBTRACT READ-IN-PTR
BB177C	06431	150036	30240		ANA	B177	TURN 8-BIT OFF
BHALTC	06432	002010	30250		JAZM	HALT	DATA OVERRUN - HALT
BC	06433	000006	
BP5C	06434	140014	30260		SUB	P5	GIVE 5	CHARACTERS EARLY WARNING
BNOFUC	06435	001002	30270		JAP	NOFU	ENOUGH SPACE LEFT
BC	06436	006447	
BOFCC	06437	014265	30280		LDA	OFC	NOT ENOUGH SPACE LEFT
BNOFUC	06440	001004	30290		JAN	NOFU	DO NOTHING IF 174B ALREADY SENT
BC	06441	006447	
BC	06442	005311	30300		DEC	A,A
BOFCC	06443	054261	30310		STA	OFC	E FLAG FOR 'DEFERRED OUTPUT'
BDEFOC	06444	014253	30320		LDA	DEFO	SEND 'DEFERRED OUTPUT' CHAR
BOTM9C	06445	002000	30330		JMPM	OTM9	OUTPUT CHARACTER TO 940
BC	06446	006527	
BNOFUC	06447	015000	30340	NOFU	LDA	0,X	READ-IN-PTR
BAINBC	06450	124253	30350		ADD	AINB
BC	06451	005014	30360		TAX
BC	06452	102770	30370		CIAB	070	GET CHARACTER (ASCII) FROM CONTROLLER
BXOFFC	06453	134040	30380		ERA	XOFF	IS THIS AN XOFF CHAR?
BWWAITC	06454	001010	30390		JAZ	WWAIT
BC	06455	006500	
BC	06456	005021	30400		TBA
BXONC	06457	134035	30410		ERA	XON	WAS IT AN XON?
BGGOONC	06460	001010	30420		JAZ	GGOON
BC	06461	006506	
BIAOUTC	06462	001020	30430		JBZ	IAOUT	IGNORE CONTR SHIFT P
BC	06463	006472	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:50.883

BC	06464	065000	30440		STB	0,X
BARIPC	06465	034235	30450		LDX	ARIP
BC	06466	015000	30460		LDA	0,X	READ-IN-PTR
BC	06467	005111	30470		IAR	INCEMENT MOD 200
BB177C	06470	150036	30480		ANA	B177
BDMSTPC	06471	055000	30490	DMSTP	STA	0,X	STORE READ-IN-PTR
BIAOUTSAVAC	06472	014233	30500	IAOUT	LDA	SAVA	RESTORE REGISTERS
BSAVAC	06473	024233	30510		LDB	SAVA+1
BSAVAC	06474	034233	30520		LDX	SAVA+2
BC	06475	100240	30530		EXC	0240	RE-ENABLE PIM
BITM9C	06476	001000	30540		JMP	ITM9+.
BC	06477	106421	
BWWAITWMASKC	06500	014221	30550	WWAIT	LDA	WMASK	DISABLE TTY INT
BC	06501	103140	30560		OAR	040
BC	06502	005001	30570		TZA
BFULSWC	06503	054173	30580		STA	FULSW	STOP DUMP IF IN PROGRESS
BIAOUTC	06504	001000	30590		JMP	IAOUT
BC	06505	006472	
BGGOONNMASKC	06506	014212	30600	GGOON	LDA	NMASK	ENABLE TTY INTS
BC	06507	103140	30610		OAR	040
BC	06510	005111	30620		INC	A,A
BFULSWC	06511	054165	30630		STA	FULSW	REE AND CONTINUE DUMP
BIAOUTC	06512	001000	30640		JMP	IAOUT
BC	06513	006472	
BC	      	      	30650	*
BXOFFC	06514	000223	30660	XOFF	0223	X-OFF CHAR SENT BY 940
BXONC	06515	000021	30670	XON	021	X-ON CHAR SENT BY 940
BC	      	      	30680	*
BC	      	      	30690	***************************************************************
BC	      	      	30700	*
BC	      	      	30710	*      ITTY    TTY INPUT INTERRUPT ROUTINE FOR 940 TELETYPE MODE
BC	      	      	30720	*      P ROSENBLADT           SHELL DEVELOPMENT COMPANY, EMERYVILLE
BC	      	      	30730	*      DOES NOT ECHO A CHARACTER BUT LETS THE 940 DO IT
BC	      	      	30740	*      AFTER IT IS SENT TO THE ASYNCHRONOUS MODEM CONTROLLER
BC	      	      	30750	*      THIS IS DONE ONLY IF SS1 IS UP, ELSE NOTHING IS DONE
BC	      	      	30760	*      SUBROUTINES DIRECTLY JMPMED
BC	      	      	30770	*              NONE
BC	      	      	30780	*
BITTYC	06516	000000	30790	ITTY	0
BT6C	06517	050071	30800		STA	T6	SAVE REGISTERS
BC	06520	102501	30810		CIA	01	GET CHARACTER
BOTM9C	06521	002100	30820		JS1M	OTM9	OUTPUT CHARACTER TO 940
BC	06522	006527	
BT6C	06523	010071	30830		LDA	T6	RESTORE A
BC	06524	100240	30840		EXC	0240
BITTYC	06525	001000	30850		JMP	ITTY+.
BC	06526	106516	
BOTM9C	06527	000000	30860	OTM9	0	OUTPUT A CHARACTER TO AMC (IN A)
BC	06530	101170	30870		SEN	0170,*+5	SENSE WRITE REGISTER READY
BC	06531	006535	
BC	06532	005000	30880		NOP
BC	06533	001000	30890		JMP	*-3
BC	06534	006530	
BC	06535	103170	30900		OAR	070	OUTPUT CHARACTER TO AMC
BOTM9DPAGE 01  CSHELL.VAS  04-MAY-73  09:46:54.466

BC	06536	001000	30910		JMP	OTM9+.
BC	06537	106527	
BC	      	      	30920	*
BC	      	      	30930	*      ROUTINE TO DUMP 620I CORE TO XDS 940 DISK FILE
BC	      	      	30940	*      IN TTY MODE, TYPE  -COPY TEL TO /FILE/
BC	      	      	30950	*      THEN ENTER DVAR WITH A REG E TO STARTING 620
BC	      	      	30960	*      ADDRESS, AND B REG E TO ENDING 620 ADDRESS
BC	      	      	30970	*
BMWNLC	      	000020	30980	MWNL	E	020
BMCNWC	      	000006	30990	MCNW	E	6
BDVARC	06540	004344	31000	DVAR	LSRA	4
BC	06541	004244	31010		LRLA	4
BSTARTC	06542	054132	31020		STA	START
BC	06543	005021	31030		TBA
BC	06544	004344	31040		LSRA	4
BC	06545	004244	31050		LRLA	4
BENDC	06546	054127	31060		STA	END
BCONQC	06547	014130	31070		LDA	CONQ	SEND STOP ECHO CHAR.
BCXMTC	06550	002000	31080		JMPM	CXMT
BC	06551	006663	
BNXLC	06552	005001	31090	NXL	TZA
BWNLC	06553	054132	31100		STA	WNL	REE WORDS IN LINE SENT COUNTER
BSTARTC	06554	014120	31110		LDA	START	GET START OF LINE ADDRESS
BCVWXMTC	06555	002000	31120		JMPM	CVWXMT	CONV WORD AND XMIT
BC	06556	006625	
BBLKC	06557	014123	31130		LDA	BLK
BCXMTC	06560	002000	31140		JMPM	CXMT	SEND EXTRA BLANK SEPARATOR
BC	06561	006663	
BSTARTC	06562	034112	31150		LDX	START
BNXWC	06563	015000	31160	NXW	LDA	0,X	GET NEXT WORD
BCVWXMTC	06564	002000	31170		JMPM	CVWXMT
BC	06565	006625	
BC	06566	005144	31180		IXR
BWNLC	06567	044116	31190		INR	WNL
BWNLC	06570	014115	31200		LDA	WNL
BMWNLC	06571	006140	31210		SUBI	MWNL
BC	06572	000020	
BNXWC	06573	001004	31220		JAN	NXW	NOT END OF LINE
BC	06574	006563	
BSTARTC	06575	074077	31230		STX	START
BENDC	06576	014077	31240		LDA	END
BSTARTC	06577	144075	31250		SUB	START	END OF DATA YET
BXDVARC	06600	001004	31260		JAN	XDVAR	YES EXIT
BC	06601	006612	
BCRRC	06602	014076	31270		LDA	CRR	SEND CR
BCXMTC	06603	002000	31280		JMPM	CXMT
BC	06604	006663	
BC	06605	006010	31290		LDAI	05000	STORE NOP IN STORE READ IN POINTER
BC	06606	005000	
BDMSTPC	06607	057031	31300		STA	DMSTP
BNXLC	06610	001000	31310		JMP	NXL	DO NEXT LINE
BC	06611	006552	
BXDVARCONQC	06612	014065	31320	XDVAR	LDA	CONQ	SEND ECHO ON CHAR
BCXMTC	06613	002000	31330		JMPM	CXMT
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:54.966

BC	06614	006663	
BCONDC	06615	014064	31340		LDA	COND	SEND CONTROL D TO TERMINATE COPY COMM.
BCXMTC	06616	002000	31350		JMPM	CXMT
BC	06617	006663	
BC	06620	006010	31360		LDAI	055000	RESTORE CODE TO STORE READ IN POINTER
BC	06621	055000	
BDMSTPC	06622	057031	31370		STA	DMSTP
BTESTC	06623	001000	31380		JMP	TEST	RTN TO TTY TEST LOOP
BC	06624	006360	
BC	      	      	31390	*
BC	      	      	31400	*      ROUTINE TO CONVERT  16 BIT WORD TO 6 OCTAL
BC	      	      	31410	*      DIGITS WHICH ARE CONVERTED TO ASCII FOR TRANSMISSION TO
BC	      	      	31420	*      THE 940 DISK FILE.
BC	      	      	31430	*
BCVWXMTC	06625	000000	31440	CVWXMT	0
BSDVXC	06626	074055	31450		STX	SDVX
BC	06627	005012	31460		TAB
BC	06630	005001	31470		TZA
BCNWC	06631	054055	31480		STA	CNW
BC	06632	004441	31490		LLRL	1
BNOCHSDVBC	06633	064051	31500	NOCH	STB	SDVB	SAV REST OF WORD
BTABC	06634	006120	31510		ADDI	TAB
BC	06635	006710	
BC	06636	005014	31520		TAX
BC	06637	015000	31530		LDA	0,X
BCXMTC	06640	002000	31540		JMPM	CXMT	SEND CHAR
BC	06641	006663	
BCNWC	06642	044044	31550		INR	CNW
BCNWC	06643	014043	31560		LDA	CNW
BMCNWC	06644	006140	31570		SUBI	MCNW
BC	06645	000006	
BNWC	06646	001010	31580		JAZ	NW	GET NEXT DIGIT IN WORD
BC	06647	006655	
BSDVBC	06650	024034	31590		LDB	SDVB
BC	06651	005001	31600		TZA
BC	06652	004443	31610		LLRL	3
BNOCHC	06653	001000	31620		JMP	NOCH	RTN TO GET NEXT OCTAL DIGIT
BC	06654	006633	
BNWBLKC	06655	014025	31630	NW	LDA	BLK	SEND BLANK TO SEPARATE WORDS
BCXMTC	06656	002000	31640		JMPM	CXMT
BC	06657	006663	
BSDVXC	06660	034023	31650		LDX	SDVX
BCVWXMTC	06661	001000	31660		JMP	CVWXMT+.	JMPRN
BC	06662	106625	
BC	      	      	31670	*
BC	      	      	31680	*      SEND CHAR TO 940 AS IF FROM TTY
BC	      	      	31690	*
BCXMTC	06663	000000	31700	CXMT	0
BC	06664	020000	31710		LDB	0	DUMMY	IN LOOP TO INSURE INT.
BFULSWC	06665	024011	31720		LDB	FULSW	CHECK FOR X-OFF
BC	06666	001020	31730		JBZ	*-2	WAIT FOR X-ON
BC	06667	006664	
BOTM9C	06670	002100	31740		JS1M	OTM9
BC	06671	006527	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:55.450

BC	06672	100240	31750		EXC	0240
BCXMTC	06673	001000	31760		JMP	CXMT+.
BC	06674	106663	
BC	      	      	31770	*
BC	      	      	31780	*      WORKING STORAGE
BC	      	      	31790	*
BSTARTC	06675	000000	31800	START	0
BENDC	06676	000000	31810	END	0
BFULSWC	06677	000001	31820	FULSW	1
BC	      	      	31830	*      THE FOLLOWING CONSTANTS ARE ASCII CHARACTERS
BC	      	      	31840	*        USED  FOR TRANSMISSION TO 940
BCONQC	06700	000235	31850	CONQ	0235	CONTROL CHAR ADDED BY DON CRENSHAW TO SYS
BCRRC	06701	000215	31860	CRR	0215	CARRIAGE JMPRN
BCONDC	06702	000204	31870	COND	0204	CONTROL D
BBLKC	06703	000240	31880	BLK	0240	BLANK
BSDVXC	06704	000000	31890	SDVX	0
BSDVBC	06705	000000	31900	SDVB	0
BWNLC	06706	000000	31910	WNL	0	NO. WDS IN THIS LINE
BCNWC	06707	000000	31920	CNW	0	NO. CHS IN THIS WORD
BC	      	      	31930	*      FOLLOWING ARE ASCII E OF NUMBERS 0-7
BTABC	06710	000260	31940	TAB	0260;0261;0262;0263;0264;0265;0266;0267
BC	06711	000261	
BC	06712	000262	
BC	06713	000263	
BC	06714	000264	
BC	06715	000265	
BC	06716	000266	
BC	06717	000267	
BDEFOC	06720	000034	31950	DEFO	034	*DEFER OUTPUT CHAR SENT TO 940
BNMASKC	06721	000273	31960	NMASK	0273	INTERRUPT MASK ENABLING ONLY TTY AND AMC
BWMASKC	06722	000373	31970	WMASK	0373	INTERRUPT MASK ENABLING ONLY AMC INPUT
BARIPABF1C	06723	010000	31980	ARIP	+ABF1	ADDRESS OF ARIP
BAINBABF1C	06724	010002	31990	AINB	+ABF1+2	ADDRESS OF AINB
BOFCC	06725	000000	32000	OFC	0	FLAG NEG IF 'DEFER OUTPUT' ACTIVE
BSAVAC	06726	      	32010	SAVA	R	*+3
BC	      	      	32020	*      BUFFERS
BC	06731	      	32030		R	010000
BMLENC	      	000512	32040	MLEN	E	330D	DATA MESSAGE LENGTH - RMS 1
BPHBZC	      	000531	32050	PHBZ	E	345D	PHONE BUFFER SIZE
BPHBMC	      	000764	32060	PHBM	E	500D	OUTPUT TO 940 BUFFER SIZE
BIBUZC	      	000120	32070	IBUZ	E	80D	INPUT BUFFER SIZE
BPBF1PHBZC	10000	      	32080	PBF1	R	*+PHBZ	PHONE BUFFER NO. 1
BPBF2PHBZC	10531	      	32090	PBF2	R	*+PHBZ	PHONE BUFFER NO. 2
BCBF1PHBZC	11262	      	32100	CBF1	R	*+PHBZ	COMPRESS BUFFER NO. 1
BCBF2PHBZC	12013	      	32110	CBF2	R	*+PHBZ	COMPRESS BUFFER NO. 2
BOBU1PHBMC	12544	      	32120	OBU1	R	*+PHBM	OUTPUT TO 940 BUFFER NO. 1
BOBU2PHBMC	13530	      	32130	OBU2	R	*+PHBM	OUTPUT TO 940 BUFFER NO. 2
BIBU1IBUZC	14514	      	32140	IBU1	R	*+IBUZ	INPUT BUFFER NO. 1
BIBU2IBUZC	14634	      	32150	IBU2	R	*+IBUZ	INPUT BUFFER NO. 2
BENBFC	14754	000000	32160	ENBF	0	END OF BUFFERS MARKER
BC	      	      	32180		
BD

INDIRECT POOL
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:56.000

BC	00001	004434	
BC	00002	100567	
BC	00003	100054	
BC	00004	100056	
BC	00005	100052	
BC	00006	004063	
BC	00007	004056	
BC	00010	100067	
BC	00011	004065	
BC	00012	006102	
BC	00013	004052	
BC	00014	004060	
BC	00015	004051	
BC	00016	006104	
BC	00017	006117	
BC	00020	006677	
BC	00021	006116	
BC	00022	006106	
BC	00023	100057	
BC	00024	100062	
BC	00025	006075	
BC	00026	006100	
BC	00027	100060	
BC	00030	006152	
BC	00031	006471	
BD
LITERAL POOL
BC	00120	001115	
BC	00121	001343	
BC	00122	001347	
BC	00123	001410	
BC	00124	001357	
BC	00125	001337	
BC	00126	001323	
BC	00127	002136	
BC	00130	002114	
BC	00131	002237	
BC	00132	001300	
BC	00133	003046	
BC	00134	002313	
BC	00135	001377	
BC	00136	001110	
BC	00137	001324	
BC	00140	001371	
BC	00141	001330	
BC	00142	001333	
BC	00143	003016	
BC	00144	001403	
BC	00145	001106	
BC	00146	001303	
BC	00147	001401	
BC	00150	001361	
BC	00151	003006	
BC	00152	003036	
BDPAGE 01  CSHELL.VAS  04-MAY-73  09:46:56.400

BC	00153	003026	
BC	00154	003321	
BC	00155	003337	
BC	00156	001373	
BC	00157	001375	
BC	00160	077777	
BC	00161	001113	
BC	00162	001363	
BC	00163	001311	
BC	00164	001366	
BC	00165	002525	
BC	00166	000577	
BC	00167	002551	
BC	00170	000370	
BC	00171	000513	
BC	00172	002776	
BC	00173	001274	
BC	00174	003342	
BC	00175	001617	
BC	00176	001720	
BC	00177	012544	
BC	00200	013530	
BC	00201	001306	
BC	00202	001103	
BC	00203	001421	
BC	00204	000015	
BC	00205	001427	
BC	00206	001425	
BC	00207	001423	
BC	00210	003777	
BD wrI