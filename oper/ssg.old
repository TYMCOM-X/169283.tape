TERMINALS

&!RESERVED WORDS
&! 9 USED IN SYMBOL FOR AT-SIGN
LT                      ! TV$LT         = 1    ! \
LE                      ! TV$LE                ! \
NE                      ! TV$NE                ! \
GE                      ! TV$GE                ! \
GT                      ! TV$GT                ! \
EQ                      ! TV$EQW                ! \
LINE.LENGTH             ! TV$LINE              ! \
BOTTOM.MARGIN           ! TV$BOTTM             ! \
FOOTING.SIZE            ! TV$FOOTSZ            ! \
LINE.NUM                ! TV$LINEN             ! \
PAGE.NUM                ! TV$PAGEN             ! \
PAGE.SIZE               ! TV$PAGESZ            ! \
TOP.MARGIN              ! TV$TOPMAR            ! \
HEADING.SIZE            ! TV$HEADSZ            ! \
PAGE.TOP                ! TV$PAGETP            ! \
PAGE.DIVIDER            ! TV$PAGEDV            ! \
REPORT.HEADING          ! TV$REPRTHD           ! \
REPORT.FOOTING          ! TV$REPRTFT           ! \
PAGE.HEADING            ! TV$PAGEHD            ! \
PAGE.FOOTING            ! TV$PAGEFT            ! \
GROUP.HEADING           ! TV$GROUPHD           ! \
GROUP.FOOTING           ! TV$GROUPFT           ! \
DELETE                  ! TV$DELETE            ! \
INSERT                  ! TV$INSERT            ! \
ALTER                   ! TV$ALTER             ! \
MOVE                    ! TV$MOVE              ! \
LET                     ! TV$LET               ! \
ADD                     ! TV$ADD               ! \
SUBTRACT                ! TV$SUBTRA            ! \
ACCEPT                  ! TV$ACCEPT            ! \
TYPE                    ! TV$TYPE              ! \
PRINT                   ! TV$PRINT             ! \
FOR                     ! TV$FOR               ! \
WRITE                   ! TV$WRITE            ! \
SELECT                  ! TV$SELECT            ! \
FORCE                   ! TV$FORCE             ! \
NOTHING                 ! TV$NOTHNG            ! \
REPEAT                  ! TV$REPEAT            ! \
FINISH                  ! TV$FINISH            ! \
IF                      ! TV$IF                ! \
ABORT                   ! TV$ABORT             ! \
DO                      ! TV$DO                ! \
WHILE                   ! TV$WHILE             ! \
BEGIN                   ! TV$BEGIN             ! \
FIELD                   ! TV$FIELD             ! \
&!"FIELDS                  ! TV$FIELD             ! \
SOURCE                  ! TV$SOURCE            ! \
REPORT                  ! TV$REPORT            ! \
FORMAT                  ! TV$FORMAT            ! \
RELATION                ! TV$RELATN            ! \
SUM                     ! TV$SUM               ! \
AVG                     ! TV$AVG               ! \
MIN                     ! TV$MIN               ! \
MAX                     ! TV$MAX               ! \
COUNT                   ! TV$COUNT             ! \
TODAY                   ! TV$TODAY             ! \
TIME                    ! TV$TIME              ! \
LIST                    ! TV$LIST              ! \
ENTER                   ! TV$ENTER             ! \
EDIT                    ! TV$EDIT              ! \
RUN                     ! TV$RUN               ! \
TOTALS                  ! TV$TOTALS            ! \
CREATE                  ! TV$CREATE            ! \
CHANGE                  ! TV$CHANGE            ! \
DIRECTORY               ! TV$DIRECTY           ! \
BACKUP                  ! TV$BACKUP            ! \
RESTORE                 ! TV$RESTORE           ! \
RELEASE                 ! TV$RELEASE           ! \
BUILD                   ! TV$BUILD             ! \
&! End of jump vector groupings
TRANSFER                ! TV$TRANSF            ! \
INPUT                   ! TV$INPUT             ! \
CALL                    ! TV$CALL              ! \
JOIN                    ! TV$JOIN              ! \
RETURN                  ! TV$RETURN            ! \
END                     ! TV$END               ! \
PROCEDURE               ! TV$PROCDR            ! \
DEFINE                  ! TV$DEFINE            ! \
RELATIONS               ! TV$RELATNS            ! \
BINARY                  ! TV$BINARY            ! \
SINGLE                  ! TV$SINGLE            ! \
DOUBLE                  ! TV$DOUBLE            ! \
FLOAT                   ! TV$FLOAT             ! \
APPEND                  ! TV$APPEND            ! \
BITS                    ! TV$BITS              ! \
WITH                    ! TV$WITH              ! \
VERIFY                  ! TV$VERIFY            ! \
INITIALLY               ! TV$INIT              ! \
&!"INIT                    ! TV$INIT              ! \
DEFAULT                 ! TV$DEFAULT             ! \
IS                      ! TV$IS                ! \
OF                      ! TV$OF                ! \
SAME                    ! TV$SAME              ! \
AS                      ! TV$AS                ! \
KEY                     ! TV$KEY               ! \
THOSE                   ! TV$THOSE             ! \
WHERE                   ! TV$WHERE             ! \
DATA                    ! TV$DATA              ! \
FROM                    ! TV$FROM              ! \
ALL                     ! TV$ALL               ! \
INTO                    ! TV$INTO              ! \
BY                      ! TV$BY                ! \
POSITION                ! TV$POSITN            ! \
TO                      ! TV$TO                ! \
ON                      ! TV$ON                ! \
GIVING                  ! TV$GIVING            ! \
EACH                    ! TV$EACH              ! \
VIA                     ! TV$VIA               ! \
SORTED                  ! TV$SORTED            ! \
ASCENDING               ! TV$ASCEND            ! \
DESCENDING              ! TV$DESCEN            ! \
USING                   ! TV$USING             ! \
THEN                    ! TV$THEN              ! \
@FF                     ! TV$9FF               ! \
@CR                     ! TV$9CR               ! \
@TAB                    ! TV$9TAB              ! \
@SKIP                   ! TV$9SKIP              ! \
FIXED                   ! TV$FIXED             ! \
FORM                    ! TV$FORM              ! \
FREE                    ! TV$FREE              ! \
PROMPT                  ! TV$PROMPT           ! \
INVALIDS                ! TV$INVALD            ! \
NO                      ! TV$NO                ! \
ROUNDED                 ! TV$ROUND             ! \
&!"ROUND                   ! TV$ROUND             ! \
SEPARATOR               ! TV$SEPAR             ! \
TERMINATOR              ! TV$TERMIN            ! \
REPORTS                 ! TV$REPORTS            ! \
CONTROLLED              ! TV$CNTRLD            ! \
ELSE                    ! TV$ELSE              ! \
AND                     ! TV$AND               ! \
OR                      ! TV$OR                ! \
CHANGING                 ! TV$CHANGD            ! \
ILLEGAL                 ! TV$ILLEGL            ! \
IN                      ! TV$IN                ! \
NOT                     ! TV$NOT               ! \
TRIM                    ! TV$TRIM              ! \
DATE                   ! TV$DATE             ! \
HEADINGS                ! TV$HEADNGS           ! \
PROMPTED                ! TV$PROMPTD           ! \
ERRORS                  ! TV$ERRORS            ! \
SCHEMA                  ! TV$SCHEMA            ! \
CHECK                   ! TV$CHECK             ! \
PROCEDURES              ! TV$PROCDRS           ! \
PARAMETERS              ! TV$PARMTR            ! \
FULL                    ! TV$FULL              ! \
GROUP                   ! TV$GROUP             ! \
CONDITIONAL             ! TV$CONDIT            ! \
MODIFY                  ! TV$MODIFY            ! \
TRUNCATED               ! TV$TRUNC             ! \
&!"TRUNC                   ! TV$TRUNC             ! \
SAVE                    ! TV$SAVE              ! \
&!! END OF RESERVED WORDS FOR SYMBOL TABLE
&! KEEP TV$8RWC UP-TO-DATE WITH NO. OF RESERVED WORDS.
&!TOKEN VALUES FOR COMMON FORMS ASSIGNED BY SCANNER
<name>                  ! TV$NAME              ! \
<quoted-string>         ! TV$STRING            ! \
<integer>               ! TV$INTLIT            ! \
<dec-number>            ! TV$DECLIT            ! \
<@integer>              ! TV$CCLIT             ! \
&! Date literal not recognized by scanner after all, so
&! following (TV$DTLIT) should be moved down eventually
<dummy>                 ! TV$DTLIT             ! \
<label>                 ! TV$LABEL            ! \
<eof-term>              ! TV$EOF              ! \
"                       ! TV$DBLQT             ! \
$                       ! TV$DOLLAR            ! \
%                       ! TV$PERCENT           ! \
(                       ! TV$LPAREN            ! \
)                       ! TV$RPAREN            ! \
*                       ! TV$STAR              ! \
+                       ! TV$PLUS              ! \
,                       ! TV$COMMA             ! \
-                       ! TV$MINUS             ! \
.                       ! TV$PERIOD            ! \
/                       ! TV$SLASH             ! \
:                       ! TV$COLON             ! \
;                       ! TV$SEMCOL            ! \
=                       ! TV$EQ                ! \
&!. END OF SYMBOLS FOR MESSAGE PRINTOUT
&                       ! TV$AMP               ! \
?                       ! TV$QMARK             ! \
@                       ! TV$AT                ! \
[                       ! TV$LBRACK            ! \
                        ! TV$BSLASH            ! \
]                       ! TV$RBRACK            ! \
^                       ! TV$CARET             ! \
_                       ! TV$UNDER             ! \
'                       ! TV$SINQT             ! \
                        ! TV$ACCGR             ! \
                        ! TV$LCURL             ! \
                        ! TV$VBAR              ! \
                        ! TV$RCURL             ! \
                        ! TV$CR                ! \
                        ! TV$BLANK             ! \
                        ! TV$EXCL              ! \
                        ! TV$NULL              ! \
                        ! TV$NONID             ! \
<                       ! TV$LT         = 1    ! \
<=                      ! TV$LE                ! \
#                       ! TV$NE                ! \
>=                      ! TV$GE                ! \
>                       ! TV$GT                ! \

&! Value range for following list is 400-512.
BGDEL ! TV$8BGDEL = 400 ! \
BGALT ! TV$8BGALT       ! \
USNGL ! TV$8USNGL       ! \
USNGS ! TV$8USNGS       ! \
BGFORE ! TV$8BGFORE       ! \
NDFORE ! TV$8NDFORE       ! \
NDRPC ! TV$8NDRPC       ! \
BGSEL ! TV$8BGSEL       ! \
NDSEL ! TV$8NDSEL       ! \
BGPRNT ! TV$8BGPRNT       ! \
BGFRCE ! TV$8BGFRCE       ! \
BGACC ! TV$8BGACC       ! \
BGTYPE ! TV$8BGTYPE       ! \
NDILST ! TV$8NDILST       ! \
NDOLST ! TV$8NDOLST       ! \
BGCOND ! TV$8BGCOND       ! \
PIC ! TV$8PIC       ! \
BGIF ! TV$8BGIF       ! \
NDIF ! TV$8NDIF       ! \
BGWLDO ! TV$8BGWLDO       ! \
WLDO ! TV$8WLDO       ! \
NDWLDO ! TV$8NDWLDO       ! \
BGDOWL ! TV$8BGDOWL       ! \
DOWL ! TV$8DOWL       ! \
NDDOWL ! TV$8NDDOWL       ! \
BGSRT ! TV$8BGSRT       ! \
BGFIN ! TV$8BGFIN       ! \
BGRPET ! TV$8BGRPET       ! \
BGINS ! TV$8BGINS       ! \
BGABT ! TV$8BGABT       ! \
BGASS ! TV$8BGASS       ! \
BGADD ! TV$8BGADD       ! \
BGSUB ! TV$8BGSUB       ! \
VLST ! TV$8VLST       ! \
EXT ! TV$8EXT       ! \
BGIN ! TV$8BGIN       ! \
QUAL ! TV$8QUAL       ! \
UMINUS ! TV$8UMINUS       ! \
BGWHR ! TV$8BGWHR       ! \
BGAE ! TV$8BGAE       ! \
NDAE ! TV$8NDAE       ! \
BGVLST ! TV$8BGVLST       ! \
TREE ! TV$8TREE       ! \
ERROR ! TV$ERROR       ! \
SKIPTO ! TV$8SKIPTO       ! \
TABTO ! TV$8TABTO       ! \
SORTEDON ! TV$8SORTEDON       !  \
! TV$EEOF       ! \  &! END OF ERROR FILE
COUNTN ! TV$8COUNTN       ! \
BGWRPT ! TV$8BGWRPT       ! \
NDWRPT ! TV$8NDWRPT       ! \
WRPT ! TV$8WRPT       ! \

&! Number of reserved words for symbol table:
! TV$8RWC = 147 ! \

&! Because SUBID must be a symbolic value:
! TV$8ONE = 1 ! \
! TV$8TWO     ! \

&! SUBID values for $BETOK:
! TV$7NEW = 1 ! \
! TV$7NAME     ! \
! TV$7REL     ! \
! TV$7FIL     ! \
! TV$7PIC     ! \
! TV$7DAT     ! \
! TV$7ZERO     ! \
! TV$7ONE     ! \

&! ALT values ref'd by declaration processing modules:
! NV$SAME = 1000 ! \
! NV$IS        ! \
! NV$RPT        ! \
! NV$GRP        ! \
! NV$RAI !  \
! NV$RCI !  \
! NV$SEPAR !  \
! NV$TERMIN !  \
! NV$LINE !  \

&! Other NV$ values:
! NV$EOF = 1100 ! \
! NV$PRCNAM        ! \
! NV$PARAM        ! \
! NV$STMT        ! \
! NV$FLDNAM        ! \
! NV$DATATR        ! \
! NV$PIC        !  \
! NV$RELDEF        ! \
! NV$RELNAM        ! \
! NV$SRC        ! \
! NV$RPTNAM        ! \
! NV$CNDNAM        ! \
! NV$SRTITM        ! \
! NV$INPITM        ! \
! NV$CASLST        ! \
! NV$OUTITM        ! \
! NV$FRMNAM        ! \
! NV$SRCNAM        ! \
! NV$SDESCR        ! \
! NV$FILE        ! \
! NV$RCOND        ! \
! NV$LABNAM        ! \
! NV$VART        ! \
! NV$CONDE        ! \
! NV$VE        ! \
! NV$AE        ! \
! NV$VIACL        ! \
! NV$VIATYP        ! \
! NV$COND        ! \
! NV$LIT        ! \
! NV$CLIT        ! \
! NV$DATSTR        ! \
! NV$SCHNAM        !


PRODUCTIONS


<schema>   ::=
	SCHEMA  ! ERROR 100 <schema-err> !
	<schema-name>  ! ERROR 101 <schema-name-err> UP 1 CALL $BSCHP !
	BEGIN  ! ERROR 100 <BEGIN-err> !
	<schema-decl-list-optn> END  ! ERROR 103 <schema-to-END> !
	<eof>  ! ERROR 102 <schema-to-eof> UP 1 CALL $BFINI !  \
	\

&! TO ISOLATE RESCAN WHICH ALWAYS MUST ACCOMPANY <eof-term>
<eof>   ! NV$EOF !   ::=
	<eof-term>  ! UP 1 RESCAN !  \
	\

<schema-name>   ! NV$SCHNAM !   ::=
	<name>  ! UP 1 !  \
	\

<schema-decl-list-optn>   ::=
	<schema-decl-list>  \
	<NULL>  \
	\

<schema-decl-list>   ::=
	<schema-decl> <schema-decl-list>  \
	<schema-decl>  \
	\

<schema-decl>   ::=
	FIELD  ! NOBACKUP !  <FIELD-stmt>  \
&!	FIELDS  ! NOBACKUP !  <FIELD-stmt>  \
	RELATION  ! NOBACKUP !  <RELATION-stmt>  \
	\

<new-stmt>   ::=
	BEGIN  ! RESCAN !  \
	FIELD  ! RESCAN !  \
	RELATION  ! RESCAN !  \
	END  ! RESCAN !  \
	<eof>  \
	\


&! BEGIN <schema-decl>   (<FIELD-stmt> and <RELATION-stmt>)

<FIELD-stmt>  ::=
	<field-def-list>   \
	\

<field-def-list>   ::=
	<field-def> , <field-def-list>  \
	<field-def>  \
	\

<field-def>   ::=
	<field-name>  ! ERROR 101 <fld-dec-err> !
	  <field-attributes>  ! ERROR 101 <attr-err> UP 2 1 CALL $BFLDP !  \
	\

<field-attributes>   ! NV$DATATR !   ::=
	SAME AS  ! ERROR 100 <scan-attr> !
	  <field-name>  ! ERROR 101 <attr-fld> !
	  <value-constraints> <default-value>
	    ! NEW 3 2 1 ALT NV$SAME !  \
	AS <picture>  ! ERROR 101 <attr-pic> !
	  <value-constraints> <default-value>
	  ! NEW 3 2 1 ALT NV$IS !  \
	\

&! BACKUPOK because of <arith-exp>
<picture>   ! NV$PIC !   ::=
	<data-picture>  ! UP 1 !  \
	DATE <date-picture>  ! UP 1 2 !  \
	DATE <CREATE>  ! <quoted-string> SUBID TV$7DAT UP 1 2
	  CALL $BETOK BACKUPOK !  \
	\

<value-constraints>   ::=
	VERIFY <cond-exp>  ! ERROR 101 <attr-NULL> UP 1 2 !  \
	<NULL-constraints>  ! UP 1 !  \
	\

<NULL-constraints>   ::=
	<NULL> <CREATE>  ! VERIFY UP 2 1 !  \
	\

<default-value>   ::=
	DEFAULT  
	  <literal>  ! ERROR 101 <attr-NULL> UP 1 !  \
	<NULL>  ! UP 1 !  \
	\

<data-picture>   ::=
	<quoted-string> <CREATE>  ! PIC UP 2 1 !  \
	\

<date-picture>   ::=
	<quoted-string>  ! UP 1 !  \
	\

<RELATION-stmt>   ::=
	<relation-name>  ! ERROR 101 <rel-dec-err> !
	  <rel-def>  ! ERROR 101 <rel-def-err> UP 2 1 CALL $BRELP !  \
	\

<rel-def>   ! NV$RELDEF !   ::=
	SAME AS   ! ERROR 100 <end-stmt> !
	  <relation-name>  ! ERROR 101 <end-rel> NEW 1 ALT NV$SAME !  \
	IS <key-list>
	  <data-list>  ! NEW 2 1 ALT NV$IS !  \
	\

<relation-name>   ! NV$RELNAM !   ::=
	<name>  ! UP 1 !  \
	\

<key-list>   ::=
	KEY  ! ERROR 100 <KEY-err> !
	  <field-name-elist>  ! NEW 1 !  \
	\

<data-list>   ::=
	DATA <field-name-elist>  ! NEW 1 !  \
	<NULL>  ! NEW !  \
	\

<field-name-elist>   ::=
	<field-name>  ! ERROR 101 <scan-list> UP 1 !
	  , <field-name-elist>  ! APPEND 1 !  \
	<field-name>  ! ERROR 101 <scan-list> UP 1 !  \
	\

<field-name>   ! NV$FLDNAM !   ::=
	<name>  ! UP 1 !  \
	\

&! END <schema-decl>


&! BEGIN <cond-exp>

<cond-exp>   ! NV$CONDE !   ::=
	<bool-exp> <NOTANY>  ! <and-or> UP 2 !  \
	<ext-rel>  ! UP 1 !  \
	\

<and-or>   ::=   AND \ OR \ \

<bool-exp>  ::=
	<boolean-factor>  ! UP 1 !  \
	<bool-exp> OR <boolean-factor>  ! APPEND 1 2 !  \
	\

<boolean-factor>   ::=
	<boolean-element>  ! UP 1 !  \
	<boolean-factor> AND <boolean-element>  ! APPEND 1 2 !  \
	\

<boolean-element>   ::=
        <qualified-name> CHANGING  ! UP 2 1 !  \
	<qualified-name> NOT CHANGING  ! ERROR 100 <ae-CHANGING> UP 3 1 2
	  BACKUPOK !  \
	<qualified-name> IS NOT <picture-ref>  ! ERROR 101 <ae-picture> UP 4 1 3 2 
	  BACKUPOK !  \
	<qualified-name> IS <picture-ref>  ! ERROR 101 <ae-picture> UP 3 1 2 
	  BACKUPOK !  \
	<qualified-name> ILLEGAL  ! UP 2 1 !  \
	( <cond-exp> )  ! ERROR 100 <ae-rparen> UP 2 BACKUPOK !  \
	NOT (  ! ERROR 100 <ae-lparen> BACKUPOK !
	  <cond-exp>  ! ERROR 101 <ae-cond> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 4 BACKUPOK !  \
	<rel-exp>  ! UP 1 !  \
	\

<picture-ref>   ! NV$PIC !   ::=
	<field-name>  ! UP 1 !  \
	<picture>  ! UP 1 !  \
	\

<rel-exp>   ::=
	<valued-exp> <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err>
	  UP 3 1 2 BACKUPOK !  \
	\

<ext-rel>   ::=
	<ext-rel-1>  ! UP 1 !  \
	<ext-rel-2>  ! UP 1 !  \
	<ext-rel-3>  ! UP 1 !  \
	<ext-rel-4>  ! UP 1 !  \
	\

<ext-rel-1>   ::=
	<valued-exp> <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  AND <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  <CREATE>  ! EXT CALL $BEXTP BACKUPOK !
	  <NULL>  ! UP 8 2 6 7 3 4 5 !  \
	<ext-rel-1> AND <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err>
	  APPEND 1 2 3 CALL $BEXCT BACKUPOK !  \
	\

<ext-rel-2>   ::=
	<valued-exel-op>  ! SUBID TV$8EXT !
	  <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  AND <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  <CREATE>  ! EXT CALL $BEXTP BACKUPOK !
	  <NULL>  ! UP 7 2 5 6 3 4 !  \
	<ext-rel-2> AND <valued-exp>  ! ERROR 101 <ae-0-err>
	  APPEND 1 2 CALL $BEXCT BACKUPOK !  \
	\

<ext-rel-3>   ::=
	<valued-exp> <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  OR <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  <CREATE>  ! EXT CALL $BEXTP BACKUPOK !
	  <NULL>  ! UP 8 2 6 7 3 4 5 !  \
	<ext-rel-3> OR <rel-op> <valued-exp>  ! ERROR 101 <ae-0-err>
	  APPEND 1 2 3 CALL $BEXCT BACKUPOK !  \
	\

<ext-rel-4>   ::=
	<valued-exp> <rel-op>  ! SUBID TV$8EXT !
	  <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  OR <valued-exp>  ! ERROR 101 <ae-0-err> BACKUPOK !
	  <CREATE>  ! EXT CALL $BEXTP BACKUPOK !
	  <NULL>  ! UP 7 2 5 6 3 4 !  \
	<ext-rel-4> OR <valued-exp>  ! ERROR 101 <ae-0-err>
	  APPEND 1 2 CALL $BEXCT BACKUPOK !  \
	\

<rel-op>  ::=
	LT  ! UP 1 !  \    &! <   ! UP 1 !  \
	LE  ! UP 1 !  \    &! <=  ! UP 1 !  \
	NE  ! UP 1 !  \    &! #   ! UP 1 !  \
	GE  ! UP 1 !  \    &! >=  ! UP 1 !  \
	GT  ! UP 1 !  \    &! >   ! UP 1 !  \
	EQ <CREATE>  ! = UP 1 !  \
	=   ! UP 1 !  \
	\

<valued-exp>   ! NV$VE !   ::=
	DEFAULT  ! UP 1 !  \
	<arith-exp>  ! UP 1 !  \
	\

<arith-exp>   ! NV$AE !   ::=
	<arith-exp-1>
	  <CREATE>  ! BGAE !
	  <CREATE>  ! NDAE UP 2 3 1 !  \
	\

<arith-exp-1>   ! NV$AE !   ::=
	<term>   ! UP 1 !   \
	<arith-exp-1> + <term>  ! ERROR 101 <term-err> APPEND 1 2 
	  BACKUPOK !  \
	<arith-exp-1> - <term>  ! ERROR 101 <term-err> APPEND 1 2 
	  BACKUPOK !  \
	\

<term>   ! NV$AE !   ::=
	<primary>   ! UP 1 !   \
	<term> * <primary>  ! ERROR 101 <prim-err> APPEND 1 2 BACKUPOK !   \
	<term> / <primary>  ! ERROR 101 <prim-err> APPEND 1 2 BACKUPOK !   \
	\

<primary>   ! NV$AE !   ::=
	<secondary>  ! UP 1 !   \
	+ <secondary>  ! ERROR 101 <prim-err> UP 1 BACKUPOK !   \
	- <secondary>  ! ERROR 101 <prim-err> BACKUPOK !
	 <CREATE>  ! UMINUS UP 2 1 !   \
	\

<secondary>   ! NV$AE !   ::=
	<tertiary> <format-picture>  ! UP 2 1 !  \
	<tertiary> <NULL>  ! UP 2 !  \    &! COMMONALITY
	\

<tertiary>   ::=
	<data>  ! UP 1 !  \
	( <arith-exp-1> )  ! ERROR 100 <ae-rparen> UP 2 BACKUPOK !  \
	\

<format-picture>   ::=
	AS <field-name>  ! UP 1 2 !  \
	AS <picture>  ! ERROR 101 <prim-pic> UP 1 2 BACKUPOK !  \
	\

<data>   ::=
	<ident-ref>   ! UP 1 !   \
	<function>   ! UP 1 !   \
        <number>  ! UP 1 !  \
	<char-literal>  ! UP 1 !  \
	<date-literal>  ! UP 1 !  \
	\

<ident-ref>   ! NV$FLDNAM !   ::=
	<field-name> ( <via-qualified-relation>  ! ERROR 101 <ae-qrel>
	 BACKUPOK !
	 )  ! ERROR 100 <ae-rparen> BACKUPOK !
	 <CREATE>   ! QUAL SUBID TV$8TWO UP 5 3 1 !   \
	<qualified-name>   ! UP 1 !   \
	\

<qualified-name>   ! NV$FLDNAM !   ::=
	<field-name> OF <name>  ! ERROR 101 <ae-rel> UP 3 1 2 
	  BACKUPOK !  \
	<field-name> <NULL>  ! UP 2 !  \   &! COMMONALITY
	\

<via-qualified-relation>   ! NV$RELNAM !   ::=
	<relation-name> <via-clause>  ! ERROR 101 <ae-viacl> UP 2 1 !  \
	\

<qualified-relation>   ! NV$RELNAM !   ::=
	<relation-name> <qualification>  ! UP 2 1 !  \
	\

<qualification>   ::=
	<via-clause> <condition-option>  ! UP 2 1 !  \
	<condition> <CREATE>  ! VIA SUBID TV$8ONE UP 1 2 !  \
	<NULL> <CREATE>  ! VIA SUBID TV$8ONE UP 1 !  \
	\

<condition-option>   ::=
	, <condition>  ! ERROR 101 <end-ae> UP 1 BACKUPOK !  \
	<NULL>  \
	\

<via-clause>   ! NV$VIACL !   ::=
	VIA <via-type>  ! ERROR 101 <ae-KEY> UP 1 2 CALL $BMVCT 
	  BACKUPOK !  \
	\

<via-type>   ! NV$VIATYP !   ::=
	KEY  ! UP 1 !  \
&!	KEYS   ! UP 1 !  \
	<via-field-list>  ! UP 1 !  \
	\

<condition>   ! NV$COND !  ::=
	WHERE <cond-exp>  ! ERROR 101 <ae-cond> BACKUPOK !
	 <CREATE>  ! BGWHR UP 1 2 3 !  \
	\

<via-field-list>   ::=
	<key-value-1>  ! UP 1 !  \
	( <field-name-listc> ) (  ! UP 3 CALL $BDPCT BACKUPOK !
	 <qualified-relation>  ! ERROR 101 <ae-qrel> BACKUPOK !
	 )  ! ERROR 100 <ae-rparen> BACKUPOK !
	 <CREATE>  ! QUAL APPEND 3 1 CALL $BMVCT BACKUPOK !  \
	( <key-value-list>  ! CALL $BDPCT BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 BACKUPOK !  \
	\

<field-name-listc>   ::=
	<field-name-new>  ! UP 1 !  \
	<field-name-listc>
	  , <field-name-new>  ! APPEND 1 !  \
	\

<field-name-new>   ::=
	<field-name>  ! NEW 1 !  \
	\

<key-value-list>   ::=
	<key-value>  ! UP 1 !  \
	<key-value-list>
	  , <key-value>  ! APPEND 1 !  \
	\

<key-value>   ::=
	<field-name> = <valued-exp>  ! ERROR 101 <ae-ve> BACKUPOK !
	 <CREATE>  ! = SUBID TV$LET NEW 4 2 1 !  \
	<ident-ref>  ! NEW 1 !  \
	\

<key-value-1>   ::=
	<field-name> = <valued-exp>  ! ERROR 101 <ae-ve> BACKUPOK !
	  <CREATE>  ! = SUBID TV$LET UP 4 2 1 !  \
	<ident-ref>  ! UP 1 !  \
	\

<literal>   ! NV$LIT !   ::=
	<char-literal>  ! UP 1 !  \
	<date-literal>  ! UP 1 !  \
	<number>  ! UP 1 !  \
        + <number>  ! UP 1 !  \
        - <number>  ! UP 1 CALL $BNEG !  \
	\

<char-literal>   ! NV$CLIT !   ::=
	<quoted-string>  ! UP 1 !  \
	<@integer>  ! UP 1 !  \
	@CR  ! UP 1 !  \
	\

<date-literal>   ::=
	DATE <quoted-string>  ! UP 1 CALL $BDATP BACKUPOK !  \
	\

<number>   ::=
	<integer>  ! UP 1 !  \
	<dec-number>  ! UP 1 !  \
	\

<function>   ::=
	SUM (  ! ERROR 100 <ae-nparen> BACKUPOK !
	  <qualified-name>  ! ERROR 101 <ae-fld> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 4 BACKUPOK !  \
	AVG (  ! ERROR 100 <ae-nparen> BACKUPOK !
	  <qualified-name>  ! ERROR 101 <ae-fld> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 4 BACKUPOK !  \
	MIN (  ! ERROR 100 <ae-nparen> BACKUPOK !
	  <qualified-name>  ! ERROR 101 <ae-fld> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 4 BACKUPOK !  \
	MAX (  ! ERROR 100 <ae-nparen> BACKUPOK !
	  <qualified-name>  ! ERROR 101 <ae-fld> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> UP 2 4 BACKUPOK !  \
	COUNT (
	  <relation-name>  ! ERROR 101 <ae-rel> BACKUPOK !
	  )  ! ERROR 100 <ae-rparen> BACKUPOK !
	  <CREATE>  ! COUNT UP 3 1 !  \   &! COMMONALITY
	COUNT <CREATE>  ! COUNTN UP 1 !  \
	TODAY  ! UP 1 !  \
	TIME  ! UP 1 !  \
	\

&! END <cond-exp>


&!  ERROR PRODUCTIONS

<schema-err>   ::=
	SCHEMA  \
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <schema-err>  \
	\

<schema-name-err>   ::=
	<name>  ! UP 1 !  \
	<new-stmt> <new-name>  ! UP 1 !  \
	<ANY>  ! NOBACKUP !  <schema-name-err>  ! UP 1 !  \
	\

<new-name>   ::=
	<CREATE>  ! <name> SUBID TV$7NEW UP 1 CALL $BETOK !  \
	\

<BEGIN-err>   ::=
	BEGIN  \
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <BEGIN-err>  \
	\

<schema-to-END>   ::=
	END  \
	<eof>  \
	<new-stmt> <schema-decl-list> END  ! ERROR 100 <schema-to-END> !  \
	<ANY>  ! NOBACKUP !  <schema-to-END>  \
	\

<schema-to-eof>   ::=
	<eof>  \
	<new-stmt> <schema-decl-list> <eof>  ! ERROR 101 <schema-to-eof> !  \
	<ANY>  ! NOBACKUP !  <schema-to-eof>  \
	\


&! BEGIN <schema-decl> ERRORS   (NOTE <formal-param> COMMENTS)

<fld-dec-err>   ::=
	<scan-fld-dec> <new-name>  ! UP 1 !  \
	\

<attr-err>   ::=
	<scan-fld-dec> <default-fld> <NULL-constraints> <NULL>
	  ! NEW 3 2 1 ALT NV$SAME !  \
	\

<scan-fld-dec>   ::=
	SAME  ! RESCAN !  \
	AS  ! RESCAN !  \
	,  ! RESCAN !  \    &! <formal-param>
	)  ! RESCAN !  \    &! <formal-param>
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <scan-fld-dec>  \
	\

<scan-attr>   ::=
	VERIFY  ! RESCAN  !  \    &! <field-def>
	DEFAULT  ! RESCAN !  \
	,  ! RESCAN !  \
	)  ! RESCAN !  \    &! <formal-param>
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <scan-attr>  \
	\

<attr-fld>   ::=
	<scan-attr> <default-fld>  ! UP 1 !  \
	\

<attr-pic>   ::=
	<scan-attr> <default-picture>  ! UP 1 !  \
	\

<default-picture>   ::=
	<CREATE>  ! <quoted-string> SUBID TV$7PIC UP 1 CALL $BETOK 
	  BACKUPOK !  \
	\

<attr-NULL>   ::=
	<scan-attr> <NULL>  ! UP 1 !  \
	\

<default-fld>   ::=
	<CREATE>  ! <name> SUBID TV$7NAME UP 1 CALL $BETOK 
	  BACKUPOK !  \
	\

<rel-dec-err>   ::=
	<scan-rel-dec> <new-name>  ! UP 1 !  \
	\

<rel-def-err>   ::=
	<scan-rel-dec> <default-rel>  ! NEW 1 ALT NV$SAME !  \
	\

<scan-rel-dec>   ::=
	SAME  ! RESCAN !  \
	IS  ! RESCAN !  \
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <scan-rel-dec>  \
	\

<end-stmt>   ::=
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <end-stmt>  \
	\

<end-rel>   ::=
	<end-stmt> <default-rel>  ! UP 1 !  \
	\

<KEY-err>   ::=
	KEY  \
	DATA  ! RESCAN !  \
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <KEY-err>  \
	\

<scan-list>   ::=
	,  ! RESCAN !  \
	DATA  ! RESCAN !  \       &! <key-list>
	<new-stmt>  \
	<ANY>  ! NOBACKUP !  <scan-list>  \
	\

<default-rel>   ::=
	<CREATE>  ! <name> SUBID TV$7REL UP 1 CALL $BETOK 
	  BACKUPOK !  \
	\

&! END <schema-decl> ERRORS


&! BEGIN <cond-exp> ERRORS

<scan-ae>   ::=
	LT  ! RESCAN !  \
	LE  ! RESCAN !  \
	NE  ! RESCAN !  \
	GE  ! RESCAN !  \
	GT  ! RESCAN !  \
	EQ  ! RESCAN !  \
	=  ! RESCAN !  \
	,  ! RESCAN !  \
	)  ! RESCAN !  \
	AS  ! RESCAN !  \
	AND  ! RESCAN !  \
	OR  ! RESCAN !  \
	DEFAULT  ! RESCAN !  \
	<new-stmt>  \
	\

<end-ae>   ::=
	<scan-ae>  \
	<ANY> <end-ae>  \
	\

<ae-rparen>   ::=
	<end-ae> <rparen-chk>  \
	\

<rparen-chk>   ::=
	)  \
	<NULL>  \
	\

<ae-lparen>   ::=
	(  \
	<scan-ae>  \
	<ANY> <ae-lparen>  \
	\

<ae-to-lparen>   ::=
	(  ! RESCAN !  \
	<scan-ae>  \
	<ANY> <ae-to-lparen>  \
	\

<ae-nparen>   ::=
	(  \
	<name>  ! RESCAN !  \
	<quoted-string>  ! RESCAN !  \   &! <date-arg>
	<scan-ae>  \
	<ANY> <ae-nparen>  \
	\

<ae-comma>   ::=
	,  \
	<scan-ae>  \
	<ANY> <ae-comma>  \
	\

<ae-fld>   ::=
	<end-ae> <default-fld>  ! UP 1 !  \
	\

<ae-rel>   ::=
	<end-ae> <default-rel>  ! UP 1 !  \
	\

<ae-qrel>   ::=
	<end-ae> <default-qrel>  ! UP 1 !  \
	\

<default-qrel>   ::=
	<default-rel> <CREATE>  ! KEY !
	  <CREATE>  ! VIA SUBID TV$8TWO UP 3 2 1 !  \
	\

<ae-cond>   ::=
	<end-ae> <default-cond-exp>  ! UP 1 !  \
	\

<default-cond-exp>   ::=
	<ae-0> <ae-0>
	  <CREATE>  ! NE UP 3 2 1 !  \
	\

<ae-CHANGING>   ::=
	CHANGING  ! UP 1 !  \
	<scan-ae> <CREATE>  ! CHANGING UP 1 CALL $BETOK BACKUPOK !  \
	<ANY> <ae-CHANGING>  ! UP 1 !  \
	\

<ae-picture>   ::=
	<end-ae> <default-picture>  ! UP 1 !  \
	\

<ae-0-err>   ::=
	<end-ae> <ae-0>  ! UP 1 !  \
	\

<ae-viacl>   ::=
	<end-ae> <CREATE>   ! VIA !
	 <CREATE>  ! KEY UP 1 2 CALL $BMVCT BACKUPOK !  \
	\

<ae-KEY>   ::=
	<end-ae> <CREATE>  ! KEY UP 1 !  \
	\

<ae-ve>   ::=
	<end-ae> <CREATE>  ! DEFAULT UP 1 !  \
	\

<ae-0>   ::=
	<CREATE>  ! BGAE !  <int-0>
	  <CREATE>  ! NDAE UP 3 2 1 !  \
	\

<int-0>   ::=
	<CREATE>  ! <integer> SUBID TV$7ZERO UP 1 CALL $BETOK 
	  BACKUPOK !  \
	\

<ae-1>   ::=
	<CREATE>  ! BGAE !  <int-1>
	  <CREATE>  ! NDAE UP 3 2 1 !  \
	\

<int-1>   ::=
	<CREATE>  ! <integer> SUBID TV$7ONE UP 1 CALL $BETOK !  \
	\

<term-err>   ::=
	+  ! RESCAN !  <int-0>  ! UP 1 !  \
	-  ! RESCAN !  <int-0>  ! UP 1 !  \
	<scan-ae> <int-0>  ! UP 1 !  \
	<ANY> <term-err>  ! UP 1 !  \
	\

<scan-prim>   ::=
	+  ! RESCAN !  \
	-  ! RESCAN !  \
	*  ! RESCAN !  \
	/  ! RESCAN !  \
	<scan-ae>  \
	<ANY> <scan-prim>  \
	\

<prim-err>   ::=
	<scan-prim> <int-1>  ! UP 1 !  \
	\

<prim-pic>   ::=
	<scan-prim> <default-picture>  ! UP 1 !  \
	\

&! END <cond-exp> ERRORS


ENDSYN
   \ 7/