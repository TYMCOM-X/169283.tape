CKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 1
CKSUM.MAC	17-JUL-73 21:59		WILL CHECKSUM YOUR FILES - GMG - 18-JUL-73

BC				00100	;DEFINE VERSION NUMBER
BC
BTYMSPCC			000004	00300		TYMSPC==4		;TYMSHARE SPECIFICATION
BTYMRELC			000003	00400		TYMREL==3		;TYMSHARE RELEASE NUMBER
BDECSPCC			000000	00500		DECSPC==0		;DEC SPECIFICATION
BDECRELC			000000	00600		DECREL==0		;DEC RELEASE
BC
BDEFINETITLC				00800	DEFINE TITL(TS,TR,DS,DR)<
BC				00900	TITLE CKSUM -- VERSION TS'.'TR'-'DS'.'DR
BC				01000	SUBTTL	WILL CHECKSUM YOUR FILES - GMG - 18-JUL-73
BC				01100	VCKSUM==BYTE(9)DS,TS,DR,TR>
BC
BTITLTYMSPCTYMRELDECSPCDECRELC				01300		TITL(\TYMSPC,\TYMREL,\DECSPC,\DECREL)^
BTITLESUBTTLBYTEVCKSUMC
BTWOSEGC	400000'			01500		TWOSEGMENTS
BC
BLOCC	000137			01700		LOC	137
BVCKSUMC	000137	000004	000003	01800		VCKSUM
BRELOCC	400000'			01900		RELOC	400000		;GOING TO HSEG
BMLONC				02000		MLON
BSALLC				02100		SALL
BC
BC				02300	;ACCUMULATORS
BFC			000000	02400	F=0
BAC			000001	02500	A=1
BBC			000002	02600	B=2
BNC			000003	02700	N=3
BXC			000004	02800	X=4
BCC			000005	02900	C=5
BDC			000006	03000	D=6
BSCRC			000007	03100	SCR==7
BWDC			000011	03200	WD=11
BCHC			000012	03300	CH=12
BMC			000013	03400	M=13
BX1C			000014	03500	X1=14
BX2C			000015	03600	X2=15
BX3C			000016	03700	X3=16
BPC			000017	03800	P=17
BC
BC				04000	;I/O ASSIGNMENTS
BINFILC			000001	04100	INFIL==1
BDSKC			000002	04200	DSK==2			;CHANNEL FOR FAKE DISC AS TELETYPE I/O
BC
BDOTFC			000010	04400	DOTF==10
BC
BC
BEXTERNJOBFFC				04700	EXTERN JOBFF
BSUBTTLDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 2
CKSUM.MAC	17-JUL-73 21:59		MACRO'S AND SUCH

BC				00100	SUBTTL	MACRO'S AND SUCH
BC
BDEFINESUBRC				00300	DEFINE SUBR(X)<X: OPDEF X [PUSHJ P,.]>
BDEFINEMSGC				00400	DEFINE MSG(X)<OUTSTR [ASCIZ /X/]>
BC
BOPDEFPUSHJPPJC				00600	OPDEF	PJ [PUSHJ P,]
BOPDEFPOPJPRETC				00700	OPDEF	RET [POPJ P,]
BOPDEFPUSHPPSHC				00800	OPDEF	PSH [PUSH P,]
BOPDEFPOPPPULC				00900	OPDEF	PUL [POP P,]
BOPDEFINCHWLTCIC				01000	OPDEF	TCI [INCHWL]
BOPDEFOUTCHRTCOC				01100	OPDEF	TCO [OUTCHR]
BOPDEFJRSTPJRSTC				01200	OPDEF	PJRST [JRST]
BC
BSUBTTLDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 3
CKSUM.MAC	17-JUL-73 21:59		LET'S GO!

BC				00100	SUBTTL	LET'S GO!
BC				00200	;RUNNING CODE
BC
BRESTARRESETC	400000'	047000	000000	00400	RESTAR:	RESET			;INITIALIZE ALL
BSETZMDSKCHNC	400001'	402000	002475'	00500		SETZM	DSKCHN		;NO LONGER COMMING FROM DISC
BSTARTCLOSECHC	400002'	070500	000000	00600	START:	CLOSE	CH,		;FOR TTY LOOP
BMOVEPIOWDPDLC	400003'	200740	002501'	00700		MOVE	P,[IOWD 20,PDL]	;INIT PDL
BSETZFC	400004'	400000	000000	00800		SETZ	F,		;CLEAR FLAGS
BC
BLPSKIPEDSKCHNC	400005'	332000	002475'	01000	LP:	SKIPE	DSKCHN		;IF DISC FILE DON'T PRINT PRMPT
BJRSTC	400006'	254000	400013'	01100		JRST	.+5		;DONT TYPE
BMOVECHDELIMC	400007'	200500	002477'	01200		MOVE	CH,DELIM	;CHECK DELIMETER
BCAIECHC	400010'	302500	000012	01300		CAIE	CH,12		;L.F.
BCAINCHC	400011'	306500	000015	01400		CAIN	CH,15		;OR C.R. TYPE MESSAGE
BJRSTMSGOUTSTRASCIZC				01500		JRST	[MSG <INPUT: >
BSETZM%TYPOC				01600			SETZM %TYPO
BJRSTC	400012'	254000	002504'	01700			JRST .+1]
BSETZMCMDFILC	400013'	402000	002476'	01800		SETZM	CMDFIL		;RESET COMMAND FILE FLAG
BFNAMEC	400014'	260740	400271'	01900		FNAME
BSKIPECMDFILC	400015'	332000	002476'	02000		SKIPE	CMDFIL		;DID USER WAND COMMAND FILE?
BJRSTPCMDC	400016'	254000	400047'	02100		JRST	PCMD		;YES--OPEN COMMAND FILE
BOPENINFILSPECC	400017'	050040	000020'	02200		OPEN	INFIL,SPEC
BJRSTBDEVC	400020'	254000	400153'	02300		JRST	BDEV
BLOOKUPINFILFILNAMC	400021'	076040	000023'	02400		LOOKUP	INFIL,FILNAM
BJRSTRERRC	400022'	254000	400161'	02500		JRST	RERR		;CANT OPEN FILE
BMOVEIWDDREADC	400023'	201440	000445'	02600		MOVEI	WD,DREAD
BEXCHWDJOBFFC	400024'	250440	000000*	02700		EXCH	WD,JOBFF
BINBUFINFILC	400025'	064040	000010	02800		INBUF	INFIL,10		;10 INPUT BUFFERS
BMOVEMWDJOBFFC	400026'	202440	400024*	02900		MOVEM	WD,JOBFF
BMOVEIWDC	400027'	201440	000000	03000		MOVEI	WD,0		;STORAGE FOR CHECKSUM
BC
BC				03200	;CHECKSUM LOOP
BILPREADC	400030'	260740	400141'	03300	ILP:	READ			;READ A WORD
BJRSTEOFC	400031'	254000	400036'	03400		JRST	EOF		;END OF FILE
BROTWDC	400032'	241440	000007	03500		ROT	WD,7
BXORWDCHC	400033'	430440	000012	03600		XOR	WD,CH
BAOJWDC	400034'	340440	000000	03700		AOJ	WD,0
BJRSTILPC	400035'	254000	400030'	03800		JRST	ILP
BC
BEOFCLOSEINFILC	400036'	070040	000010	04000	EOF:	CLOSE	INFIL,10	;DELETE ACCESS TABLE
BJUMPEWDEMTC	400037'	322440	400045'	04100		JUMPE	WD,EMT
BMOVEAWDC	400040'	200040	000011	04200		MOVE	A,WD
BTLZAC	400041'	621040	400000	04300		TLZ	A,400000
BTRIGRC	400042'	260740	400115'	04400		TRIGR
BTRIGRC	400043'	260740	400115'	04500		TRIGR
BJRSTFOUTC	400044'	254000	400070'	04600		JRST	FOUT
BC
BEMTMSGOUTSTRASCIZC	400045'	051140	002507'	04800	EMT:	MSG	<EMPTY FILE: >
BJRSTFOUTC	400046'	254000	400070'	04900		JRST	FOUT
BC
BC
BC				05200	;OPEN AS COMMAND FILE
BPCMDINITDSKC	400047'	041100	000000	05300	PCMD:	INIT	DSK,0		;INIT DISK
BSIXBITDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 3-2
CKSUM.MAC	17-JUL-73 21:59		LET'S GO!

BC	400050'	446353	000000	05400		SIXBIT	/DSK/
BEXPHBUFC	400051'	000000	000034'	05500		EXP	HBUF		;INPUT ONLY
BJRSTBDEVC	400052'	254000	400153'	05600		JRST	BDEV		;BAD DEVICE
BMOVEIXDBUFC	400053'	201200	000037'	05700		MOVEI	X,DBUF
BEXCHXJOBFFC	400054'	250200	400026*	05800		EXCH	X,JOBFF		;FIDDLE WITH BUFFERS
BINBUFDSKC	400055'	064100	000002	05900		INBUF	DSK,2		;TWO DISC BUFFERS
BMOVEMXJOBFFC	400056'	202200	400054*	06000		MOVEM	X,JOBFF		;RESET JOBFF
BLOOKUPDSKFILNAMC	400057'	076100	000023'	06100		LOOKUP	DSK,FILNAM	;TRY AND READ FROM IT
BJRSTPCMD1C	400060'	254000	400063'	06200		JRST	PCMD1		;CANNOT OPEN FILE
BSETOMDSKCHNC	400061'	476000	002475'	06300		SETOM	DSKCHN		;SET DISC CHANNEL ACTIVE FLAG
BJRSTLPC	400062'	254000	400005'	06400		JRST	LP		;AND GO TO IT
BC
BPCMD1SKIPEFILNAMC	400063'	332000	000024'	06600	PCMD1:	SKIPE	FILNAM+1	;NO EXT SPECIFIED?
BJRSTRERRC	400064'	254000	400161'	06700		JRST	RERR		;YES EXT THERE--BAD FILE
BMOVSIX1SIXBITC	400065'	205600	435544	06800		MOVSI	X1,(SIXBIT /CMD/)
BMOVEMX1FILNAMC	400066'	202600	000024'	06900		MOVEM	X1,FILNAM+1	;SET .CMD STUFF
BJRSTPCMDC	400067'	254000	400047'	07000		JRST	PCMD		;AND TRY AGAIN
BC
BC
BC				07300	;HERE TO TYPE SPACE, FILE NAME, CR, LF AND JRST START
BFOUTSKIPNDSKCHNC	400070'	336000	002475'	07400	FOUT:	SKIPN	DSKCHN		;DISC ACTIVE FLAG ?
BSKIPE%TYPOC	400071'	332000	002500'	07500		SKIPE	%TYPO		;TYPE OUT FLAG SET?
BJRSTC	400072'	254000	400074'	07600		JRST	.+2		;YES SET
BJRSTFOUT1C	400073'	254000	400113'	07700		JRST	FOUT1		;NO - NO FILE NAME
BFOUTGTCOC	400074'	051040	002512'	07800	FOUTG:	TCO	[" "]
BSKIPNCHUSRNAMC	400075'	336500	000027'	07900		SKIPN	CH,USRNAM
BJRSTFOUT2C	400076'	254000	400104'	08000		JRST	FOUT2
BTCOC	400077'	051040	002513'	08100		TCO	["("]
BSIXOUTC	400100'	260740	400344'	08200		SIXOUT
BSKIPECHUSRNAMC	400101'	332500	000030'	08300		SKIPE	CH,USRNAM+1
BSIXOUTC	400102'	260740	400344'	08400		SIXOUT
BTCOC	400103'	051040	002514'	08500		TCO	[")"]
BFOUT2SKIPECHFILNAMC	400104'	332500	000023'	08600	FOUT2:	SKIPE	CH,FILNAM
BSIXOUTC	400105'	260740	400344'	08700		SIXOUT
BSKIPNCHFILNAMC	400106'	336500	000024'	08800		SKIPN	CH,FILNAM+1
BJRSTC	400107'	254000	400113'	08900		JRST	.+4
BANDCHC	400110'	404500	002515'	09000		AND	CH,[777777,,000000]	;VER.4.3 FIXES EXT.BUG
BTCOC	400111'	051040	002516'	09100		TCO	["."]
BSIXOUTC	400112'	260740	400344'	09200		SIXOUT
BFOUT1OUTSTRASCIZC				09300	FOUT1:	OUTSTR	[ASCIZ /
BC	400113'	051140	002517'	09400	/]
BJRSTSTARTC	400114'	254000	400002'	09500		JRST	START
BSUBTTLDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 4
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC				00100	SUBTTL	SUBROUTINES
BC
BSUBRTRIGROPDEFPUSHJPTRIGRC	400115'			00300	SUBR TRIGR
BCONSC	400115'	260740	400121'	00400		CONS
BIDIVIAC	400116'	231040	000005	00500		IDIVI	A,5
BMOVECHVOWTBC	400117'	200502	400134'	00600		MOVE	CH,VOWT(B)
BTCOCHC	400120'	051040	000012	00700		TCO	CH
BC
BSUBRCONSOPDEFPUSHJPCONSC	400121'			00900	SUBR CONS
BMOVEICC	400121'	201240	000025	01000		MOVEI	C,25
BIDIVACC	400122'	230040	000005	01100		IDIV	A,C
BMOVEICHBC	400123'	201502	000101	01200		MOVEI	CH,101(B)
BMOVSIDC	400124'	205300	777773	01300		MOVSI	D,-5
BCAMNCHVOWTDC	400125'	316506	400134'	01400		CAMN	CH,VOWT(D)
BJRSTC	400126'	254000	400131'	01500		JRST	.+3
BAOBJNDC	400127'	253300	400125'	01600		AOBJN	D,.-2
BJRSTC	400130'	254000	400132'	01700		JRST	.+2
BMOVEICHDC	400131'	201506	000126	01800		MOVEI	CH,126(D)
BTCOCHC	400132'	051040	000012	01900		TCO	CH
BRETC	400133'	263740	000000	02000		RET
BC
BVOWTC	400134'	000000	000101	02200	VOWT:	101
BC	400135'	000000	000105	02300		105
BC	400136'	000000	000111	02400		111
BC	400137'	000000	000117	02500		117
BC	400140'	000000	000125	02600		125
BSUBRREADOPDEFPUSHJPREADDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 5
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC	400141'			00100	SUBR READ
BSOSLEDIBC	400141'	373000	000033'	00200		SOSLE	DIB+2
BJRSTRDOKC	400142'	254000	400150'	00300		JRST	RDOK
BINPUTINFILC	400143'	066040	000000	00400		INPUT	INFIL,0
BSTATZINFILC	400144'	063040	740000	00500		STATZ	INFIL,740000
BJRSTRDERRC	400145'	254000	400157'	00600		JRST	RDERR
BSTATZINFILC	400146'	063040	020000	00700		STATZ	INFIL,20000
BRETC	400147'	263740	000000	00800		RET
BRDOKILDBCHDIBC	400150'	134500	000032'	00900	RDOK:	ILDB	CH,DIB+1
BCPOPJ1AOSPC	400151'	350017	000000	01000	CPOPJ1:	AOS	0(P)
BRETC	400152'	263740	000000	01100		RET
BC
BBDEVMSGOUTSTRASCIZC	400153'	051140	002520'	01300	BDEV:	MSG	<CANT INIT DEVICE: >
BMOVECHSPECC	400154'	200500	000021'	01400		MOVE	CH,SPEC+1
BSIXOUTC	400155'	260740	400344'	01500		SIXOUT
BJRSTFOUT1C	400156'	254000	400113'	01600		JRST	FOUT1
BC
BRDERRMSGOUTSTRASCIZC	400157'	051140	002524'	01800	RDERR:	MSG	<READ ERROR ON FILE: >
BJRSTFOUTGC	400160'	254000	400074'	01900		JRST	FOUTG
BC
BRERRHRRZCHFILNAMC	400161'	550500	000024'	02100	RERR:	HRRZ	CH,FILNAM+1
BOUTSTRMSSG1C				02200		OUTSTR	@[MSSG1
BMSSG2C				02300			MSSG2
BMSSG3C				02400			MSSG3
BMSSG4C				02500			MSSG4
BMSSGNLC				02600			MSSGNL
BMSSG7C				02700			MSSG7
BREPEATMSSGNLMSSGNLMSSGNLMSSGNLMSSGNLMSSGNLC				02800			REPEAT 6,<MSSGNL>
BMSSG8C				02900			MSSG8
BMSSG9C				03000			MSSG9
BMSSG10C				03100			MSSG10
BMSSG11C				03200			MSSG11
BMSSG12CHC	400162'	051172	002531'	03300			MSSG12](CH)
BJRSTFOUTGC	400163'	254000	400074'	03400		JRST	FOUTG
BC
BMSSG1ASCIZC	400164'	432231	442500	03600	MSSG1:	ASCIZ	/FILE NOT FOUND:/
	400165'	472372	420214
	400166'	476531	642164
	400167'	000000	000000
BMSSG2ASCIZC	400170'	446352	640630	03700	MSSG2:	ASCIZ	/INVALID USER NAME USED ON FILE:/
	400171'	446104	052646
	400172'	426444	047202
	400173'	466124	052646
	400174'	426104	047634
	400175'	202151	146212
	400176'	350000	000000
BMSSG3ASCIZC	400177'	502451	752212	03800	MSSG3:	ASCIZ	/PROTECTION FAILURE ON FILE:/
	400200'	416511	147634
	400201'	202150	144630
	400202'	526450	520236
	400203'	471010	644630
	400204'	425640	000000
BMSSG4ASCIZC	400205'	432231	442500	03900	MSSG4:	ASCIZ	/FILE BUSY:/
CKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 5-2
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

	400206'	412532	354564
	400207'	000000	000000
BMSSG7ASCIZC	400210'	446311	442616	04000	MSSG7:	ASCIZ	/ILLEGAL LOOKUP-ENTER PROCEEDURE ON FILE:/
	400211'	406304	046236
	400212'	476272	550132
	400213'	426352	442644
	400214'	202412	247606
	400215'	426130	452644
	400216'	425011	747100
	400217'	432231	442564
	400220'	000000	000000
BMSSG8ASCIZC	400221'	432070	651500	04100	MSSG8:	ASCIZ	/FCFS QUOTA EXCEEDED ON THIS FILE:/
	400222'	506531	752202
	400223'	202133	041612
	400224'	426110	542100
	400225'	476344	052220
	400226'	446464	043222
	400227'	462127	200000
BMSSG9ASCIZC	400230'	432231	442500	04200	MSSG9:	ASCIZ	/FILE STRUCTURE WRITE-LOCKED ON DEVICE:/
	400231'	516512	252606
	400232'	522532	242500
	400233'	536451	152212
	400234'	266311	741626
	400235'	426104	047634
	400236'	202110	553222
	400237'	416127	200000
BMSSG10ASCIZC	400240'	522030	246212	04300	MSSG10:	ASCIZ	/TABLE SPACE FULL IN MONITOR FOR FILE:/
	400241'	202472	040606
	400242'	425010	652630
	400243'	461011	147100
	400244'	466371	644650
	400245'	476444	043236
	400246'	511010	644630
	400247'	425640	000000
BMSSG11ASCIZC	400250'	502032	252222	04400	MSSG11:	ASCIZ	/PARTIAL ALLOCATION ONLY ON FILE:/
	400251'	406304	040630
	400252'	462370	340650
	400253'	446371	620236
	400254'	472313	120236
	400255'	471010	644630
	400256'	425640	000000
BMSSG12ASCIZC	400257'	412311	741626	04500	MSSG12:	ASCIZ	/BLOCK NOT FREE ON FILE:/
	400260'	202351	752100
	400261'	432450	542500
	400262'	476344	043222
	400263'	462127	200000
BMSSGNLASCIZC	400264'	516632	352212	04600	MSSGNL:	ASCIZ	/SYSTEM ERROR ON FILE:/
	400265'	465010	551244
	400266'	476444	047634
	400267'	202151	146212
	400270'	350000	000000
BSUBRFNAMEOPDEFPUSHJPFNAMEDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 6
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC	400271'			00100	SUBR FNAME
BMOVSIX1SIXBITC	400271'	205600	446353	00200		MOVSI	X1,(SIXBIT .DSK.)
BMOVEMX1SPECC	400272'	202600	000021'	00300		MOVEM	X1,SPEC+1
BSETZMFILNAMC	400273'	402000	000023'	00400		SETZM	FILNAM
BMOVEX1FILNAMFILNAMC	400274'	200600	002552'	00500		MOVE	X1,[FILNAM,,FILNAM+1]
BBLTX1USRNAMC	400275'	251600	000030'	00600		BLT	X1,USRNAM+1
BC
BFNAME1ATOMXC	400276'	260740	400407'	00800	FNAME1:	ATOMX
BCAIECHC	400277'	302500	000050	00900		CAIE	CH,"("
BJRSTFNAME2C	400300'	254000	400314'	01000		JRST	FNAME2
BSKIPEUSRNAMC	400301'	332000	000027'	01100		SKIPE	USRNAM
BJRSTFILERRC	400302'	254000	400426'	01200		JRST	FILERR
BJUMPNX1FILERRC	400303'	326600	400426'	01300		JUMPN	X1,FILERR
BATOMXC	400304'	260740	400407'	01400		ATOMX
BCAIECHC	400305'	302500	000051	01500		CAIE	CH,")"
BJRSTFILERRC	400306'	254000	400426'	01600		JRST	FILERR
BMOVEMX1USRNAMC	400307'	202600	000027'	01700		MOVEM	X1,USRNAM
BMOVEMX2USRNAMC	400310'	202640	000030'	01800		MOVEM	X2,USRNAM+1
BMOVEICHUSRNAMC	400311'	201500	000027'	01900		MOVEI	CH,USRNAM
BMOVEMCHFILNAMC	400312'	202500	000026'	02000		MOVEM	CH,FILNAM+3
BJRSTFNAME1C	400313'	254000	400276'	02100		JRST	FNAME1
BC
BFNAME2CAIECHC	400314'	302500	000056	02300	FNAME2:	CAIE	CH,"."
BJRSTFNAME3C	400315'	254000	400352'	02400		JRST	FNAME3
BSKIPEFILNAMC	400316'	332000	000023'	02500		SKIPE	FILNAM
BJRSTFILERRC	400317'	254000	400426'	02600		JRST	FILERR
BMOVEMX1FILNAMC	400320'	202600	000023'	02700		MOVEM	X1,FILNAM
BJRSTFNAME1C	400321'	254000	400276'	02800		JRST	FNAME1
BSUBRGNCOPDEFPUSHJPGNCDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 7
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC	400322'			00100	SUBR GNC
BSKIPEDSKCHNC	400322'	332000	002475'	00200		SKIPE	DSKCHN		;SKIP=TTY INPUT, ELSE DISC
BJRSTGNCDC	400323'	254000	400326'	00300		JRST	GNCD		;GET FROM DISC
BTCICHC	400324'	051200	000012	00400		TCI	CH		;GET CHARACTER FROM TTY
BRETC	400325'	263740	000000	00500		RET
BC
BGNCDSOSLHBUFC	400326'	371000	000036'	00700	GNCD:	SOSL	HBUF+2
BJRSTGNCD1C	400327'	254000	400333'	00800		JRST	GNCD1		;SOMETHING THERE
BINDSKC	400330'	056100	000000	00900		IN	DSK,		;MUST RELOAD BUFFERS
BJRSTGNCC	400331'	254000	400322'	01000		JRST	GNC		;GET CHARACTER
BJRSTRESTARC	400332'	254000	400000'	01100		JRST	RESTAR		;AND RESTARING WE WILL GO
BC
BGNCD1ILDBCHHBUFC	400333'	134500	000035'	01300	GNCD1:	ILDB	CH,HBUF+1
BJUMPECHGNCC	400334'	322500	400322'	01400		JUMPE	CH,GNC		;IGNORE NULLS
BHRRZSCRHBUFC	400335'	550340	000035'	01500		HRRZ	SCR,HBUF+1
BMOVESCRSCRC	400336'	200347	000000	01600		MOVE	SCR,0(SCR)
BTRNESCRC	400337'	602340	000001	01700		TRNE	SCR,1		;BIT 1 SAYS IGNORE WORD
BJRSTGNCC	400340'	254000	400322'	01800		JRST	GNC		;IGNORE IT
BCAINCHC	400341'	306500	000011	01900		CAIN	CH,11		;CONTROL-I
BJRSTGNCC	400342'	254000	400322'	02000		JRST	GNC		;IGNORE IT
BRETC	400343'	263740	000000	02100		RET
BC
BC				02300	;PRINT "CH" AS SIXBIT
BSUBRSIXOUTOPDEFPUSHJPSIXOUTC	400344'			02400	SUBR SIXOUT
BMOVEIWDC	400344'	201440	000000	02500		MOVEI	WD,0
BLSHCWDC	400345'	246440	000006	02600		LSHC	WD,6
BJUMPEWDRETC	400346'	322440	002553'	02700		JUMPE	WD,[RET]
BADDIWDC	400347'	271440	000040	02800		ADDI	WD,40
BTCOWDC	400350'	051040	000011	02900		TCO	WD
BJRSTSIXOUTC	400351'	254000	400344'	03000		JRST	SIXOUT
CKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 8
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC
BFNAME3CAIECHC	400352'	302500	000072	00200	FNAME3:	CAIE	CH,":"
BJRSTFNAME4C	400353'	254000	400356'	00300		JRST	FNAME4
BMOX1SPECC	400354'	202600	000021'	00400		MOVEM	X1,SPEC+1
BJRSTFNAME1C	400355'	254000	400276'	00500		JRST	FNAME1
BC
BFNAME4CAIECHC	400356'	302500	000040	00700	FNAME4:	CAIE	CH," "		;IF A SPACE OR A
BCAINCHC	400357'	306500	000054	00800		CAIN	CH,","		;COMMA THEN DELIMIT FILE NAME
BJRSTFNAME8C	400360'	254000	400371'	00900		JRST	FNAME8		;OK DELIMETER
BC
BFNAME7CAIECHC	400361'	302500	000015	01100	FNAME7:	CAIE	CH,15
BCAINCHC	400362'	306500	000012	01200		CAIN	CH,12
BJRSTC	400363'	254000	400365'	01300		JRST	.+2
BJRSTFILERRC	400364'	254000	400426'	01400		JRST	FILERR
BCAIECHC	400365'	302500	000015	01500		CAIE	CH,15
BTCOC	400366'	051040	002554'	01600		TCO	[15]
BCAIECHC	400367'	302500	000012	01700		CAIE	CH,12		;IF C.R.
BGNCC	400370'	260740	400322'	01800		GNC			;REMOVE L.F.
BFNAME8MOVEMCHDELIMC	400371'	202500	002477'	01900	FNAME8:	MOVEM	CH,DELIM	;SAVE DELIMETER FOR FNAME
BCAIECHC	400372'	302500	000040	02000		CAIE	CH," "
BCAINCHC	400373'	306500	000054	02100		CAIN	CH,","
BSETOM%TYPO%TYPOC	400374'	476000	002500'	02200		SETOM	%TYPO#
BJUMPEX1FNAME6C	400375'	322600	400403'	02300		JUMPE	X1,FNAME6
BSKIPEFILNAMC	400376'	332000	000023'	02400		SKIPE	FILNAM
BJRSTFNAME5C	400377'	254000	400402'	02500		JRST	FNAME5
BMOVEMX1FILNAMC	400400'	202600	000023'	02600		MOVEM	X1,FILNAM
BJRSTFNAME6C	400401'	254000	400403'	02700		JRST	FNAME6
BFNAME5MOVEMX1FILNAMC	400402'	202600	000024'	02800	FNAME5:	MOVEM	X1,FILNAM+1
BC
BFNAME6SKIPEFILNAMC	400403'	332000	000023'	03000	FNAME6:	SKIPE	FILNAM
BRETC	400404'	263740	000000	03100		RET
BEXITC	400405'	047040	000012	03200		EXIT	1,
BJRSTC	400406'	254000	400405'	03300		JRST	.-1
BC
BSUBRATOMXOPDEFPUSHJPATOMXC	400407'			03500	SUBR ATOMX
BMOVEWDPOINTX1C	400407'	200440	002555'	03600		MOVE	WD,[POINT 6,X1]
BMOVEIX3C	400410'	201700	000012	03700		MOVEI	X3,12
BSETZBX1X2C	400411'	403600	000015	03800		SETZB	X1,X2
BC
BATOMX1GNCC	400412'	260740	400322'	04000	ATOMX1:	GNC
BCAINCHC	400413'	306500	000100	04100		CAIN	CH,"@"		;INDIRECT FLAG?
BJRSTSETOMCMDFILC				04200		JRST	[SETOM CMDFIL
BJRSTATOMX1C	400414'	254000	002556'	04300			JRST ATOMX1]
BMOVEAPOINTBYTEC	400415'	200040	002562'	04400		MOVE	A,[POINT 7, [BYTE(7)15, 12, " ", ",", ".", "(", ")", ":", 0]]
BILDBBAC	400416'	134100	000001	04500		ILDB	B,A
BCAMNCHBC	400417'	316500	000002	04600		CAMN	CH,B
BRETC	400420'	263740	000000	04700		RET
BJUMPNBC	400421'	326100	400416'	04800		JUMPN	B,.-3
BSUBICHC	400422'	275500	000040	04900		SUBI	CH,40
BSOJLEX3ATOMX1C	400423'	363700	400412'	05000		SOJLE	X3,ATOMX1
BIDPBCHWDC	400424'	136500	000011	05100		IDPB	CH,WD
BJRSTATOMX1C	400425'	254000	400412'	05200		JRST	ATOMX1
BC
BFILERRMSGOUTSTRASCIZDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 8-2
CKSUM.MAC	17-JUL-73 21:59		SUBROUTINES

BC	400426'	051140	002563'	05400	FILERR:	MSG	<FILE NAME SYNTAX ERROR>
BEXITC	400427'	047000	000012	05500		EXIT
BSUBTTLDCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 9
CKSUM.MAC	17-JUL-73 21:59		CONSTANTS

BC				00100	SUBTTL	CONSTANTS
BC
BRELOCC	000000'			00300		RELOC	0		;GOING INTO LOW SEG
BC
BPDLBLOCKC	000000'			00500	PDL:	BLOCK	20
BC
BSPECOCTC	000020'	000000	000014	00700	SPEC:	OCT	14
BC	000021'	000000	000000	00800		0
BXWDDIBC	000022'	000000	000031'	00900		XWD	0,DIB
BC
BFILNAMBLOCKC	000023'			01100	FILNAM:	BLOCK	4
BUSRNAMBLOCKC	000027'			01200	USRNAM:	BLOCK	2
BC
BDIBBLOCKC	000031'			01400	DIB:	BLOCK	3
BC
BHBUFBLOCKC	000034'			01600	HBUF:	BLOCK	3		;COMMAND FILE DISC READ BUFFER
BDBUFBLOCKC	000037'			01700	DBUF:	BLOCK	203*2		;TWO DISC BUFFERS
BDREADBLOCKC	000445'			01800	DREAD:	BLOCK	203*10		;CHECKSUM 10 BUFFERS
BDSKCHNBLOCKC	002475'			01900	DSKCHN:	BLOCK	1		;#0 IF COMMAND FILE
BCMDFILBLOCKC	002476'			02000	CMDFIL:	BLOCK	1
BDELIMOCTC	002477'	000000	000015	02100	DELIM:	OCT	15		;LAST CHAR TYPED ON FNAME
BC
BENDRESTARC			400000'	02300		END	RESTAR
BCKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73
CKSUM.MAC	17-JUL-73 21:59		C
NO ERRORS DETECTED
HI-SEG. BREAK IS 400430
LO-SEG. BREAK IS 002570
3K CORE USED
CKSUM -- VERSION 4.3-0.0	MACRO 46-7 21:59 17-JUL-73 PAGE 10
CKSUM.MAC	17-JUL-73 21:59		SYMBOL TABLE

A		000001		MSSG1		400164'		
ATOMX		400407'		MSSG10		400240'		
ATOMX	260740	400407'		MSSG11		400250'		
ATOMX1		400412'		MSSG12		400257'		
B		000002		MSSG2		400170'		
BDEV		400153'		MSSG3		400177'		
C		000005		MSSG4		400205'		
CH		000012		MSSG7		400210'		
CMDFIL		002476'		MSSG8		400221'		
CONS		400121'		MSSG9		400230'		
CONS	260740	400121'		MSSGNL		400264'		
CPOPJ1		400151'		N		000003		
D		000006		OUTCHR	051040	000000		
DBUF		000037'		OUTSTR	051140	000000		
DECREL		000000	SPD	P		000017		
DECSPC		000000	SPD	PCMD		400047'		
DELIM		002477'		PCMD1		400063'		
DIB		000031'		PDL		000000'		
DOTF		000010	SPD	PJ	260740	000000		
DREAD		000445'		PJRST	254000	000000		
DSK		000002	SPD	PSH	261740	000000		
DSKCHN		002475'		PUL	262740	000000		
EMT		400045'		RDERR		400157'		
EOF		400036'		RDOK		400150'		
EXIT	047000	000012		READ		400141'		
F		000000		READ	260740	400141'		
FILERR		400426'		RERR		400161'		
FILNAM		000023'		RESET	047000	000000		
FNAME		400271'		RESTAR		400000'		
FNAME	260740	400271'		RET	263740	000000		
FNAME1		400276'		SCR		000007	SPD	
FNAME2		400314'		SIXOUT		400344'		
FNAME3		400352'		SIXOUT	260740	400344'		
FNAME4		400356'		SPEC		000020'		
FNAME5		400402'		START		400002'		
FNAME6		400403'		TCI	051200	000000		
FNAME7		400361'		TCO	051040	000000		
FNAME8		400371'		TRIGR		400115'		
FOUT		400070'		TRIGR	260740	400115'		
FOUT1		400113'		TYMREL		000003	SPD	
FOUT2		400104'		TYMSPC		000004	SPD	
FOUTG		400074'		USRNAM		000027'		
GNC		400322'		VCKSUM	000004	000003	SPD	
GNC	260740	400322'		VOWT		400134'		
GNCD		400326'		WD		000011		
GNCD1		400333'		X		000004		
HBUF		000034'		X1		000014		
ILP		400030'		X2		000015		
INCHWL	051200	000000		X3		000016		
INFIL		000001	SPD	%TYPO		002500'		
JOBFF		400056'	EXT	
LP		400005'		
 }U+w